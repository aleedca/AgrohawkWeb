/*! For license information please see main.0a576218.js.LICENSE.txt */
(()=>{"use strict";var t={730:(t,e,n)=>{var i=n(43),r=n(853);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(a[t]=e,t=0;t<e.length;t++)o.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(t,e,n,i,r,s,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function b(t,e,n,i){var r=m.hasOwnProperty(e)?m[e]:null;(null!==r?0!==r.type:i||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!h.call(p,t)||!h.call(f,t)&&(d.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var x=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function O(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=R&&t[R]||t["@@iterator"])?t:null}var L,j=Object.assign;function F(t){if(void 0===L)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var V=!1;function z(t,e){if(!t||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=i.stack.split("\n"),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||r[o]!==s[a]){var l="\n"+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=o&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?F(t):""}function B(t){switch(t.tag){case 5:return F(t.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return t=z(t.type,!1);case 11:return t=z(t.type.render,!1);case 1:return t=z(t.type,!0);default:return""}}function U(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case S:return"Fragment";case _:return"Portal";case E:return"Profiler";case k:return"StrictMode";case M:return"Suspense";case I:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case T:return(t.displayName||"Context")+".Consumer";case C:return(t._context.displayName||"Context")+".Provider";case D:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case N:return null!==(e=t.displayName||null)?e:U(t.type)||"Memo";case A:e=t._payload,t=t._init;try{return U(t(e))}catch(n){}}return null}function H(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(e);case 8:return e===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function W(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function q(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function K(t){t._valueTracker||(t._valueTracker=function(t){var e=q(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Q(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=q(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function G(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Y(t,e){var n=e.checked;return j({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function $(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=W(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function X(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function J(t,e){X(t,e);var n=W(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,W(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&G(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+W(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function it(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return j({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(et(n)){if(1<n.length)throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:W(n)}}function st(t,e){var n=W(e.value),i=W(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function ot(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,ht=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction((function(){return ut(t,e)}))}:ut);function dt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function gt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=gt(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(ft).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var vt=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(t,e){if(e){if(vt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=null;function wt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var _t=null,St=null,kt=null;function Et(t){if(t=br(t)){if("function"!==typeof _t)throw Error(s(280));var e=t.stateNode;e&&(e=wr(e),_t(t.stateNode,t.type,e))}}function Ct(t){St?kt?kt.push(t):kt=[t]:St=t}function Tt(){if(St){var t=St,e=kt;if(kt=St=null,Et(t),e)for(t=0;t<e.length;t++)Et(e[t])}}function Dt(t,e){return t(e)}function Mt(){}var It=!1;function Nt(t,e,n){if(It)return t(e,n);It=!0;try{return Dt(t,e,n)}finally{It=!1,(null!==St||null!==kt)&&(Mt(),Tt())}}function At(t,e){var n=t.stateNode;if(null===n)return null;var i=wr(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}var Pt=!1;if(u)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){Pt=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch(ut){Pt=!1}function Ot(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Lt=!1,jt=null,Ft=!1,Vt=null,zt={onError:function(t){Lt=!0,jt=t}};function Bt(t,e,n,i,r,s,o,a,l){Lt=!1,jt=null,Ot.apply(zt,arguments)}function Ut(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Ht(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Wt(t){if(Ut(t)!==t)throw Error(s(188))}function qt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Ut(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Wt(r),t;if(o===i)return Wt(r),e;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=o;break}if(l===i){a=!0,i=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=r;break}if(l===i){a=!0,i=o,n=r;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t))?Kt(t):null}function Kt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Kt(t);if(null!==e)return e;t=t.sibling}return null}var Qt=r.unstable_scheduleCallback,Gt=r.unstable_cancelCallback,Yt=r.unstable_shouldYield,$t=r.unstable_requestPaint,Xt=r.unstable_now,Jt=r.unstable_getCurrentPriorityLevel,Zt=r.unstable_ImmediatePriority,te=r.unstable_UserBlockingPriority,ee=r.unstable_NormalPriority,ne=r.unstable_LowPriority,ie=r.unstable_IdlePriority,re=null,se=null;var oe=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/le|0)|0},ae=Math.log,le=Math.LN2;var ce=64,ue=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var n=t.pendingLanes;if(0===n)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=268435455&n;if(0!==o){var a=o&~r;0!==a?i=he(a):0!==(s&=o)&&(i=he(s))}else 0!==(o=n&~r)?i=he(o):0!==s&&(i=he(s));if(0===i)return 0;if(0!==e&&e!==i&&0===(e&r)&&((r=i&-i)>=(s=e&-e)||16===r&&0!==(4194240&s)))return e;if(0!==(4&i)&&(i|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)r=1<<(n=31-oe(e)),i|=t[n],e&=~r;return i}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ve(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-oe(e)]=n}function ye(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-oe(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var be=0;function xe(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var we,_e,Se,ke,Ee,Ce=!1,Te=[],De=null,Me=null,Ie=null,Ne=new Map,Ae=new Map,Pe=[],Re="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oe(t,e){switch(t){case"focusin":case"focusout":De=null;break;case"dragenter":case"dragleave":Me=null;break;case"mouseover":case"mouseout":Ie=null;break;case"pointerover":case"pointerout":Ne.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ae.delete(e.pointerId)}}function Le(t,e,n,i,r,s){return null===t||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==e&&(null!==(e=br(e))&&_e(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function je(t){var e=yr(t.target);if(null!==e){var n=Ut(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Ht(n)))return t.blockedOn=e,void Ee(t.priority,(function(){Se(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Fe(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ye(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=br(n))&&_e(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);xt=i,n.target.dispatchEvent(i),xt=null,e.shift()}return!0}function Ve(t,e,n){Fe(t)&&n.delete(e)}function ze(){Ce=!1,null!==De&&Fe(De)&&(De=null),null!==Me&&Fe(Me)&&(Me=null),null!==Ie&&Fe(Ie)&&(Ie=null),Ne.forEach(Ve),Ae.forEach(Ve)}function Be(t,e){t.blockedOn===e&&(t.blockedOn=null,Ce||(Ce=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ze)))}function Ue(t){function e(e){return Be(e,t)}if(0<Te.length){Be(Te[0],t);for(var n=1;n<Te.length;n++){var i=Te[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==De&&Be(De,t),null!==Me&&Be(Me,t),null!==Ie&&Be(Ie,t),Ne.forEach(e),Ae.forEach(e),n=0;n<Pe.length;n++)(i=Pe[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Pe.length&&null===(n=Pe[0]).blockedOn;)je(n),null===n.blockedOn&&Pe.shift()}var He=x.ReactCurrentBatchConfig,We=!0;function qe(t,e,n,i){var r=be,s=He.transition;He.transition=null;try{be=1,Qe(t,e,n,i)}finally{be=r,He.transition=s}}function Ke(t,e,n,i){var r=be,s=He.transition;He.transition=null;try{be=4,Qe(t,e,n,i)}finally{be=r,He.transition=s}}function Qe(t,e,n,i){if(We){var r=Ye(t,e,n,i);if(null===r)Wi(t,e,i,Ge,n),Oe(t,i);else if(function(t,e,n,i,r){switch(e){case"focusin":return De=Le(De,t,e,n,i,r),!0;case"dragenter":return Me=Le(Me,t,e,n,i,r),!0;case"mouseover":return Ie=Le(Ie,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Ne.set(s,Le(Ne.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Ae.set(s,Le(Ae.get(s)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i))i.stopPropagation();else if(Oe(t,i),4&e&&-1<Re.indexOf(t)){for(;null!==r;){var s=br(r);if(null!==s&&we(s),null===(s=Ye(t,e,n,i))&&Wi(t,e,i,Ge,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else Wi(t,e,i,null,n)}}var Ge=null;function Ye(t,e,n,i){if(Ge=null,null!==(t=yr(t=wt(i))))if(null===(e=Ut(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Ht(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ge=t,null}function $e(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Zt:return 1;case te:return 4;case ee:case ne:return 16;case ie:return 536870912;default:return 16}default:return 16}}var Xe=null,Je=null,Ze=null;function tn(){if(Ze)return Ze;var t,e,n=Je,i=n.length,r="value"in Xe?Xe.value:Xe.textContent,s=r.length;for(t=0;t<i&&n[t]===r[t];t++);var o=i-t;for(e=1;e<=o&&n[i-e]===r[s-e];e++);return Ze=r.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function sn(t){function e(e,n,i,r,s){for(var o in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=j({},cn,{view:0,detail:0}),dn=sn(hn),fn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(on=t.screenX-ln.screenX,an=t.screenY-ln.screenY):an=on=0,ln=t),on)},movementY:function(t){return"movementY"in t?t.movementY:an}}),pn=sn(fn),gn=sn(j({},fn,{dataTransfer:0})),mn=sn(j({},hn,{relatedTarget:0})),vn=sn(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bn=sn(yn),xn=sn(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function En(){return kn}var Cn=j({},hn,{key:function(t){if(t.key){var e=wn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?_n[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Tn=sn(Cn),Dn=sn(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=sn(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),In=sn(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=j({},fn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),An=sn(Nn),Pn=[9,13,27,32],Rn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,jn=u&&(!Rn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),Vn=!1;function zn(t,e){switch(t){case"keyup":return-1!==Pn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Un=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Hn[t.type]:"textarea"===e}function qn(t,e,n,i){Ct(i),0<(e=Ki(e,"onChange")).length&&(n=new un("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Kn=null,Qn=null;function Gn(t){Fi(t,0)}function Yn(t){if(Q(xr(t)))return t}function $n(t,e){if("change"===t)return e}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var ti=document.createElement("div");ti.setAttribute("oninput","return;"),Zn="function"===typeof ti.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function ei(){Kn&&(Kn.detachEvent("onpropertychange",ni),Qn=Kn=null)}function ni(t){if("value"===t.propertyName&&Yn(Qn)){var e=[];qn(e,Qn,t,wt(t)),Nt(Gn,e)}}function ii(t,e,n){"focusin"===t?(ei(),Qn=n,(Kn=e).attachEvent("onpropertychange",ni)):"focusout"===t&&ei()}function ri(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Yn(Qn)}function si(t,e){if("click"===t)return Yn(e)}function oi(t,e){if("input"===t||"change"===t)return Yn(e)}var ai="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function li(t,e){if(ai(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(e,r)||!ai(t[r],e[r]))return!1}return!0}function ci(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ui(t,e){var n,i=ci(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=ci(i)}}function hi(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hi(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function di(){for(var t=window,e=G();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=G((t=e.contentWindow).document)}return e}function fi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pi(t){var e=di(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&fi(n))if(e=i.start,void 0===(t=i.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=void 0===i.end?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=ui(n,s);var o=ui(n,i);r&&o&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gi=u&&"documentMode"in document&&11>=document.documentMode,mi=null,vi=null,yi=null,bi=!1;function xi(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bi||null==mi||mi!==G(i)||("selectionStart"in(i=mi)&&fi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=Ki(vi,"onSelect")).length&&(e=new un("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=mi)))}function wi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _i={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionend:wi("Transition","TransitionEnd")},Si={},ki={};function Ei(t){if(Si[t])return Si[t];if(!_i[t])return t;var e,n=_i[t];for(e in n)if(n.hasOwnProperty(e)&&e in ki)return Si[t]=n[e];return t}u&&(ki=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);var Ci=Ei("animationend"),Ti=Ei("animationiteration"),Di=Ei("animationstart"),Mi=Ei("transitionend"),Ii=new Map,Ni="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(t,e){Ii.set(t,e),l(e,[t])}for(var Pi=0;Pi<Ni.length;Pi++){var Ri=Ni[Pi];Ai(Ri.toLowerCase(),"on"+(Ri[0].toUpperCase()+Ri.slice(1)))}Ai(Ci,"onAnimationEnd"),Ai(Ti,"onAnimationIteration"),Ai(Di,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(Mi,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Li=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oi));function ji(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,r,o,a,l,c){if(Bt.apply(this,arguments),Lt){if(!Lt)throw Error(s(198));var u=jt;Lt=!1,jt=null,Ft||(Ft=!0,Vt=u)}}(i,e,void 0,t),t.currentTarget=null}function Fi(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;t:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break t;ji(r,a,c),s=l}else for(o=0;o<i.length;o++){if(l=(a=i[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break t;ji(r,a,c),s=l}}}if(Ft)throw t=Vt,Ft=!1,Vt=null,t}function Vi(t,e){var n=e[gr];void 0===n&&(n=e[gr]=new Set);var i=t+"__bubble";n.has(i)||(Hi(e,t,2,!1),n.add(i))}function zi(t,e,n){var i=0;e&&(i|=4),Hi(n,t,i,e)}var Bi="_reactListening"+Math.random().toString(36).slice(2);function Ui(t){if(!t[Bi]){t[Bi]=!0,o.forEach((function(e){"selectionchange"!==e&&(Li.has(e)||zi(e,!1,t),zi(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Bi]||(e[Bi]=!0,zi("selectionchange",!1,e))}}function Hi(t,e,n,i){switch($e(e)){case 1:var r=qe;break;case 4:r=Ke;break;default:r=Qe}n=r.bind(null,e,n,t),r=void 0,!Pt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),i?void 0!==r?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):void 0!==r?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Wi(t,e,n,i,r){var s=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==a;){if(null===(o=yr(a)))return;if(5===(l=o.tag)||6===l){i=s=o;continue t}a=a.parentNode}}i=i.return}Nt((function(){var i=s,r=wt(n),o=[];t:{var a=Ii.get(t);if(void 0!==a){var l=un,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Ci:case Ti:case Di:l=vn;break;case Mi:l=In;break;case"scroll":l=dn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Dn}var u=0!==(4&e),h=!u&&"scroll"===t,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=i;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=At(p,d))&&u.push(qi(p,g,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,r),o.push({event:a,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===xt||!(c=n.relatedTarget||n.fromElement)||!yr(c)&&!c[pr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?yr(c):null)&&(c!==(h=Ut(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(u=Dn,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:xr(l),f=null==c?a:xr(c),(a=new u(g,p+"leave",l,n,r)).target=h,a.relatedTarget=f,g=null,yr(r)===i&&((u=new u(d,p+"enter",c,n,r)).target=f,u.relatedTarget=h,g=u),h=g,l&&c)t:{for(d=c,p=0,f=u=l;f;f=Qi(f))p++;for(f=0,g=d;g;g=Qi(g))f++;for(;0<p-f;)u=Qi(u),p--;for(;0<f-p;)d=Qi(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break t;u=Qi(u),d=Qi(d)}u=null}else u=null;null!==l&&Gi(o,a,l,u,!1),null!==c&&null!==h&&Gi(o,h,c,u,!0)}if("select"===(l=(a=i?xr(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=$n;else if(Wn(a))if(Xn)m=oi;else{m=ri;var v=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=si);switch(m&&(m=m(t,i))?qn(o,m,n,r):(v&&v(t,a,i),"focusout"===t&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&tt(a,"number",a.value)),v=i?xr(i):window,t){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(mi=v,vi=i,yi=null);break;case"focusout":yi=vi=mi=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,xi(o,n,r);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":xi(o,n,r)}var y;if(Rn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Un?zn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=tn()):(Je="value"in(Xe=r)?Xe.value:Xe.textContent,Un=!0)),0<(v=Ki(i,b)).length&&(b=new xn(b,t,null,n,r),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Ln?function(t,e){switch(t){case"compositionend":return Bn(e);case"keypress":return 32!==e.which?null:(Vn=!0,Fn);case"textInput":return(t=e.data)===Fn&&Vn?null:t;default:return null}}(t,n):function(t,e){if(Un)return"compositionend"===t||!Rn&&zn(t,e)?(t=tn(),Ze=Je=Xe=null,Un=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(i=Ki(i,"onBeforeInput")).length&&(r=new xn("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=y))}Fi(o,e)}))}function qi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ki(t,e){for(var n=e+"Capture",i=[];null!==t;){var r=t,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=At(t,n))&&i.unshift(qi(t,s,r)),null!=(s=At(t,e))&&i.push(qi(t,s,r))),t=t.return}return i}function Qi(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Gi(t,e,n,i,r){for(var s=e._reactName,o=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,r?null!=(l=At(n,s))&&o.unshift(qi(n,l,a)):r||null!=(l=At(n,s))&&o.push(qi(n,l,a))),n=n.return}0!==o.length&&t.push({event:e,listeners:o})}var Yi=/\r\n?/g,$i=/\u0000|\uFFFD/g;function Xi(t){return("string"===typeof t?t:""+t).replace(Yi,"\n").replace($i,"")}function Ji(t,e,n){if(e=Xi(e),Xi(t)!==e&&n)throw Error(s(425))}function Zi(){}var tr=null,er=null;function nr(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(t){return sr.resolve(null).then(t).catch(ar)}:ir;function ar(t){setTimeout((function(){throw t}))}function lr(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return t.removeChild(r),void Ue(e);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Ue(e)}function cr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ur(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hr=Math.random().toString(36).slice(2),dr="__reactFiber$"+hr,fr="__reactProps$"+hr,pr="__reactContainer$"+hr,gr="__reactEvents$"+hr,mr="__reactListeners$"+hr,vr="__reactHandles$"+hr;function yr(t){var e=t[dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pr]||n[dr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ur(t);null!==t;){if(n=t[dr])return n;t=ur(t)}return e}n=(t=n).parentNode}return null}function br(t){return!(t=t[dr]||t[pr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function xr(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function wr(t){return t[fr]||null}var _r=[],Sr=-1;function kr(t){return{current:t}}function Er(t){0>Sr||(t.current=_r[Sr],_r[Sr]=null,Sr--)}function Cr(t,e){Sr++,_r[Sr]=t.current,t.current=e}var Tr={},Dr=kr(Tr),Mr=kr(!1),Ir=Tr;function Nr(t,e){var n=t.type.contextTypes;if(!n)return Tr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ar(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Pr(){Er(Mr),Er(Dr)}function Rr(t,e,n){if(Dr.current!==Tr)throw Error(s(168));Cr(Dr,e),Cr(Mr,n)}function Or(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in e))throw Error(s(108,H(t)||"Unknown",r));return j({},n,i)}function Lr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tr,Ir=Dr.current,Cr(Dr,t),Cr(Mr,Mr.current),!0}function jr(t,e,n){var i=t.stateNode;if(!i)throw Error(s(169));n?(t=Or(t,e,Ir),i.__reactInternalMemoizedMergedChildContext=t,Er(Mr),Er(Dr),Cr(Dr,t)):Er(Mr),Cr(Mr,n)}var Fr=null,Vr=!1,zr=!1;function Br(t){null===Fr?Fr=[t]:Fr.push(t)}function Ur(){if(!zr&&null!==Fr){zr=!0;var t=0,e=be;try{var n=Fr;for(be=1;t<n.length;t++){var i=n[t];do{i=i(!0)}while(null!==i)}Fr=null,Vr=!1}catch(r){throw null!==Fr&&(Fr=Fr.slice(t+1)),Qt(Zt,Ur),r}finally{be=e,zr=!1}}return null}var Hr=[],Wr=0,qr=null,Kr=0,Qr=[],Gr=0,Yr=null,$r=1,Xr="";function Jr(t,e){Hr[Wr++]=Kr,Hr[Wr++]=qr,qr=t,Kr=e}function Zr(t,e,n){Qr[Gr++]=$r,Qr[Gr++]=Xr,Qr[Gr++]=Yr,Yr=t;var i=$r;t=Xr;var r=32-oe(i)-1;i&=~(1<<r),n+=1;var s=32-oe(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,$r=1<<32-oe(e)+r|n<<r|i,Xr=s+t}else $r=1<<s|n<<r|i,Xr=t}function ts(t){null!==t.return&&(Jr(t,1),Zr(t,1,0))}function es(t){for(;t===qr;)qr=Hr[--Wr],Hr[Wr]=null,Kr=Hr[--Wr],Hr[Wr]=null;for(;t===Yr;)Yr=Qr[--Gr],Qr[Gr]=null,Xr=Qr[--Gr],Qr[Gr]=null,$r=Qr[--Gr],Qr[Gr]=null}var ns=null,is=null,rs=!1,ss=null;function os(t,e){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function as(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,ns=t,is=cr(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,ns=t,is=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Yr?{id:$r,overflow:Xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=e,n.return=t,t.child=n,ns=t,is=null,!0);default:return!1}}function ls(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function cs(t){if(rs){var e=is;if(e){var n=e;if(!as(t,e)){if(ls(t))throw Error(s(418));e=cr(n.nextSibling);var i=ns;e&&as(t,e)?os(i,n):(t.flags=-4097&t.flags|2,rs=!1,ns=t)}}else{if(ls(t))throw Error(s(418));t.flags=-4097&t.flags|2,rs=!1,ns=t}}}function us(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ns=t}function hs(t){if(t!==ns)return!1;if(!rs)return us(t),rs=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!nr(t.type,t.memoizedProps)),e&&(e=is)){if(ls(t))throw ds(),Error(s(418));for(;e;)os(t,e),e=cr(e.nextSibling)}if(us(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){is=cr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}is=null}}else is=ns?cr(t.stateNode.nextSibling):null;return!0}function ds(){for(var t=is;t;)t=cr(t.nextSibling)}function fs(){is=ns=null,rs=!1}function ps(t){null===ss?ss=[t]:ss.push(t)}var gs=x.ReactCurrentBatchConfig;function ms(t,e){if(t&&t.defaultProps){for(var n in e=j({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var vs=kr(null),ys=null,bs=null,xs=null;function ws(){xs=bs=ys=null}function _s(t){var e=vs.current;Er(vs),t._currentValue=e}function Ss(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function ks(t,e){ys=t,xs=bs=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(xa=!0),t.firstContext=null)}function Es(t){var e=t._currentValue;if(xs!==t)if(t={context:t,memoizedValue:e,next:null},null===bs){if(null===ys)throw Error(s(308));bs=t,ys.dependencies={lanes:0,firstContext:t}}else bs=bs.next=t;return e}var Cs=null;function Ts(t){null===Cs?Cs=[t]:Cs.push(t)}function Ds(t,e,n,i){var r=e.interleaved;return null===r?(n.next=n,Ts(e)):(n.next=r.next,r.next=n),e.interleaved=n,Ms(t,i)}function Ms(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Is=!1;function Ns(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function As(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ps(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rs(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Ml)){var r=i.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ms(t,n)}return null===(r=i.interleaved)?(e.next=e,Ts(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ms(t,n)}function Os(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ye(t,n)}}function Ls(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?r=s=e:s=s.next=e}else r=s=e;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function js(t,e,n,i){var r=t.updateQueue;Is=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=t.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=r.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,g=a;switch(d=e,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break t;h=j({},h,d);break t;case 2:Is=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(d=r.effects)?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(d=a).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===u&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(e=r.shared.interleaved)){r=e;do{o|=r.lane,r=r.next}while(r!==e)}else null===s&&(r.shared.lanes=0);jl|=o,t.lanes=o,t.memoizedState=h}}function Fs(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var Vs=(new i.Component).refs;function zs(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:j({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var Bs={isMounted:function(t){return!!(t=t._reactInternals)&&Ut(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=ec(),r=nc(t),s=Ps(i,r);s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Rs(t,s,r))&&(ic(e,t,r,i),Os(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=ec(),r=nc(t),s=Ps(i,r);s.tag=1,s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Rs(t,s,r))&&(ic(e,t,r,i),Os(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ec(),i=nc(t),r=Ps(n,i);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),null!==(e=Rs(t,r,i))&&(ic(e,t,i,n),Os(e,t,i))}};function Us(t,e,n,i,r,s,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!li(n,i)||!li(r,s))}function Hs(t,e,n){var i=!1,r=Tr,s=e.contextType;return"object"===typeof s&&null!==s?s=Es(s):(r=Ar(e)?Ir:Dr.current,s=(i=null!==(i=e.contextTypes)&&void 0!==i)?Nr(t,r):Tr),e=new e(n,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Bs,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ws(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Bs.enqueueReplaceState(e,e.state,null)}function qs(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=Vs,Ns(t);var s=e.contextType;"object"===typeof s&&null!==s?r.context=Es(s):(s=Ar(e)?Ir:Dr.current,r.context=Nr(t,s)),r.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(zs(t,e,s,n),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&Bs.enqueueReplaceState(r,r.state,null),js(t,n,r,i),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308)}function Ks(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,t));var r=i,o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=r.refs;e===Vs&&(e=r.refs={}),null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!==typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function Qs(t,e){throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Gs(t){return(0,t._init)(t._payload)}function Ys(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Rc(t,e)).index=0,t.sibling=null,t}function o(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=2,n):i:(e.flags|=2,n):(e.flags|=1048576,n)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Fc(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function c(t,e,n,i){var s=n.type;return s===S?h(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===A&&Gs(s)===e.type)?((i=r(e,n.props)).ref=Ks(t,e,n),i.return=t,i):((i=Oc(n.type,n.key,n.props,null,t.mode,i)).ref=Ks(t,e,n),i.return=t,i)}function u(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Vc(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function h(t,e,n,i,s){return null===e||7!==e.tag?((e=Lc(n,t.mode,i,s)).return=t,e):((e=r(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Fc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case w:return(n=Oc(e.type,e.key,e.props,null,t.mode,n)).ref=Ks(t,null,e),n.return=t,n;case _:return(e=Vc(e,t.mode,n)).return=t,e;case A:return d(t,(0,e._init)(e._payload),n)}if(et(e)||O(e))return(e=Lc(e,t.mode,n,null)).return=t,e;Qs(t,e)}return null}function f(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===r?c(t,e,n,i):null;case _:return n.key===r?u(t,e,n,i):null;case A:return f(t,e,(r=n._init)(n._payload),i)}if(et(n)||O(n))return null!==r?null:h(t,e,n,i,null);Qs(t,n)}return null}function p(t,e,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case w:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r);case _:return u(e,t=t.get(null===i.key?n:i.key)||null,i,r);case A:return p(t,e,n,(0,i._init)(i._payload),r)}if(et(i)||O(i))return h(e,t=t.get(n)||null,i,r,null);Qs(e,i)}return null}function g(r,s,a,l){for(var c=null,u=null,h=s,g=s=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(r,h,a[g],l);if(null===v){null===h&&(h=m);break}t&&h&&null===v.alternate&&e(r,h),s=o(v,s,g),null===u?c=v:u.sibling=v,u=v,h=m}if(g===a.length)return n(r,h),rs&&Jr(r,g),c;if(null===h){for(;g<a.length;g++)null!==(h=d(r,a[g],l))&&(s=o(h,s,g),null===u?c=h:u.sibling=h,u=h);return rs&&Jr(r,g),c}for(h=i(r,h);g<a.length;g++)null!==(m=p(h,r,g,a[g],l))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=o(m,s,g),null===u?c=m:u.sibling=m,u=m);return t&&h.forEach((function(t){return e(r,t)})),rs&&Jr(r,g),c}function m(r,a,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,g=a,m=a=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(r,g,y.value,c);if(null===b){null===g&&(g=v);break}t&&g&&null===b.alternate&&e(r,g),a=o(b,a,m),null===h?u=b:h.sibling=b,h=b,g=v}if(y.done)return n(r,g),rs&&Jr(r,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=d(r,y.value,c))&&(a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return rs&&Jr(r,m),u}for(g=i(r,g);!y.done;m++,y=l.next())null!==(y=p(g,r,m,y.value,c))&&(t&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return t&&g.forEach((function(t){return e(r,t)})),rs&&Jr(r,m),u}return function t(i,s,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:t:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===S){if(7===u.tag){n(i,u.sibling),(s=r(u,o.props.children)).return=i,i=s;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Gs(c)===u.type){n(i,u.sibling),(s=r(u,o.props)).ref=Ks(i,u,o),s.return=i,i=s;break t}n(i,u);break}e(i,u),u=u.sibling}o.type===S?((s=Lc(o.props.children,i.mode,l,o.key)).return=i,i=s):((l=Oc(o.type,o.key,o.props,null,i.mode,l)).ref=Ks(i,s,o),l.return=i,i=l)}return a(i);case _:t:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(i,s.sibling),(s=r(s,o.children||[])).return=i,i=s;break t}n(i,s);break}e(i,s),s=s.sibling}(s=Vc(o,i.mode,l)).return=i,i=s}return a(i);case A:return t(i,s,(u=o._init)(o._payload),l)}if(et(o))return g(i,s,o,l);if(O(o))return m(i,s,o,l);Qs(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(i,s.sibling),(s=r(s,o)).return=i,i=s):(n(i,s),(s=Fc(o,i.mode,l)).return=i,i=s),a(i)):n(i,s)}}var $s=Ys(!0),Xs=Ys(!1),Js={},Zs=kr(Js),to=kr(Js),eo=kr(Js);function no(t){if(t===Js)throw Error(s(174));return t}function io(t,e){switch(Cr(eo,e),Cr(to,t),Cr(Zs,Js),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Er(Zs),Cr(Zs,e)}function ro(){Er(Zs),Er(to),Er(eo)}function so(t){no(eo.current);var e=no(Zs.current),n=lt(e,t.type);e!==n&&(Cr(to,t),Cr(Zs,n))}function oo(t){to.current===t&&(Er(Zs),Er(to))}var ao=kr(0);function lo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var co=[];function uo(){for(var t=0;t<co.length;t++)co[t]._workInProgressVersionPrimary=null;co.length=0}var ho=x.ReactCurrentDispatcher,fo=x.ReactCurrentBatchConfig,po=0,go=null,mo=null,vo=null,yo=!1,bo=!1,xo=0,wo=0;function _o(){throw Error(s(321))}function So(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ai(t[n],e[n]))return!1;return!0}function ko(t,e,n,i,r,o){if(po=o,go=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ho.current=null===t||null===t.memoizedState?aa:la,t=n(i,r),bo){o=0;do{if(bo=!1,xo=0,25<=o)throw Error(s(301));o+=1,vo=mo=null,e.updateQueue=null,ho.current=ca,t=n(i,r)}while(bo)}if(ho.current=oa,e=null!==mo&&null!==mo.next,po=0,vo=mo=go=null,yo=!1,e)throw Error(s(300));return t}function Eo(){var t=0!==xo;return xo=0,t}function Co(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?go.memoizedState=vo=t:vo=vo.next=t,vo}function To(){if(null===mo){var t=go.alternate;t=null!==t?t.memoizedState:null}else t=mo.next;var e=null===vo?go.memoizedState:vo.next;if(null!==e)vo=e,mo=t;else{if(null===t)throw Error(s(310));t={memoizedState:(mo=t).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===vo?go.memoizedState=vo=t:vo=vo.next=t}return vo}function Do(t,e){return"function"===typeof e?e(t):e}function Mo(t){var e=To(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=mo,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((po&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=i):c=c.next=d,go.lanes|=h,jl|=h}u=u.next}while(null!==u&&u!==o);null===c?a=i:c.next=l,ai(i,e.memoizedState)||(xa=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=c,n.lastRenderedState=i}if(null!==(t=n.interleaved)){r=t;do{o=r.lane,go.lanes|=o,jl|=o,r=r.next}while(r!==t)}else null===r&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Io(t){var e=To(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=t(o,a.action),a=a.next}while(a!==r);ai(o,e.memoizedState)||(xa=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function No(){}function Ao(t,e){var n=go,i=To(),r=e(),o=!ai(i.memoizedState,r);if(o&&(i.memoizedState=r,xa=!0),i=i.queue,Wo(Oo.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,Vo(9,Ro.bind(null,n,i,r,e),void 0,null),null===Il)throw Error(s(349));0!==(30&po)||Po(n,e,r)}return r}function Po(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=go.updateQueue)?(e={lastEffect:null,stores:null},go.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Ro(t,e,n,i){e.value=n,e.getSnapshot=i,Lo(e)&&jo(t)}function Oo(t,e,n){return n((function(){Lo(e)&&jo(t)}))}function Lo(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ai(t,n)}catch(i){return!0}}function jo(t){var e=Ms(t,1);null!==e&&ic(e,t,1,-1)}function Fo(t){var e=Co();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:t},e.queue=t,t=t.dispatch=na.bind(null,go,t),[e.memoizedState,t]}function Vo(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=go.updateQueue)?(e={lastEffect:null,stores:null},go.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function zo(){return To().memoizedState}function Bo(t,e,n,i){var r=Co();go.flags|=t,r.memoizedState=Vo(1|e,n,void 0,void 0===i?null:i)}function Uo(t,e,n,i){var r=To();i=void 0===i?null:i;var s=void 0;if(null!==mo){var o=mo.memoizedState;if(s=o.destroy,null!==i&&So(i,o.deps))return void(r.memoizedState=Vo(e,n,s,i))}go.flags|=t,r.memoizedState=Vo(1|e,n,s,i)}function Ho(t,e){return Bo(8390656,8,t,e)}function Wo(t,e){return Uo(2048,8,t,e)}function qo(t,e){return Uo(4,2,t,e)}function Ko(t,e){return Uo(4,4,t,e)}function Qo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Go(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Uo(4,4,Qo.bind(null,e,t),n)}function Yo(){}function $o(t,e){var n=To();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&So(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Xo(t,e){var n=To();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&So(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Jo(t,e,n){return 0===(21&po)?(t.baseState&&(t.baseState=!1,xa=!0),t.memoizedState=n):(ai(n,e)||(n=ge(),go.lanes|=n,jl|=n,t.baseState=!0),e)}function Zo(t,e){var n=be;be=0!==n&&4>n?n:4,t(!0);var i=fo.transition;fo.transition={};try{t(!1),e()}finally{be=n,fo.transition=i}}function ta(){return To().memoizedState}function ea(t,e,n){var i=nc(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ia(t))ra(e,n);else if(null!==(n=Ds(t,e,n,i))){ic(n,t,i,ec()),sa(n,e,i)}}function na(t,e,n){var i=nc(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ia(t))ra(e,r);else{var s=t.alternate;if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,ai(a,o)){var l=e.interleaved;return null===l?(r.next=r,Ts(e)):(r.next=l.next,l.next=r),void(e.interleaved=r)}}catch(c){}null!==(n=Ds(t,e,r,i))&&(ic(n,t,i,r=ec()),sa(n,e,i))}}function ia(t){var e=t.alternate;return t===go||null!==e&&e===go}function ra(t,e){bo=yo=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sa(t,e,n){if(0!==(4194240&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ye(t,n)}}var oa={readContext:Es,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},aa={readContext:Es,useCallback:function(t,e){return Co().memoizedState=[t,void 0===e?null:e],t},useContext:Es,useEffect:Ho,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Bo(4194308,4,Qo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bo(4,2,t,e)},useMemo:function(t,e){var n=Co();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Co();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=ea.bind(null,go,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},Co().memoizedState=t},useState:Fo,useDebugValue:Yo,useDeferredValue:function(t){return Co().memoizedState=t},useTransition:function(){var t=Fo(!1),e=t[0];return t=Zo.bind(null,t[1]),Co().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=go,r=Co();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=e(),null===Il)throw Error(s(349));0!==(30&po)||Po(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,Ho(Oo.bind(null,i,o,t),[t]),i.flags|=2048,Vo(9,Ro.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=Co(),e=Il.identifierPrefix;if(rs){var n=Xr;e=":"+e+"R"+(n=($r&~(1<<32-oe($r)-1)).toString(32)+n),0<(n=xo++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=wo++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},la={readContext:Es,useCallback:$o,useContext:Es,useEffect:Wo,useImperativeHandle:Go,useInsertionEffect:qo,useLayoutEffect:Ko,useMemo:Xo,useReducer:Mo,useRef:zo,useState:function(){return Mo(Do)},useDebugValue:Yo,useDeferredValue:function(t){return Jo(To(),mo.memoizedState,t)},useTransition:function(){return[Mo(Do)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Ao,useId:ta,unstable_isNewReconciler:!1},ca={readContext:Es,useCallback:$o,useContext:Es,useEffect:Wo,useImperativeHandle:Go,useInsertionEffect:qo,useLayoutEffect:Ko,useMemo:Xo,useReducer:Io,useRef:zo,useState:function(){return Io(Do)},useDebugValue:Yo,useDeferredValue:function(t){var e=To();return null===mo?e.memoizedState=t:Jo(e,mo.memoizedState,t)},useTransition:function(){return[Io(Do)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Ao,useId:ta,unstable_isNewReconciler:!1};function ua(t,e){try{var n="",i=e;do{n+=B(i),i=i.return}while(i);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:t,source:e,stack:r,digest:null}}function ha(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function da(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(t,e,n){(n=Ps(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){ql||(ql=!0,Kl=i),da(0,e)},n}function ga(t,e,n){(n=Ps(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){da(0,e)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,e),"function"!==typeof i&&(null===Ql?Ql=new Set([this]):Ql.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ma(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new fa;var r=new Set;i.set(e,r)}else void 0===(r=i.get(e))&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=Cc.bind(null,t,e,n),e.then(t,t))}function va(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ya(t,e,n,i,r){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Ps(-1,1)).tag=2,Rs(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}var ba=x.ReactCurrentOwner,xa=!1;function wa(t,e,n,i){e.child=null===t?Xs(e,null,n,i):$s(e,t.child,n,i)}function _a(t,e,n,i,r){n=n.render;var s=e.ref;return ks(e,r),i=ko(t,e,n,i,s,r),n=Eo(),null===t||xa?(rs&&n&&ts(e),e.flags|=1,wa(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,qa(t,e,r))}function Sa(t,e,n,i,r){if(null===t){var s=n.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Oc(n.type,null,i,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,ka(t,e,s,i,r))}if(s=t.child,0===(t.lanes&r)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:li)(o,i)&&t.ref===e.ref)return qa(t,e,r)}return e.flags|=1,(t=Rc(s,i)).ref=e.ref,t.return=e,e.child=t}function ka(t,e,n,i,r){if(null!==t){var s=t.memoizedProps;if(li(s,i)&&t.ref===e.ref){if(xa=!1,e.pendingProps=i=s,0===(t.lanes&r))return e.lanes=t.lanes,qa(t,e,r);0!==(131072&t.flags)&&(xa=!0)}}return Ta(t,e,n,i,r)}function Ea(t,e,n){var i=e.pendingProps,r=i.children,s=null!==t?t.memoizedState:null;if("hidden"===i.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Rl,Pl),Pl|=n;else{if(0===(1073741824&n))return t=null!==s?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Cr(Rl,Pl),Pl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==s?s.baseLanes:n,Cr(Rl,Pl),Pl|=i}else null!==s?(i=s.baseLanes|n,e.memoizedState=null):i=n,Cr(Rl,Pl),Pl|=i;return wa(t,e,r,n),e.child}function Ca(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ta(t,e,n,i,r){var s=Ar(n)?Ir:Dr.current;return s=Nr(e,s),ks(e,r),n=ko(t,e,n,i,s,r),i=Eo(),null===t||xa?(rs&&i&&ts(e),e.flags|=1,wa(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,qa(t,e,r))}function Da(t,e,n,i,r){if(Ar(n)){var s=!0;Lr(e)}else s=!1;if(ks(e,r),null===e.stateNode)Wa(t,e),Hs(e,n,i),qs(e,n,i,r),i=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Es(c):c=Nr(e,c=Ar(n)?Ir:Dr.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==i||l!==c)&&Ws(e,o,i,c),Is=!1;var d=e.memoizedState;o.state=d,js(e,i,o,r),l=e.memoizedState,a!==i||d!==l||Mr.current||Is?("function"===typeof u&&(zs(e,n,u,i),l=e.memoizedState),(a=Is||Us(e,n,a,i,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.flags|=4194308)):("function"===typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):("function"===typeof o.componentDidMount&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,As(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ms(e.type,a),o.props=c,h=e.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Es(l):l=Nr(e,l=Ar(n)?Ir:Dr.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&Ws(e,o,i,l),Is=!1,d=e.memoizedState,o.state=d,js(e,i,o,r);var p=e.memoizedState;a!==h||d!==p||Mr.current||Is?("function"===typeof f&&(zs(e,n,f,i),p=e.memoizedState),(c=Is||Us(e,n,c,i,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof o.componentDidUpdate&&(e.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return Ma(t,e,n,i,s,r)}function Ma(t,e,n,i,r,s){Ca(t,e);var o=0!==(128&e.flags);if(!i&&!o)return r&&jr(e,n,!1),qa(t,e,s);i=e.stateNode,ba.current=e;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&o?(e.child=$s(e,t.child,null,s),e.child=$s(e,null,a,s)):wa(t,e,a,s),e.memoizedState=i.state,r&&jr(e,n,!0),e.child}function Ia(t){var e=t.stateNode;e.pendingContext?Rr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Rr(0,e.context,!1),io(t,e.containerInfo)}function Na(t,e,n,i,r){return fs(),ps(r),e.flags|=256,wa(t,e,n,i),e.child}var Aa,Pa,Ra,Oa,La={dehydrated:null,treeContext:null,retryLane:0};function ja(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fa(t,e,n){var i,r=e.pendingProps,o=ao.current,a=!1,l=0!==(128&e.flags);if((i=l)||(i=(null===t||null!==t.memoizedState)&&0!==(2&o)),i?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(o|=1),Cr(ao,1&o),null===t)return cs(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=r.children,t=r.fallback,a?(r=e.mode,a=e.child,l={mode:"hidden",children:l},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=jc(l,r,0,null),t=Lc(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=ja(n),e.memoizedState=La,t):Va(e,l));if(null!==(o=t.memoizedState)&&null!==(i=o.dehydrated))return function(t,e,n,i,r,o,a){if(n)return 256&e.flags?(e.flags&=-257,za(t,e,a,i=ha(Error(s(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=jc({mode:"visible",children:i.children},r,0,null),(o=Lc(o,r,a,null)).flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,0!==(1&e.mode)&&$s(e,t.child,null,a),e.child.memoizedState=ja(a),e.memoizedState=La,o);if(0===(1&e.mode))return za(t,e,a,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,za(t,e,a,i=ha(o=Error(s(419)),i,void 0))}if(l=0!==(a&t.childLanes),xa||l){if(null!==(i=Il)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|a))?0:r)&&r!==o.retryLane&&(o.retryLane=r,Ms(t,r),ic(i,t,r,-1))}return mc(),za(t,e,a,i=ha(Error(s(421))))}return"$?"===r.data?(e.flags|=128,e.child=t.child,e=Dc.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,is=cr(r.nextSibling),ns=e,rs=!0,ss=null,null!==t&&(Qr[Gr++]=$r,Qr[Gr++]=Xr,Qr[Gr++]=Yr,$r=t.id,Xr=t.overflow,Yr=e),e=Va(e,i.children),e.flags|=4096,e)}(t,e,l,r,i,o,n);if(a){a=r.fallback,l=e.mode,i=(o=t.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&e.child!==o?((r=e.child).childLanes=0,r.pendingProps=c,e.deletions=null):(r=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==i?a=Rc(i,a):(a=Lc(a,l,n,null)).flags|=2,a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,l=null===(l=t.child.memoizedState)?ja(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=La,r}return t=(a=t.child).sibling,r=Rc(a,{mode:"visible",children:r.children}),0===(1&e.mode)&&(r.lanes=n),r.return=e,r.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Va(t,e){return(e=jc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function za(t,e,n,i){return null!==i&&ps(i),$s(e,t.child,null,n),(t=Va(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Ba(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),Ss(t.return,e,n)}function Ua(t,e,n,i,r){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Ha(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(wa(t,e,i.children,n),0!==(2&(i=ao.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ba(t,n,e);else if(19===t.tag)Ba(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Cr(ao,i),0===(1&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===lo(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Ua(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===lo(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Ua(e,!0,n,null,s);break;case"together":Ua(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wa(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qa(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),jl|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Rc(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Rc(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ka(t,e){if(!rs)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Qa(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Ga(t,e,n){var i=e.pendingProps;switch(es(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qa(e),null;case 1:case 17:return Ar(e.type)&&Pr(),Qa(e),null;case 3:return i=e.stateNode,ro(),Er(Mr),Er(Dr),uo(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(hs(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==ss&&(ac(ss),ss=null))),Pa(t,e),Qa(e),null;case 5:oo(e);var r=no(eo.current);if(n=e.type,null!==t&&null!=e.stateNode)Ra(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(null===e.stateNode)throw Error(s(166));return Qa(e),null}if(t=no(Zs.current),hs(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[dr]=e,i[fr]=o,t=0!==(1&e.mode),n){case"dialog":Vi("cancel",i),Vi("close",i);break;case"iframe":case"object":case"embed":Vi("load",i);break;case"video":case"audio":for(r=0;r<Oi.length;r++)Vi(Oi[r],i);break;case"source":Vi("error",i);break;case"img":case"image":case"link":Vi("error",i),Vi("load",i);break;case"details":Vi("toggle",i);break;case"input":$(i,o),Vi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Vi("invalid",i);break;case"textarea":rt(i,o),Vi("invalid",i)}for(var l in yt(n,o),r=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==o.suppressHydrationWarning&&Ji(i.textContent,c,t),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Ji(i.textContent,c,t),r=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vi("scroll",i)}switch(n){case"input":K(i),Z(i,o,!0);break;case"textarea":K(i),ot(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=Zi)}i=r,e.updateQueue=i,null!==i&&(e.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),"select"===n&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[dr]=e,t[fr]=i,Aa(t,e,!1,!1),e.stateNode=t;t:{switch(l=bt(n,i),n){case"dialog":Vi("cancel",t),Vi("close",t),r=i;break;case"iframe":case"object":case"embed":Vi("load",t),r=i;break;case"video":case"audio":for(r=0;r<Oi.length;r++)Vi(Oi[r],t);r=i;break;case"source":Vi("error",t),r=i;break;case"img":case"image":case"link":Vi("error",t),Vi("load",t),r=i;break;case"details":Vi("toggle",t),r=i;break;case"input":$(t,i),r=Y(t,i),Vi("invalid",t);break;case"option":default:r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=j({},i,{value:void 0}),Vi("invalid",t);break;case"textarea":rt(t,i),r=it(t,i),Vi("invalid",t)}for(o in yt(n,r),c=r)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?mt(t,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&ht(t,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&dt(t,u):"number"===typeof u&&dt(t,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Vi("scroll",t):null!=u&&b(t,o,u,l))}switch(n){case"input":K(t),Z(t,i,!1);break;case"textarea":K(t),ot(t);break;case"option":null!=i.value&&t.setAttribute("value",""+W(i.value));break;case"select":t.multiple=!!i.multiple,null!=(o=i.value)?nt(t,!!i.multiple,o,!1):null!=i.defaultValue&&nt(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(t.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Qa(e),null;case 6:if(t&&null!=e.stateNode)Oa(t,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(s(166));if(n=no(eo.current),no(Zs.current),hs(e)){if(i=e.stateNode,n=e.memoizedProps,i[dr]=e,(o=i.nodeValue!==n)&&null!==(t=ns))switch(t.tag){case 3:Ji(i.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&t.mode))}o&&(e.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[dr]=e,e.stateNode=i}return Qa(e),null;case 13:if(Er(ao),i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(rs&&null!==is&&0!==(1&e.mode)&&0===(128&e.flags))ds(),fs(),e.flags|=98560,o=!1;else if(o=hs(e),null!==i&&null!==i.dehydrated){if(null===t){if(!o)throw Error(s(318));if(!(o=null!==(o=e.memoizedState)?o.dehydrated:null))throw Error(s(317));o[dr]=e}else fs(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Qa(e),o=!1}else null!==ss&&(ac(ss),ss=null),o=!0;if(!o)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((i=null!==i)!==(null!==t&&null!==t.memoizedState)&&i&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ao.current)?0===Ol&&(Ol=3):mc())),null!==e.updateQueue&&(e.flags|=4),Qa(e),null);case 4:return ro(),Pa(t,e),null===t&&Ui(e.stateNode.containerInfo),Qa(e),null;case 10:return _s(e.type._context),Qa(e),null;case 19:if(Er(ao),null===(o=e.memoizedState))return Qa(e),null;if(i=0!==(128&e.flags),null===(l=o.rendering))if(i)Ka(o,!1);else{if(0!==Ol||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=lo(t))){for(e.flags|=128,Ka(o,!1),null!==(i=l.updateQueue)&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;null!==n;)t=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Cr(ao,1&ao.current|2),e.child}t=t.sibling}null!==o.tail&&Xt()>Hl&&(e.flags|=128,i=!0,Ka(o,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=lo(l))){if(e.flags|=128,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Ka(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!rs)return Qa(e),null}else 2*Xt()-o.renderingStartTime>Hl&&1073741824!==n&&(e.flags|=128,i=!0,Ka(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=o.last)?n.sibling=l:e.child=l,o.last=l)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Xt(),e.sibling=null,n=ao.current,Cr(ao,i?1&n|2:1&n),e):(Qa(e),null);case 22:case 23:return dc(),i=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==i&&(e.flags|=8192),i&&0!==(1&e.mode)?0!==(1073741824&Pl)&&(Qa(e),6&e.subtreeFlags&&(e.flags|=8192)):Qa(e),null;case 24:case 25:return null}throw Error(s(156,e.tag))}function Ya(t,e){switch(es(e),e.tag){case 1:return Ar(e.type)&&Pr(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return ro(),Er(Mr),Er(Dr),uo(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return oo(e),null;case 13:if(Er(ao),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));fs()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Er(ao),null;case 4:return ro(),null;case 10:return _s(e.type._context),null;case 22:case 23:return dc(),null;default:return null}}Aa=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},Ra=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":r=Y(t,r),i=Y(t,i),o=[];break;case"select":r=j({},r,{value:void 0}),i=j({},i,{value:void 0}),o=[];break;case"textarea":r=it(t,r),i=it(t,i),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(t.onclick=Zi)}for(u in yt(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vi("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}},Oa=function(t,e,n,i){n!==i&&(e.flags|=4)};var $a=!1,Xa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function tl(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Ec(t,e,i)}else n.current=null}function el(t,e,n){try{n()}catch(i){Ec(t,e,i)}}var nl=!1;function il(t,e,n){var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,void 0!==s&&el(e,n,s)}r=r.next}while(r!==i)}}function rl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function sl(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function ol(t){var e=t.alternate;null!==e&&(t.alternate=null,ol(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[dr],delete e[fr],delete e[gr],delete e[mr],delete e[vr])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function al(t){return 5===t.tag||3===t.tag||4===t.tag}function ll(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||al(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function cl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Zi));else if(4!==i&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}function ul(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(ul(t,e,n),t=t.sibling;null!==t;)ul(t,e,n),t=t.sibling}var hl=null,dl=!1;function fl(t,e,n){for(n=n.child;null!==n;)pl(t,e,n),n=n.sibling}function pl(t,e,n){if(se&&"function"===typeof se.onCommitFiberUnmount)try{se.onCommitFiberUnmount(re,n)}catch(a){}switch(n.tag){case 5:Xa||tl(n,e);case 6:var i=hl,r=dl;hl=null,fl(t,e,n),dl=r,null!==(hl=i)&&(dl?(t=hl,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(t=hl,n=n.stateNode,8===t.nodeType?lr(t.parentNode,n):1===t.nodeType&&lr(t,n),Ue(t)):lr(hl,n.stateNode));break;case 4:i=hl,r=dl,hl=n.stateNode.containerInfo,dl=!0,fl(t,e,n),hl=i,dl=r;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,e,o),r=r.next}while(r!==i)}fl(t,e,n);break;case 1:if(!Xa&&(tl(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Ec(n,e,a)}fl(t,e,n);break;case 21:fl(t,e,n);break;case 22:1&n.mode?(Xa=(i=Xa)||null!==n.memoizedState,fl(t,e,n),Xa=i):fl(t,e,n);break;default:fl(t,e,n)}}function gl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Ja),e.forEach((function(e){var i=Mc.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}function ml(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break t;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break t}l=l.return}if(null===hl)throw Error(s(160));pl(o,a,r),hl=null,dl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){Ec(r,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)vl(e,t),e=e.sibling}function vl(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ml(e,t),yl(t),4&i){try{il(3,t,t.return),rl(3,t)}catch(m){Ec(t,t.return,m)}try{il(5,t,t.return)}catch(m){Ec(t,t.return,m)}}break;case 1:ml(e,t),yl(t),512&i&&null!==n&&tl(n,n.return);break;case 5:if(ml(e,t),yl(t),512&i&&null!==n&&tl(n,n.return),32&t.flags){var r=t.stateNode;try{dt(r,"")}catch(m){Ec(t,t.return,m)}}if(4&i&&null!=(r=t.stateNode)){var o=t.memoizedProps,a=null!==n?n.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(r,o),bt(l,a);var u=bt(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?mt(r,d):"dangerouslySetInnerHTML"===h?ht(r,d):"children"===h?dt(r,d):b(r,h,d,u)}switch(l){case"input":J(r,o);break;case"textarea":st(r,o);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?nt(r,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?nt(r,!!o.multiple,o.defaultValue,!0):nt(r,!!o.multiple,o.multiple?[]:"",!1))}r[fr]=o}catch(m){Ec(t,t.return,m)}}break;case 6:if(ml(e,t),yl(t),4&i){if(null===t.stateNode)throw Error(s(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(m){Ec(t,t.return,m)}}break;case 3:if(ml(e,t),yl(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ue(e.containerInfo)}catch(m){Ec(t,t.return,m)}break;case 4:default:ml(e,t),yl(t);break;case 13:ml(e,t),yl(t),8192&(r=t.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(Ul=Xt())),4&i&&gl(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Xa=(u=Xa)||h,ml(e,t),Xa=u):ml(e,t),yl(t),8192&i){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!h&&0!==(1&t.mode))for(Za=t,h=t.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:il(4,f,f.return);break;case 1:tl(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){i=f,n=f.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Ec(i,n,m)}}break;case 5:tl(f,f.return);break;case 22:if(null!==f.memoizedState){_l(d);continue}}null!==p?(p.return=f,Za=p):_l(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{r=d.stateNode,u?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=gt("display",a))}catch(m){Ec(t,t.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Ec(t,t.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(e,t),yl(t),4&i&&gl(t);case 21:}}function yl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(al(n)){var i=n;break t}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(dt(r,""),i.flags&=-33),ul(t,ll(t),r);break;case 3:case 4:var o=i.stateNode.containerInfo;cl(t,ll(t),o);break;default:throw Error(s(161))}}catch(a){Ec(t,t.return,a)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function bl(t,e,n){Za=t,xl(t,e,n)}function xl(t,e,n){for(var i=0!==(1&t.mode);null!==Za;){var r=Za,s=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||$a;if(!o){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=$a;var c=Xa;if($a=o,(Xa=l)&&!c)for(Za=r;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?Sl(r):null!==l?(l.return=o,Za=l):Sl(r);for(;null!==s;)Za=s,xl(s,e,n),s=s.sibling;Za=r,$a=a,Xa=c}wl(t)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,Za=s):wl(t)}}function wl(t){for(;null!==Za;){var e=Za;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Xa||rl(5,e);break;case 1:var i=e.stateNode;if(4&e.flags&&!Xa)if(null===n)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:ms(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;null!==o&&Fs(e,o,i);break;case 3:var a=e.updateQueue;if(null!==a){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Fs(e,a,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ue(d)}}}break;default:throw Error(s(163))}Xa||512&e.flags&&sl(e)}catch(f){Ec(e,e.return,f)}}if(e===t){Za=null;break}if(null!==(n=e.sibling)){n.return=e.return,Za=n;break}Za=e.return}}function _l(t){for(;null!==Za;){var e=Za;if(e===t){Za=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Za=n;break}Za=e.return}}function Sl(t){for(;null!==Za;){var e=Za;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rl(4,e)}catch(l){Ec(e,n,l)}break;case 1:var i=e.stateNode;if("function"===typeof i.componentDidMount){var r=e.return;try{i.componentDidMount()}catch(l){Ec(e,r,l)}}var s=e.return;try{sl(e)}catch(l){Ec(e,s,l)}break;case 5:var o=e.return;try{sl(e)}catch(l){Ec(e,o,l)}}}catch(l){Ec(e,e.return,l)}if(e===t){Za=null;break}var a=e.sibling;if(null!==a){a.return=e.return,Za=a;break}Za=e.return}}var kl,El=Math.ceil,Cl=x.ReactCurrentDispatcher,Tl=x.ReactCurrentOwner,Dl=x.ReactCurrentBatchConfig,Ml=0,Il=null,Nl=null,Al=0,Pl=0,Rl=kr(0),Ol=0,Ll=null,jl=0,Fl=0,Vl=0,zl=null,Bl=null,Ul=0,Hl=1/0,Wl=null,ql=!1,Kl=null,Ql=null,Gl=!1,Yl=null,$l=0,Xl=0,Jl=null,Zl=-1,tc=0;function ec(){return 0!==(6&Ml)?Xt():-1!==Zl?Zl:Zl=Xt()}function nc(t){return 0===(1&t.mode)?1:0!==(2&Ml)&&0!==Al?Al&-Al:null!==gs.transition?(0===tc&&(tc=ge()),tc):0!==(t=be)?t:t=void 0===(t=window.event)?16:$e(t.type)}function ic(t,e,n,i){if(50<Xl)throw Xl=0,Jl=null,Error(s(185));ve(t,n,i),0!==(2&Ml)&&t===Il||(t===Il&&(0===(2&Ml)&&(Fl|=n),4===Ol&&lc(t,Al)),rc(t,i),1===n&&0===Ml&&0===(1&e.mode)&&(Hl=Xt()+500,Vr&&Ur()))}function rc(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-oe(s),a=1<<o,l=r[o];-1===l?0!==(a&n)&&0===(a&i)||(r[o]=fe(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}(t,e);var i=de(t,t===Il?Al:0);if(0===i)null!==n&&Gt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(null!=n&&Gt(n),1===e)0===t.tag?function(t){Vr=!0,Br(t)}(cc.bind(null,t)):Br(cc.bind(null,t)),or((function(){0===(6&Ml)&&Ur()})),n=null;else{switch(xe(i)){case 1:n=Zt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=ie}n=Ic(n,sc.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sc(t,e){if(Zl=-1,tc=0,0!==(6&Ml))throw Error(s(327));var n=t.callbackNode;if(Sc()&&t.callbackNode!==n)return null;var i=de(t,t===Il?Al:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||e)e=vc(t,i);else{e=i;var r=Ml;Ml|=2;var o=gc();for(Il===t&&Al===e||(Wl=null,Hl=Xt()+500,fc(t,e));;)try{bc();break}catch(l){pc(t,l)}ws(),Cl.current=o,Ml=r,null!==Nl?e=0:(Il=null,Al=0,e=Ol)}if(0!==e){if(2===e&&(0!==(r=pe(t))&&(i=r,e=oc(t,r))),1===e)throw n=Ll,fc(t,0),lc(t,i),rc(t,Xt()),n;if(6===e)lc(t,i);else{if(r=t.current.alternate,0===(30&i)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ai(s(),r))return!1}catch(a){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(r)&&(2===(e=vc(t,i))&&(0!==(o=pe(t))&&(i=o,e=oc(t,o))),1===e))throw n=Ll,fc(t,0),lc(t,i),rc(t,Xt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(s(345));case 2:case 5:_c(t,Bl,Wl);break;case 3:if(lc(t,i),(130023424&i)===i&&10<(e=Ul+500-Xt())){if(0!==de(t,0))break;if(((r=t.suspendedLanes)&i)!==i){ec(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=ir(_c.bind(null,t,Bl,Wl),e);break}_c(t,Bl,Wl);break;case 4:if(lc(t,i),(4194240&i)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-oe(i);o=1<<a,(a=e[a])>r&&(r=a),i&=~o}if(i=r,10<(i=(120>(i=Xt()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*El(i/1960))-i)){t.timeoutHandle=ir(_c.bind(null,t,Bl,Wl),i);break}_c(t,Bl,Wl);break;default:throw Error(s(329))}}}return rc(t,Xt()),t.callbackNode===n?sc.bind(null,t):null}function oc(t,e){var n=zl;return t.current.memoizedState.isDehydrated&&(fc(t,e).flags|=256),2!==(t=vc(t,e))&&(e=Bl,Bl=n,null!==e&&ac(e)),t}function ac(t){null===Bl?Bl=t:Bl.push.apply(Bl,t)}function lc(t,e){for(e&=~Vl,e&=~Fl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oe(e),i=1<<n;t[n]=-1,e&=~i}}function cc(t){if(0!==(6&Ml))throw Error(s(327));Sc();var e=de(t,0);if(0===(1&e))return rc(t,Xt()),null;var n=vc(t,e);if(0!==t.tag&&2===n){var i=pe(t);0!==i&&(e=i,n=oc(t,i))}if(1===n)throw n=Ll,fc(t,0),lc(t,e),rc(t,Xt()),n;if(6===n)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_c(t,Bl,Wl),rc(t,Xt()),null}function uc(t,e){var n=Ml;Ml|=1;try{return t(e)}finally{0===(Ml=n)&&(Hl=Xt()+500,Vr&&Ur())}}function hc(t){null!==Yl&&0===Yl.tag&&0===(6&Ml)&&Sc();var e=Ml;Ml|=1;var n=Dl.transition,i=be;try{if(Dl.transition=null,be=1,t)return t()}finally{be=i,Dl.transition=n,0===(6&(Ml=e))&&Ur()}}function dc(){Pl=Rl.current,Er(Rl)}function fc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,rr(n)),null!==Nl)for(n=Nl.return;null!==n;){var i=n;switch(es(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Pr();break;case 3:ro(),Er(Mr),Er(Dr),uo();break;case 5:oo(i);break;case 4:ro();break;case 13:case 19:Er(ao);break;case 10:_s(i.type._context);break;case 22:case 23:dc()}n=n.return}if(Il=t,Nl=t=Rc(t.current,null),Al=Pl=e,Ol=0,Ll=null,Vl=Fl=jl=0,Bl=zl=null,null!==Cs){for(e=0;e<Cs.length;e++)if(null!==(i=(n=Cs[e]).interleaved)){n.interleaved=null;var r=i.next,s=n.pending;if(null!==s){var o=s.next;s.next=r,i.next=o}n.pending=i}Cs=null}return t}function pc(t,e){for(;;){var n=Nl;try{if(ws(),ho.current=oa,yo){for(var i=go.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}yo=!1}if(po=0,vo=mo=go=null,bo=!1,xo=0,Tl.current=null,null===n||null===n.return){Ol=1,Ll=e,Nl=null;break}t:{var o=t,a=n.return,l=n,c=e;if(e=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,e),1&p.mode&&ma(o,u,e),c=u;var g=(e=p).updateQueue;if(null===g){var m=new Set;m.add(c),e.updateQueue=m}else g.add(c);break t}if(0===(1&e)){ma(o,u,e),mc();break t}c=Error(s(426))}else if(rs&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,e),ps(ua(c,l));break t}}o=c=ua(c,l),4!==Ol&&(Ol=2),null===zl?zl=[o]:zl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e,Ls(o,pa(0,c,e));break t;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ql||!Ql.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e,Ls(o,ga(o,l,e));break t}}o=o.return}while(null!==o)}wc(n)}catch(x){e=x,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function gc(){var t=Cl.current;return Cl.current=oa,null===t?oa:t}function mc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Il||0===(268435455&jl)&&0===(268435455&Fl)||lc(Il,Al)}function vc(t,e){var n=Ml;Ml|=2;var i=gc();for(Il===t&&Al===e||(Wl=null,fc(t,e));;)try{yc();break}catch(r){pc(t,r)}if(ws(),Ml=n,Cl.current=i,null!==Nl)throw Error(s(261));return Il=null,Al=0,Ol}function yc(){for(;null!==Nl;)xc(Nl)}function bc(){for(;null!==Nl&&!Yt();)xc(Nl)}function xc(t){var e=kl(t.alternate,t,Pl);t.memoizedProps=t.pendingProps,null===e?wc(t):Nl=e,Tl.current=null}function wc(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Ga(n,e,Pl)))return void(Nl=n)}else{if(null!==(n=Ya(n,e)))return n.flags&=32767,void(Nl=n);if(null===t)return Ol=6,void(Nl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Nl=e);Nl=e=t}while(null!==e);0===Ol&&(Ol=5)}function _c(t,e,n){var i=be,r=Dl.transition;try{Dl.transition=null,be=1,function(t,e,n,i){do{Sc()}while(null!==Yl);if(0!==(6&Ml))throw Error(s(327));n=t.finishedWork;var r=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-oe(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}(t,o),t===Il&&(Nl=Il=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Ic(ee,(function(){return Sc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Dl.transition,Dl.transition=null;var a=be;be=1;var l=Ml;Ml|=4,Tl.current=null,function(t,e){if(tr=We,fi(t=di())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break t}var a=0,l=-1,c=-1,u=0,h=0,d=t,f=null;e:for(;;){for(var p;d!==n||0!==r&&3!==d.nodeType||(l=a+r),d!==o||0!==i&&3!==d.nodeType||(c=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===n&&++u===r&&(l=a),f===o&&++h===i&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(er={focusedElem:t,selectionRange:n},We=!1,Za=e;null!==Za;)if(t=(e=Za).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Za=t;else for(;null!==Za;){e=Za;try{var g=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:ms(e.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(s(163))}}catch(w){Ec(e,e.return,w)}if(null!==(t=e.sibling)){t.return=e.return,Za=t;break}Za=e.return}g=nl,nl=!1}(t,n),vl(n,t),pi(er),We=!!tr,er=tr=null,t.current=n,bl(n,t,r),$t(),Ml=l,be=a,Dl.transition=o}else t.current=n;if(Gl&&(Gl=!1,Yl=t,$l=r),o=t.pendingLanes,0===o&&(Ql=null),function(t){if(se&&"function"===typeof se.onCommitFiberRoot)try{se.onCommitFiberRoot(re,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),rc(t,Xt()),null!==e)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(ql)throw ql=!1,t=Kl,Kl=null,t;0!==(1&$l)&&0!==t.tag&&Sc(),o=t.pendingLanes,0!==(1&o)?t===Jl?Xl++:(Xl=0,Jl=t):Xl=0,Ur()}(t,e,n,i)}finally{Dl.transition=r,be=i}return null}function Sc(){if(null!==Yl){var t=xe($l),e=Dl.transition,n=be;try{if(Dl.transition=null,be=16>t?16:t,null===Yl)var i=!1;else{if(t=Yl,Yl=null,$l=0,0!==(6&Ml))throw Error(s(331));var r=Ml;for(Ml|=4,Za=t.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:il(8,h,o)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(ol(h),h===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else t:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:il(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Za=y;break t}Za=o.return}}var b=t.current;for(Za=b;null!==Za;){var x=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==x)x.return=a,Za=x;else t:for(a=b;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Ec(l,l.return,_)}if(l===a){Za=null;break t}var w=l.sibling;if(null!==w){w.return=l.return,Za=w;break t}Za=l.return}}if(Ml=r,Ur(),se&&"function"===typeof se.onPostCommitFiberRoot)try{se.onPostCommitFiberRoot(re,t)}catch(_){}i=!0}return i}finally{be=n,Dl.transition=e}}return!1}function kc(t,e,n){t=Rs(t,e=pa(0,e=ua(n,e),1),1),e=ec(),null!==t&&(ve(t,1,e),rc(t,e))}function Ec(t,e,n){if(3===t.tag)kc(t,t,n);else for(;null!==e;){if(3===e.tag){kc(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Ql||!Ql.has(i))){e=Rs(e,t=ga(e,t=ua(n,t),1),1),t=ec(),null!==e&&(ve(e,1,t),rc(e,t));break}}e=e.return}}function Cc(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=ec(),t.pingedLanes|=t.suspendedLanes&n,Il===t&&(Al&n)===n&&(4===Ol||3===Ol&&(130023424&Al)===Al&&500>Xt()-Ul?fc(t,0):Vl|=n),rc(t,e)}function Tc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ue,0===(130023424&(ue<<=1))&&(ue=4194304)));var n=ec();null!==(t=Ms(t,e))&&(ve(t,e,n),rc(t,n))}function Dc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Tc(t,n)}function Mc(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(s(314))}null!==i&&i.delete(e),Tc(t,n)}function Ic(t,e){return Qt(t,e)}function Nc(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(t,e,n,i){return new Nc(t,e,n,i)}function Pc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Rc(t,e){var n=t.alternate;return null===n?((n=Ac(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Oc(t,e,n,i,r,o){var a=2;if(i=t,"function"===typeof t)Pc(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case S:return Lc(n.children,r,o,e);case k:a=8,r|=8;break;case E:return(t=Ac(12,n,e,2|r)).elementType=E,t.lanes=o,t;case M:return(t=Ac(13,n,e,r)).elementType=M,t.lanes=o,t;case I:return(t=Ac(19,n,e,r)).elementType=I,t.lanes=o,t;case P:return jc(n,r,o,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case C:a=10;break t;case T:a=9;break t;case D:a=11;break t;case N:a=14;break t;case A:a=16,i=null;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Ac(a,n,e,r)).elementType=t,e.type=i,e.lanes=o,e}function Lc(t,e,n,i){return(t=Ac(7,t,i,e)).lanes=n,t}function jc(t,e,n,i){return(t=Ac(22,t,i,e)).elementType=P,t.lanes=n,t.stateNode={isHidden:!1},t}function Fc(t,e,n){return(t=Ac(6,t,null,e)).lanes=n,t}function Vc(t,e,n){return(e=Ac(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zc(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Bc(t,e,n,i,r,s,o,a,l){return t=new zc(t,e,n,a,l),1===e?(e=1,!0===s&&(e|=8)):e=0,s=Ac(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ns(s),t}function Uc(t){if(!t)return Tr;t:{if(Ut(t=t._reactInternals)!==t||1!==t.tag)throw Error(s(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Ar(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(s(171))}if(1===t.tag){var n=t.type;if(Ar(n))return Or(t,n,e)}return e}function Hc(t,e,n,i,r,s,o,a,l){return(t=Bc(n,i,!0,t,0,s,0,a,l)).context=Uc(null),n=t.current,(s=Ps(i=ec(),r=nc(n))).callback=void 0!==e&&null!==e?e:null,Rs(n,s,r),t.current.lanes=r,ve(t,r,i),rc(t,i),t}function Wc(t,e,n,i){var r=e.current,s=ec(),o=nc(r);return n=Uc(n),null===e.context?e.context=n:e.pendingContext=n,(e=Ps(s,o)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),null!==(t=Rs(r,e,o))&&(ic(t,r,o,s),Os(t,r,o)),o}function qc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Kc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Qc(t,e){Kc(t,e),(t=t.alternate)&&Kc(t,e)}kl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Mr.current)xa=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return xa=!1,function(t,e,n){switch(e.tag){case 3:Ia(e),fs();break;case 5:so(e);break;case 1:Ar(e.type)&&Lr(e);break;case 4:io(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Cr(vs,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=e.memoizedState))return null!==i.dehydrated?(Cr(ao,1&ao.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Fa(t,e,n):(Cr(ao,1&ao.current),null!==(t=qa(t,e,n))?t.sibling:null);Cr(ao,1&ao.current);break;case 19:if(i=0!==(n&e.childLanes),0!==(128&t.flags)){if(i)return Ha(t,e,n);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cr(ao,ao.current),i)break;return null;case 22:case 23:return e.lanes=0,Ea(t,e,n)}return qa(t,e,n)}(t,e,n);xa=0!==(131072&t.flags)}else xa=!1,rs&&0!==(1048576&e.flags)&&Zr(e,Kr,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Wa(t,e),t=e.pendingProps;var r=Nr(e,Dr.current);ks(e,n),r=ko(null,e,i,t,r,n);var o=Eo();return e.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ar(i)?(o=!0,Lr(e)):o=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ns(e),r.updater=Bs,e.stateNode=r,r._reactInternals=e,qs(e,i,t,n),e=Ma(null,e,i,!0,o,n)):(e.tag=0,rs&&o&&ts(e),wa(null,e,r,n),e=e.child),e;case 16:i=e.elementType;t:{switch(Wa(t,e),t=e.pendingProps,i=(r=i._init)(i._payload),e.type=i,r=e.tag=function(t){if("function"===typeof t)return Pc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===D)return 11;if(t===N)return 14}return 2}(i),t=ms(i,t),r){case 0:e=Ta(null,e,i,t,n);break t;case 1:e=Da(null,e,i,t,n);break t;case 11:e=_a(null,e,i,t,n);break t;case 14:e=Sa(null,e,i,ms(i.type,t),n);break t}throw Error(s(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,Ta(t,e,i,r=e.elementType===i?r:ms(i,r),n);case 1:return i=e.type,r=e.pendingProps,Da(t,e,i,r=e.elementType===i?r:ms(i,r),n);case 3:t:{if(Ia(e),null===t)throw Error(s(387));i=e.pendingProps,r=(o=e.memoizedState).element,As(t,e),js(e,i,null,n);var a=e.memoizedState;if(i=a.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=Na(t,e,i,n,r=ua(Error(s(423)),e));break t}if(i!==r){e=Na(t,e,i,n,r=ua(Error(s(424)),e));break t}for(is=cr(e.stateNode.containerInfo.firstChild),ns=e,rs=!0,ss=null,n=Xs(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),i===r){e=qa(t,e,n);break t}wa(t,e,i,n)}e=e.child}return e;case 5:return so(e),null===t&&cs(e),i=e.type,r=e.pendingProps,o=null!==t?t.memoizedProps:null,a=r.children,nr(i,r)?a=null:null!==o&&nr(i,o)&&(e.flags|=32),Ca(t,e),wa(t,e,a,n),e.child;case 6:return null===t&&cs(e),null;case 13:return Fa(t,e,n);case 4:return io(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=$s(e,null,i,n):wa(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,_a(t,e,i,r=e.elementType===i?r:ms(i,r),n);case 7:return wa(t,e,e.pendingProps,n),e.child;case 8:case 12:return wa(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,a=r.value,Cr(vs,i._currentValue),i._currentValue=a,null!==o)if(ai(o.value,a)){if(o.children===r.children&&!Mr.current){e=qa(t,e,n);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===o.tag){(c=Ps(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ss(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===e.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ss(a,n,e),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}wa(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,ks(e,n),i=i(r=Es(r)),e.flags|=1,wa(t,e,i,n),e.child;case 14:return r=ms(i=e.type,e.pendingProps),Sa(t,e,i,r=ms(i.type,r),n);case 15:return ka(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ms(i,r),Wa(t,e),e.tag=1,Ar(i)?(t=!0,Lr(e)):t=!1,ks(e,n),Hs(e,i,r),qs(e,i,r,n),Ma(null,e,i,!0,t,n);case 19:return Ha(t,e,n);case 22:return Ea(t,e,n)}throw Error(s(156,e.tag))};var Gc="function"===typeof reportError?reportError:function(t){console.error(t)};function Yc(t){this._internalRoot=t}function $c(t){this._internalRoot=t}function Xc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Jc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Zc(){}function tu(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof r){var a=r;r=function(){var t=qc(o);a.call(t)}}Wc(e,o,t,r)}else o=function(t,e,n,i,r){if(r){if("function"===typeof i){var s=i;i=function(){var t=qc(o);s.call(t)}}var o=Hc(e,i,t,0,null,!1,0,"",Zc);return t._reactRootContainer=o,t[pr]=o.current,Ui(8===t.nodeType?t.parentNode:t),hc(),o}for(;r=t.lastChild;)t.removeChild(r);if("function"===typeof i){var a=i;i=function(){var t=qc(l);a.call(t)}}var l=Bc(t,0,!1,null,0,!1,0,"",Zc);return t._reactRootContainer=l,t[pr]=l.current,Ui(8===t.nodeType?t.parentNode:t),hc((function(){Wc(e,l,n,i)})),l}(n,e,t,r,i);return qc(o)}$c.prototype.render=Yc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(s(409));Wc(t,e,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;hc((function(){Wc(null,t,null,null)})),e[pr]=null}},$c.prototype.unstable_scheduleHydration=function(t){if(t){var e=ke();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pe.length&&0!==e&&e<Pe[n].priority;n++);Pe.splice(n,0,t),0===n&&je(t)}},we=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ye(e,1|n),rc(e,Xt()),0===(6&Ml)&&(Hl=Xt()+500,Ur()))}break;case 13:hc((function(){var e=Ms(t,1);if(null!==e){var n=ec();ic(e,t,1,n)}})),Qc(t,1)}},_e=function(t){if(13===t.tag){var e=Ms(t,134217728);if(null!==e)ic(e,t,134217728,ec());Qc(t,134217728)}},Se=function(t){if(13===t.tag){var e=nc(t),n=Ms(t,e);if(null!==n)ic(n,t,e,ec());Qc(t,e)}},ke=function(){return be},Ee=function(t,e){var n=be;try{return be=t,e()}finally{be=n}},_t=function(t,e,n){switch(e){case"input":if(J(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=wr(i);if(!r)throw Error(s(90));Q(i),J(i,r)}}}break;case"textarea":st(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Dt=uc,Mt=hc;var eu={usingClientEntryPoint:!1,Events:[br,xr,wr,Ct,Tt,uc]},nu={findFiberByHostInstance:yr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iu={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=qt(t))?null:t.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{re=ru.inject(iu),se=ru}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(e))throw Error(s(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Xc(t))throw Error(s(299));var n=!1,i="",r=Gc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onRecoverableError&&(r=e.onRecoverableError)),e=Bc(t,1,!1,null,0,n,0,i,r),t[pr]=e.current,Ui(8===t.nodeType?t.parentNode:t),new Yc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return t=null===(t=qt(e))?null:t.stateNode},e.flushSync=function(t){return hc(t)},e.hydrate=function(t,e,n){if(!Jc(e))throw Error(s(200));return tu(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Xc(t))throw Error(s(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),e=Hc(e,null,t,1,null!=n?n:null,r,0,o,a),t[pr]=e.current,Ui(t),i)for(t=0;t<i.length;t++)r=(r=(n=i[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new $c(e)},e.render=function(t,e,n){if(!Jc(e))throw Error(s(200));return tu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Jc(t))throw Error(s(40));return!!t._reactRootContainer&&(hc((function(){tu(null,null,t,!1,(function(){t._reactRootContainer=null,t[pr]=null}))})),!0)},e.unstable_batchedUpdates=uc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Jc(n))throw Error(s(200));if(null==t||void 0===t._reactInternals)throw Error(s(38));return tu(t,e,n,!1,i)},e.version="18.2.0-next-9e3b772b8-20220608"},391:(t,e,n)=>{var i=n(950);e.createRoot=i.createRoot,e.hydrateRoot=i.hydrateRoot},950:(t,e,n)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(730)},153:(t,e,n)=>{var i=n(43),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var i,s={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)o.call(e,i)&&!l.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===s[i]&&(s[i]=e[i]);return{$$typeof:r,type:t,key:c,ref:u,props:s,_owner:a.current}}e.jsx=c,e.jsxs=c},202:(t,e)=>{var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}function y(){}function b(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,i){var r,s={},o=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)_.call(e,r)&&!k.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(1===l)s.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:t,key:o,ref:a,props:s,_owner:S.current}}function C(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var T=/\/+/g;function D(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function M(t,e,r,s,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=t),t=""===s?"."+D(l,0):s,w(o)?(r="",null!=t&&(r=t.replace(T,"$&/")+"/"),M(o,e,r,"",(function(t){return t}))):null!=o&&(C(o)&&(o=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+t)),e.push(o)),1;if(l=0,s=""===s?".":s+":",w(t))for(var c=0;c<t.length;c++){var u=s+D(a=t[c],c);l+=M(a,e,r,u,o)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(a=t.next()).done;)l+=M(a=a.value,e,r,u=s+D(a,c++),o);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function I(t,e,n){if(null==t)return t;var i=[],r=0;return M(t,i,"","",(function(t){return e.call(n,t,r++)})),i}function N(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var A={current:null},P={transition:null},R={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:P,ReactCurrentOwner:S};e.Children={map:I,forEach:function(t,e,n){I(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return I(t,(function(){e++})),e},toArray:function(t){return I(t,(function(t){return t}))||[]},only:function(t){if(!C(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=r,e.Profiler=o,e.PureComponent=b,e.StrictMode=s,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=g({},t.props),s=t.key,o=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,a=S.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)_.call(e,c)&&!k.hasOwnProperty(c)&&(r[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:t.type,key:s,ref:o,props:r,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:N}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=P.transition;P.transition={};try{t()}finally{P.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return A.current.useCallback(t,e)},e.useContext=function(t){return A.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return A.current.useDeferredValue(t)},e.useEffect=function(t,e){return A.current.useEffect(t,e)},e.useId=function(){return A.current.useId()},e.useImperativeHandle=function(t,e,n){return A.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return A.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return A.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return A.current.useMemo(t,e)},e.useReducer=function(t,e,n){return A.current.useReducer(t,e,n)},e.useRef=function(t){return A.current.useRef(t)},e.useState=function(t){return A.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return A.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return A.current.useTransition()},e.version="18.2.0"},43:(t,e,n)=>{t.exports=n(202)},579:(t,e,n)=>{t.exports=n(153)},234:(t,e)=>{function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,r=t[i];if(!(0<s(r,e)))break t;t[i]=e,t[n]=r,n=i}}function i(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length,o=r>>>1;i<o;){var a=2*(i+1)-1,l=t[a],c=a+1,u=t[c];if(0>s(l,n))c<r&&0>s(u,l)?(t[i]=u,t[c]=n,i=c):(t[i]=l,t[a]=n,i=a);else{if(!(c<r&&0>s(u,n)))break t;t[i]=u,t[c]=n,i=c}}}return e}function s(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(t){for(var e=i(u);null!==e;){if(null===e.callback)r(u);else{if(!(e.startTime<=t))break;r(u),e.sortIndex=e.expirationTime,n(c,e)}e=i(u)}}function w(t){if(m=!1,x(t),!g)if(null!==i(c))g=!0,P(_);else{var e=i(u);null!==e&&R(w,e.startTime-t)}}function _(t,n){g=!1,m&&(m=!1,y(C),C=-1),p=!0;var s=f;try{for(x(n),d=i(c);null!==d&&(!(d.expirationTime>n)||t&&!M());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=e.unstable_now(),"function"===typeof a?d.callback=a:d===i(c)&&r(c),x(n)}else r(c);d=i(c)}if(null!==d)var l=!0;else{var h=i(u);null!==h&&R(w,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,E=null,C=-1,T=5,D=-1;function M(){return!(e.unstable_now()-D<T)}function I(){if(null!==E){var t=e.unstable_now();D=t;var n=!0;try{n=E(!0,t)}finally{n?S():(k=!1,E=null)}}else k=!1}if("function"===typeof b)S=function(){b(I)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,A=N.port2;N.port1.onmessage=I,S=function(){A.postMessage(null)}}else S=function(){v(I,0)};function P(t){E=t,k||(k=!0,S())}function R(t,n){C=v((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,P(_))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return i(c)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,r,s){var o=e.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:h++,callback:r,priorityLevel:t,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(t.sortIndex=s,n(u,t),null===i(c)&&t===i(u)&&(m?(y(C),C=-1):m=!0,R(w,s-o))):(t.sortIndex=a,n(c,t),g||p||(g=!0,P(_))),t},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},853:(t,e,n)=>{t.exports=n(234)}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,n),s.exports}(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var s=Object.create(null);n.r(s);var o={};t=t||[null,e({}),e([]),e(e)];for(var a=2&r&&i;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>o[t]=()=>i[t]));return o.default=()=>i,n.d(s,o),s}})(),n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="/agrohawkweb/",(()=>{var t,e=n(43),i=n.t(e,2),r=n(391),s=n(950),o=n.t(s,2);function a(){return a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(t||(t={}));const l="popstate";function c(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function u(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function h(t,e){return{usr:t.state,key:t.key,idx:e}}function d(t,e,n,i){return void 0===n&&(n=null),a({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?p(e):e,{state:n,key:e&&e.key||i||Math.random().toString(36).substr(2,8)})}function f(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(e+="#"===i.charAt(0)?i:"#"+i),e}function p(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function g(e,n,i,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,p=t.Pop,g=null,m=v();function v(){return(u.state||{idx:null}).idx}function y(){p=t.Pop;let e=v(),n=null==e?null:e-m;m=e,g&&g({action:p,location:x.location,delta:n})}function b(t){let e="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof t?t:f(t);return n=n.replace(/ $/,"%20"),c(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}null==m&&(m=0,u.replaceState(a({},u.state,{idx:m}),""));let x={get action(){return p},get location(){return e(s,u)},listen(t){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(l,y),g=t,()=>{s.removeEventListener(l,y),g=null}},createHref:t=>n(s,t),createURL:b,encodeLocation(t){let e=b(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(e,n){p=t.Push;let r=d(x.location,e,n);i&&i(r,e),m=v()+1;let a=h(r,m),l=x.createHref(r);try{u.pushState(a,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}o&&g&&g({action:p,location:x.location,delta:1})},replace:function(e,n){p=t.Replace;let r=d(x.location,e,n);i&&i(r,e),m=v();let s=h(r,m),a=x.createHref(r);u.replaceState(s,"",a),o&&g&&g({action:p,location:x.location,delta:0})},go:t=>u.go(t)};return x}var m;!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(t,e,n){void 0===n&&(n="/");let i=N(("string"===typeof e?p(e):e).pathname||"/",n);if(null==i)return null;let r=y(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(r);let s=null;for(let o=0;null==s&&o<r.length;++o){let t=I(i);s=D(r[o],t)}return s}function y(t,e,n,i){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(t,r,s)=>{let o={relativePath:void 0===s?t.path||"":s,caseSensitive:!0===t.caseSensitive,childrenIndex:r,route:t};o.relativePath.startsWith("/")&&(c(o.relativePath.startsWith(i),'Absolute route path "'+o.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(i.length));let a=L([i,o.relativePath]),l=n.concat(o);t.children&&t.children.length>0&&(c(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),y(t.children,e,l,a)),(null!=t.path||t.index)&&e.push({path:a,score:T(a,t.index),routesMeta:l})};return t.forEach(((t,e)=>{var n;if(""!==t.path&&null!=(n=t.path)&&n.includes("?"))for(let i of b(t.path))r(t,e,i);else r(t,e)})),e}function b(t){let e=t.split("/");if(0===e.length)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===i.length)return r?[s,""]:[s];let o=b(i.join("/")),a=[];return a.push(...o.map((t=>""===t?s:[s,t].join("/")))),r&&a.push(...o),a.map((e=>t.startsWith("/")&&""===e?"/":e))}const x=/^:[\w-]+$/,w=3,_=2,S=1,k=10,E=-2,C=t=>"*"===t;function T(t,e){let n=t.split("/"),i=n.length;return n.some(C)&&(i+=E),e&&(i+=_),n.filter((t=>!C(t))).reduce(((t,e)=>t+(x.test(e)?w:""===e?S:k)),i)}function D(t,e){let{routesMeta:n}=t,i={},r="/",s=[];for(let o=0;o<n.length;++o){let t=n[o],a=o===n.length-1,l="/"===r?e:e.slice(r.length)||"/",c=M({path:t.relativePath,caseSensitive:t.caseSensitive,end:a},l);if(!c)return null;Object.assign(i,c.params);let u=t.route;s.push({params:i,pathname:L([r,c.pathname]),pathnameBase:j(L([r,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(r=L([r,c.pathnameBase]))}return s}function M(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);u("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,n)=>(i.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(i.push({paramName:"*"}),r+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==t&&"/"!==t&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,e?void 0:"i");return[s,i]}(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1),l=i.reduce(((t,e,n)=>{let{paramName:i,isOptional:r}=e;if("*"===i){let t=a[n]||"";o=s.slice(0,s.length-t.length).replace(/(.)\/+$/,"$1")}const l=a[n];return t[i]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),t}),{});return{params:l,pathname:s,pathnameBase:o,pattern:t}}function I(t){try{return t.split("/").map((t=>decodeURIComponent(t).replace(/\//g,"%2F"))).join("/")}catch(e){return u(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function N(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&"/"!==i?null:t.slice(n)||"/"}function A(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function P(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function R(t,e){let n=P(t);return e?n.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)):n.map((t=>t.pathnameBase))}function O(t,e,n,i){let r;void 0===i&&(i=!1),"string"===typeof t?r=p(t):(r=a({},t),c(!r.pathname||!r.pathname.includes("?"),A("?","pathname","search",r)),c(!r.pathname||!r.pathname.includes("#"),A("#","pathname","hash",r)),c(!r.search||!r.search.includes("#"),A("#","search","hash",r)));let s,o=""===t||""===r.pathname,l=o?"/":r.pathname;if(null==l)s=n;else{let t=e.length-1;if(!i&&l.startsWith("..")){let e=l.split("/");for(;".."===e[0];)e.shift(),t-=1;r.pathname=e.join("/")}s=t>=0?e[t]:"/"}let u=function(t,e){void 0===e&&(e="/");let{pathname:n,search:i="",hash:r=""}="string"===typeof t?p(t):t,s=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:s,search:F(i),hash:V(r)}}(r,s),h=l&&"/"!==l&&l.endsWith("/"),d=(o||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const L=t=>t.join("/").replace(/\/\/+/g,"/"),j=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),F=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",V=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";Error;function z(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}const B=["post","put","patch","delete"],U=(new Set(B),["get",...B]);new Set(U),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},H.apply(this,arguments)}const W=e.createContext(null);const q=e.createContext(null);const K=e.createContext(null);const Q=e.createContext(null);const G=e.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=e.createContext(null);function $(){return null!=e.useContext(Q)}function X(){return $()||c(!1),e.useContext(Q).location}function J(t){e.useContext(K).static||e.useLayoutEffect(t)}function Z(){let{isDataRoute:t}=e.useContext(G);return t?function(){let{router:t}=lt(ot.UseNavigateStable),n=ut(at.UseNavigateStable),i=e.useRef(!1);J((()=>{i.current=!0}));let r=e.useCallback((function(e,r){void 0===r&&(r={}),i.current&&("number"===typeof e?t.navigate(e):t.navigate(e,H({fromRouteId:n},r)))}),[t,n]);return r}():function(){$()||c(!1);let t=e.useContext(W),{basename:n,future:i,navigator:r}=e.useContext(K),{matches:s}=e.useContext(G),{pathname:o}=X(),a=JSON.stringify(R(s,i.v7_relativeSplatPath)),l=e.useRef(!1);J((()=>{l.current=!0}));let u=e.useCallback((function(e,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof e)return void r.go(e);let s=O(e,JSON.parse(a),o,"path"===i.relative);null==t&&"/"!==n&&(s.pathname="/"===s.pathname?n:L([n,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[n,r,a,o,t]);return u}()}function tt(n,i,r,s){$()||c(!1);let{navigator:o}=e.useContext(K),{matches:a}=e.useContext(G),l=a[a.length-1],u=l?l.params:{},h=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=X();if(i){var g;let t="string"===typeof i?p(i):i;"/"===h||(null==(g=t.pathname)?void 0:g.startsWith(h))||c(!1),d=t}else d=f;let m=d.pathname||"/",y=m;if("/"!==h){let t=h.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(t.length).join("/")}let b=v(n,{pathname:y});let x=st(b&&b.map((t=>Object.assign({},t,{params:Object.assign({},u,t.params),pathname:L([h,o.encodeLocation?o.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?h:L([h,o.encodeLocation?o.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),a,r,s);return i&&x?e.createElement(Q.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:t.Pop}},x):x}function et(){let t=function(){var t;let n=e.useContext(Y),i=ct(at.UseRouteError),r=ut(at.UseRouteError);if(void 0!==n)return n;return null==(t=i.errors)?void 0:t[r]}(),n=z(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),i?e.createElement("pre",{style:s},i):null,null)}const nt=e.createElement(et,null);class it extends e.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?e.createElement(G.Provider,{value:this.props.routeContext},e.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rt(t){let{routeContext:n,match:i,children:r}=t,s=e.useContext(W);return s&&s.static&&s.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=i.route.id),e.createElement(G.Provider,{value:n},r)}function st(t,n,i,r){var s;if(void 0===n&&(n=[]),void 0===i&&(i=null),void 0===r&&(r=null),null==t){var o;if(null==(o=i)||!o.errors)return null;t=i.matches}let a=t,l=null==(s=i)?void 0:s.errors;if(null!=l){let t=a.findIndex((t=>t.route.id&&(null==l?void 0:l[t.route.id])));t>=0||c(!1),a=a.slice(0,Math.min(a.length,t+1))}let u=!1,h=-1;if(i&&r&&r.v7_partialHydration)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(h=e),t.route.id){let{loaderData:e,errors:n}=i,r=t.route.loader&&void 0===e[t.route.id]&&(!n||void 0===n[t.route.id]);if(t.route.lazy||r){u=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight(((t,r,s)=>{let o,c=!1,d=null,f=null;var p;i&&(o=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||nt,u&&(h<0&&0===s?(p="route-fallback",!1||ht[p]||(ht[p]=!0),c=!0,f=null):h===s&&(c=!0,f=r.route.hydrateFallbackElement||null)));let g=n.concat(a.slice(0,s+1)),m=()=>{let n;return n=o?d:c?f:r.route.Component?e.createElement(r.route.Component,null):r.route.element?r.route.element:t,e.createElement(rt,{match:r,routeContext:{outlet:t,matches:g,isDataRoute:null!=i},children:n})};return i&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?e.createElement(it,{location:i.location,revalidation:i.revalidation,component:d,error:o,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var ot=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ot||{}),at=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(at||{});function lt(t){let n=e.useContext(W);return n||c(!1),n}function ct(t){let n=e.useContext(q);return n||c(!1),n}function ut(t){let n=function(t){let n=e.useContext(G);return n||c(!1),n}(),i=n.matches[n.matches.length-1];return i.route.id||c(!1),i.route.id}const ht={};i.startTransition;function dt(t){c(!1)}function ft(n){let{basename:i="/",children:r=null,location:s,navigationType:o=t.Pop,navigator:a,static:l=!1,future:u}=n;$()&&c(!1);let h=i.replace(/^\/*/,"/"),d=e.useMemo((()=>({basename:h,navigator:a,static:l,future:H({v7_relativeSplatPath:!1},u)})),[h,u,a,l]);"string"===typeof s&&(s=p(s));let{pathname:f="/",search:g="",hash:m="",state:v=null,key:y="default"}=s,b=e.useMemo((()=>{let t=N(f,h);return null==t?null:{location:{pathname:t,search:g,hash:m,state:v,key:y},navigationType:o}}),[h,f,g,m,v,y,o]);return null==b?null:e.createElement(K.Provider,{value:d},e.createElement(Q.Provider,{children:r,value:b}))}function pt(t){let{children:e,location:n}=t;return tt(gt(e),n)}new Promise((()=>{}));e.Component;function gt(t,n){void 0===n&&(n=[]);let i=[];return e.Children.forEach(t,((t,r)=>{if(!e.isValidElement(t))return;let s=[...n,r];if(t.type===e.Fragment)return void i.push.apply(i,gt(t.props.children,s));t.type!==dt&&c(!1),t.props.index&&t.props.children&&c(!1);let o={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=gt(t.props.children,s)),i.push(o)})),i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(tS){}new Map;const mt=i.startTransition;o.flushSync,i.useId;function vt(t){let{basename:n,children:i,future:r,window:s}=t,o=e.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),g((function(t,e){let{pathname:n,search:i,hash:r}=t.location;return d("",{pathname:n,search:i,hash:r},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:f(e)}),null,a)));let l=o.current,[c,u]=e.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},p=e.useCallback((t=>{h&&mt?mt((()=>u(t))):u(t)}),[u,h]);return e.useLayoutEffect((()=>l.listen(p)),[l,p]),e.createElement(ft,{basename:n,children:i,location:c.location,navigationType:c.action,navigator:l,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var yt,bt;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(yt||(yt={})),function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(bt||(bt={}));var xt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wt=e.createContext&&e.createContext(xt),_t=["attr","size","title"];function St(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kt(){return kt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},kt.apply(this,arguments)}function Et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Et(Object(n),!0).forEach((function(e){Tt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dt(t){return t&&t.map(((t,n)=>e.createElement(t.tag,Ct({key:n},t.attr),Dt(t.child))))}function Mt(t){return n=>e.createElement(It,kt({attr:Ct({},t.attr)},n),Dt(t.child))}function It(t){var n=n=>{var i,{attr:r,size:s,title:o}=t,a=St(t,_t),l=s||n.size||"1em";return n.className&&(i=n.className),t.className&&(i=(i?i+" ":"")+t.className),e.createElement("svg",kt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:i,style:Ct(Ct({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&e.createElement("title",null,o),t.children)};return void 0!==wt?e.createElement(wt.Consumer,null,(t=>n(t))):n(xt)}function Nt(t){return Mt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-352 96c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H86.4C74 384 64 375.4 64 364.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2zM512 312c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-64c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-64c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function At(t){return Mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function Pt(t){return Mt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M570.69,236.27,512,184.44V48a16,16,0,0,0-16-16H432a16,16,0,0,0-16,16V99.67L314.78,10.3C308.5,4.61,296.53,0,288,0s-20.46,4.61-26.74,10.3l-256,226A18.27,18.27,0,0,0,0,248.2a18.64,18.64,0,0,0,4.09,10.71L25.5,282.7a21.14,21.14,0,0,0,12,5.3,21.67,21.67,0,0,0,10.69-4.11l15.9-14V480a32,32,0,0,0,32,32H480a32,32,0,0,0,32-32V269.88l15.91,14A21.94,21.94,0,0,0,538.63,288a20.89,20.89,0,0,0,11.87-5.31l21.41-23.81A21.64,21.64,0,0,0,576,248.19,21,21,0,0,0,570.69,236.27ZM288,176a64,64,0,1,1-64,64A64,64,0,0,1,288,176ZM400,448H176a16,16,0,0,1-16-16,96,96,0,0,1,96-96h64a96,96,0,0,1,96,96A16,16,0,0,1,400,448Z"},child:[]}]})(t)}function Rt(t){return Mt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function Ot(t){return Mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function Lt(t){return Mt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const jt=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296===(64512&r)&&i+1<t.length&&56320===(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},Ft={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const e=t[r],s=r+1<t.length,o=s?t[r+1]:0,a=r+2<t.length,l=a?t[r+2]:0,c=e>>2,u=(3&e)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),i.push(n[c],n[u],n[h],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jt(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(s>>10)),e[i++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const e=n[t.charAt(r++)],s=r<t.length?n[t.charAt(r)]:0;++r;const o=r<t.length?n[t.charAt(r)]:64;++r;const a=r<t.length?n[t.charAt(r)]:64;if(++r,null==e||null==s||null==o||null==a)throw new Vt;const l=e<<2|s>>4;if(i.push(l),64!==o){const t=s<<4&240|o>>2;if(i.push(t),64!==a){const t=o<<6&192|a;i.push(t)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Vt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zt=function(t){return function(t){const e=jt(t);return Ft.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Bt=function(t){try{return Ft.decodeString(t,!0)}catch(tS){console.error("base64Decode failed: ",tS)}return null};const Ut=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ht=()=>{try{return Ut()||(()=>{if("undefined"===typeof process)return;const t={NODE_ENV:"production",PUBLIC_URL:"/agrohawkweb",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(tS){return}const e=t&&Bt(t[1]);return e&&JSON.parse(e)})()}catch(tS){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(tS))}},Wt=t=>{const e=(t=>{var e,n;return null===(n=null===(e=Ht())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const i=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),i]:[e.substring(0,n),i]},qt=()=>{var t;return null===(t=Ht())||void 0===t?void 0:t.config};class Kt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function Qt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Gt(){return!function(){var t;const e=null===(t=Ht())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(tS){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yt(){try{return"object"===typeof indexedDB}catch(tS){return!1}}class $t extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,$t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xt.prototype.create)}}class Xt{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t){const e=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(t),i=this.errors[t],r=i?function(t,e){return t.replace(Jt,((t,n)=>{const i=e[n];return null!=i?String(i):"<".concat(n,"?>")}))}(i,e):"Error",s="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new $t(n,s,e)}}const Jt=/\{\$([^}]+)}/g;function Zt(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const n=t[r],s=e[r];if(te(n)&&te(s)){if(!Zt(n,s))return!1}else if(n!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function te(t){return null!==t&&"object"===typeof t}function ee(t){return t&&t._delegate?t._delegate:t}class ne{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ie="[DEFAULT]";class re{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new Kt;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(tS){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),i=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(tS){if(i)return null;throw tS}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:ie})}catch(tS){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(tS){}}}}clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie;return this.instances.has(t)}getOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie;return this.instancesOptions.get(t)||{}}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[r,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&s.resolve(i)}return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch(i){}}getOrInitializeService(t){let{instanceIdentifier:e,options:n={}}=t,i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===ie?void 0:r),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(s){}var r;return i||null}normalizeInstanceIdentifier(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie;return this.component?this.component.multipleInstances?t:ie:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class se{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component ".concat(t.name," has already been registered with ").concat(this.name));e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new re(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const oe=[];var ae;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(ae||(ae={}));const le={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},ce=ae.INFO,ue={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},he=function(t,e){if(e<t.logLevel)return;const n=(new Date).toISOString(),i=ue[e];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"));for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];console[i]("[".concat(n,"]  ").concat(t.name,":"),...s)};class de{constructor(t){this.name=t,this._logLevel=ce,this._logHandler=he,this._userLogHandler=null,oe.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ae))throw new TypeError('Invalid value "'.concat(t,'" assigned to `logLevel`'));this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?le[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const fe=(t,e)=>e.some((e=>t instanceof e));let pe,ge;const me=new WeakMap,ve=new WeakMap,ye=new WeakMap,be=new WeakMap,xe=new WeakMap;let we={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ve.get(t);if("objectStoreNames"===e)return t.objectStoreNames||ye.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ke(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function _e(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(Ee(this),n),ke(me.get(this))}:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return ke(t.apply(Ee(this),n))}:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const s=t.call(Ee(this),e,...i);return ye.set(s,e.sort?e.sort():[e]),ke(s)}}function Se(t){return"function"===typeof t?_e(t):(t instanceof IDBTransaction&&function(t){if(ve.has(t))return;const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",s),t.removeEventListener("abort",s)},r=()=>{e(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",s),t.addEventListener("abort",s)}));ve.set(t,e)}(t),fe(t,pe||(pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,we):t)}function ke(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",s)},r=()=>{e(ke(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&me.set(e,t)})).catch((()=>{})),xe.set(e,t),e}(t);if(be.has(t))return be.get(t);const e=Se(t);return e!==t&&(be.set(t,e),xe.set(e,t)),e}const Ee=t=>xe.get(t);const Ce=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],De=new Map;function Me(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(De.get(e))return De.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=Te.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Ce.includes(n))return;const s=async function(t){const e=this.transaction(t,r?"readwrite":"readonly");let s=e.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return i&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),r&&e.done]))[0]};return De.set(e,s),s}!function(t){we=t(we)}((t=>({...t,get:(e,n,i)=>Me(e,n)||t.get(e,n,i),has:(e,n)=>!!Me(e,n)||t.has(e,n)})));class Ie{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){const e=t.getImmediate();return"".concat(e.library,"/").concat(e.version)}return null})).filter((t=>t)).join(" ")}}const Ne="@firebase/app",Ae="0.10.0",Pe=new de("@firebase/app"),Re="[DEFAULT]",Oe={[Ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Le=new Map,je=new Map,Fe=new Map;function Ve(t,e){try{t.container.addComponent(e)}catch(tS){Pe.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),tS)}}function ze(t){const e=t.name;if(Fe.has(e))return Pe.debug("There were multiple attempts to register component ".concat(e,".")),!1;Fe.set(e,t);for(const n of Le.values())Ve(n,t);for(const n of je.values())Ve(n,t);return!0}function Be(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ue=new Xt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class He{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ne("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ue.create("app-deleted",{appName:this._name})}}function We(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if("object"!==typeof e){e={name:e}}const i=Object.assign({name:Re,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!==typeof r||!r)throw Ue.create("bad-app-name",{appName:String(r)});if(n||(n=qt()),!n)throw Ue.create("no-options");const s=Le.get(r);if(s){if(Zt(n,s.options)&&Zt(i,s.config))return s;throw Ue.create("duplicate-app",{appName:r})}const o=new se(r);for(const l of Fe.values())o.addComponent(l);const a=new He(n,i,o);return Le.set(r,a),a}function qe(t,e,n){var i;let r=null!==(i=Oe[t])&&void 0!==i?i:t;n&&(r+="-".concat(n));const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const t=['Unable to register library "'.concat(r,'" with version "').concat(e,'":')];return s&&t.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),s&&o&&t.push("and"),o&&t.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),void Pe.warn(t.join(" "))}ze(new ne("".concat(r,"-version"),(()=>({library:r,version:e})),"VERSION"))}const Ke="firebase-heartbeat-database",Qe=1,Ge="firebase-heartbeat-store";let Ye=null;function $e(){return Ye||(Ye=function(t,e){let{blocked:n,upgrade:i,blocking:r,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(t,e),a=ke(o);return i&&o.addEventListener("upgradeneeded",(t=>{i(ke(o.result),t.oldVersion,t.newVersion,ke(o.transaction),t)})),n&&o.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),a.then((t=>{s&&t.addEventListener("close",(()=>s())),r&&t.addEventListener("versionchange",(t=>r(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}(Ke,Qe,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(Ge)}catch(tS){console.warn(tS)}}}).catch((t=>{throw Ue.create("idb-open",{originalErrorMessage:t.message})}))),Ye}async function Xe(t,e){try{const n=(await $e()).transaction(Ge,"readwrite"),i=n.objectStore(Ge);await i.put(e,Je(t)),await n.done}catch(tS){if(tS instanceof $t)Pe.warn(tS.message);else{const e=Ue.create("idb-set",{originalErrorMessage:null===tS||void 0===tS?void 0:tS.message});Pe.warn(e.message)}}}function Je(t){return"".concat(t.name,"!").concat(t.options.appId)}class Ze{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new en(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){var t,e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=tn();if((null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==i&&!this._heartbeatsCache.heartbeats.some((t=>t.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=tn(),{heartbeatsToSend:n,unsentEntries:i}=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=t.slice();for(const r of t){const t=n.find((t=>t.agent===r.agent));if(t){if(t.dates.push(r.date),nn(n)>e){t.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),nn(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),r=zt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function tn(){return(new Date).toISOString().substring(0,10)}class en{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Yt()&&new Promise(((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await $e()).transaction(Ge),n=await e.objectStore(Ge).get(Je(t));return await e.done,n}catch(tS){if(tS instanceof $t)Pe.warn(tS.message);else{const e=Ue.create("idb-get",{originalErrorMessage:null===tS||void 0===tS?void 0:tS.message});Pe.warn(e.message)}}}(this.app);return(null===t||void 0===t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Xe(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Xe(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function nn(t){return zt(JSON.stringify({version:2,heartbeats:t})).length}var rn;rn="",ze(new ne("platform-logger",(t=>new Ie(t)),"PRIVATE")),ze(new ne("heartbeat",(t=>new Ze(t)),"PRIVATE")),qe(Ne,Ae,rn),qe(Ne,Ae,"esm2017"),qe("fire-js","");var sn,on="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},an={},ln=ln||{},cn=on||self;function un(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function hn(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var dn="closure_uid_"+(1e9*Math.random()>>>0),fn=0;function pn(t,e,n){return t.call.apply(t.bind,arguments)}function gn(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function mn(t,e,n){return(mn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pn:gn).apply(null,arguments)}function vn(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function yn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}function bn(){this.s=this.s,this.o=this.o}bn.prototype.s=!1,bn.prototype.sa=function(){var t;!this.s&&(this.s=!0,this.N(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,dn)&&t[dn]||(t[dn]=++fn))},bn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xn=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function wn(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function _n(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(un(e)){const n=t.length||0,i=e.length||0;t.length=n+i;for(let r=0;r<i;r++)t[n+r]=e[r]}else t.push(e)}}function Sn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Sn.prototype.h=function(){this.defaultPrevented=!0};var kn=function(){if(!cn.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};cn.addEventListener("test",t,e),cn.removeEventListener("test",t,e)}catch(n){}return t}();function En(t){return/^[\s\xa0]*$/.test(t)}function Cn(){var t=cn.navigator;return t&&(t=t.userAgent)?t:""}function Tn(t){return-1!=Cn().indexOf(t)}function Dn(t){return Dn[" "](t),t}Dn[" "]=function(){};var Mn,In,Nn=Tn("Opera"),An=Tn("Trident")||Tn("MSIE"),Pn=Tn("Edge"),Rn=Pn||An,On=Tn("Gecko")&&!(-1!=Cn().toLowerCase().indexOf("webkit")&&!Tn("Edge"))&&!(Tn("Trident")||Tn("MSIE"))&&!Tn("Edge"),Ln=-1!=Cn().toLowerCase().indexOf("webkit")&&!Tn("Edge");function jn(){var t=cn.document;return t?t.documentMode:void 0}t:{var Fn="",Vn=function(){var t=Cn();return On?/rv:([^\);]+)(\)|;)/.exec(t):Pn?/Edge\/([\d\.]+)/.exec(t):An?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Ln?/WebKit\/(\S+)/.exec(t):Nn?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Vn&&(Fn=Vn?Vn[1]:""),An){var zn=jn();if(null!=zn&&zn>parseFloat(Fn)){Mn=String(zn);break t}}Mn=Fn}if(cn.document&&An){var Bn=jn();In=Bn||(parseInt(Mn,10)||void 0)}else In=void 0;var Un=In;function Hn(t,e){if(Sn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(On){t:{try{Dn(e.nodeName);var r=!0;break t}catch(s){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:Wn[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Hn.$.h.call(this)}}yn(Hn,Sn);var Wn={2:"touch",3:"pen",4:"mouse"};Hn.prototype.h=function(){Hn.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var qn="closure_listenable_"+(1e6*Math.random()|0),Kn=0;function Qn(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++Kn,this.fa=this.ia=!1}function Gn(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Yn(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function $n(t){const e={};for(const n in t)e[n]=t[n];return e}const Xn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jn(t,e){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)t[n]=i[n];for(let e=0;e<Xn.length;e++)n=Xn[e],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Zn(t){this.src=t,this.g={},this.h=0}function ti(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],s=xn(r,e);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Gn(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function ei(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==i)return r}return-1}Zn.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=ei(t,e,i,r);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Qn(e,this.src,s,!!i,r)).ia=n,t.push(e)),e};var ni="closure_lm_"+(1e6*Math.random()|0),ii={};function ri(t,e,n,i,r){if(i&&i.once)return oi(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ri(t,e[s],n,i,r);return null}return n=fi(n),t&&t[qn]?t.O(e,n,hn(i)?!!i.capture:!!i,r):si(t,e,n,!1,i,r)}function si(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=hn(r)?!!r.capture:!!r,a=hi(t);if(a||(t[ni]=a=new Zn(t)),(n=a.add(e,n,i,o,s)).proxy)return n;if(i=function(){function t(n){return e.call(t.src,t.listener,n)}const e=ui;return t}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)kn||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(ci(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function oi(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)oi(t,e[s],n,i,r);return null}return n=fi(n),t&&t[qn]?t.P(e,n,hn(i)?!!i.capture:!!i,r):si(t,e,n,!0,i,r)}function ai(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)ai(t,e[s],n,i,r);else i=hn(i)?!!i.capture:!!i,n=fi(n),t&&t[qn]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=ei(s=t.g[e],n,i,r))&&(Gn(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--)))):t&&(t=hi(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ei(e,n,i,r)),(n=-1<t?e[t]:null)&&li(n))}function li(t){if("number"!==typeof t&&t&&!t.fa){var e=t.src;if(e&&e[qn])ti(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(ci(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=hi(e))?(ti(n,t),0==n.h&&(n.src=null,e[ni]=null)):Gn(t)}}}function ci(t){return t in ii?ii[t]:ii[t]="on"+t}function ui(t,e){if(t.fa)t=!0;else{e=new Hn(e,this);var n=t.listener,i=t.la||t.src;t.ia&&li(t),t=n.call(i,e)}return t}function hi(t){return(t=t[ni])instanceof Zn?t:null}var di="__closure_events_fn_"+(1e9*Math.random()>>>0);function fi(t){return"function"===typeof t?t:(t[di]||(t[di]=function(e){return t.handleEvent(e)}),t[di])}function pi(){bn.call(this),this.i=new Zn(this),this.S=this,this.J=null}function gi(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,"string"===typeof e)e=new Sn(e,t);else if(e instanceof Sn)e.target=e.target||t;else{var r=e;Jn(e=new Sn(i,t),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=mi(o,i,!0,e)&&r}if(r=mi(o=e.g=t,i,!0,e)&&r,r=mi(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)r=mi(o=e.g=n[s],i,!1,e)&&r}function mi(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&ti(t.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}yn(pi,bn),pi.prototype[qn]=!0,pi.prototype.removeEventListener=function(t,e,n,i){ai(this,t,e,n,i)},pi.prototype.N=function(){if(pi.$.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)Gn(n[i]);delete e.g[t],e.h--}}this.J=null},pi.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},pi.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var vi=cn.JSON.stringify;function yi(){var t=Ei;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var bi=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new xi),(t=>t.reset()));class xi{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function wi(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function _i(t){cn.setTimeout((()=>{throw t}),0)}let Si,ki=!1,Ei=new class{constructor(){this.h=this.g=null}add(t,e){const n=bi.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},Ci=()=>{const t=cn.Promise.resolve(void 0);Si=()=>{t.then(Ti)}};var Ti=()=>{for(var t;t=yi();){try{t.h.call(t.g)}catch(n){_i(n)}var e=bi;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ki=!1};function Di(t,e){pi.call(this),this.h=t||1,this.g=e||cn,this.j=mn(this.qb,this),this.l=Date.now()}function Mi(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Ii(t,e,n){if("function"===typeof t)n&&(t=mn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=mn(t.handleEvent,t)}return 2147483647<Number(e)?-1:cn.setTimeout(t,e||0)}function Ni(t){t.g=Ii((()=>{t.g=null,t.i&&(t.i=!1,Ni(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}yn(Di,pi),(sn=Di.prototype).ga=!1,sn.T=null,sn.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),gi(this,"tick"),this.ga&&(Mi(this),this.start()))}},sn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},sn.N=function(){Di.$.N.call(this),Mi(this),delete this.g};class Ai extends bn{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Ni(this)}N(){super.N(),this.g&&(cn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pi(t){bn.call(this),this.h=t,this.g={}}yn(Pi,bn);var Ri=[];function Oi(t,e,n,i){Array.isArray(n)||(n&&(Ri[0]=n.toString()),n=Ri);for(var r=0;r<n.length;r++){var s=ri(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Li(t){Yn(t.g,(function(t,e){this.g.hasOwnProperty(e)&&li(t)}),t),t.g={}}function ji(){this.g=!0}function Fi(t,e,n,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return vi(n)}catch(a){return e}}(t,n)+(i?" "+i:"")}))}Pi.prototype.N=function(){Pi.$.N.call(this),Li(this)},Pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ji.prototype.Ea=function(){this.g=!1},ji.prototype.info=function(){};var Vi={},zi=null;function Bi(){return zi=zi||new pi}function Ui(t){Sn.call(this,Vi.Ta,t)}function Hi(t){const e=Bi();gi(e,new Ui(e))}function Wi(t,e){Sn.call(this,Vi.STAT_EVENT,t),this.stat=e}function qi(t){const e=Bi();gi(e,new Wi(e,t))}function Ki(t,e){Sn.call(this,Vi.Ua,t),this.size=e}function Qi(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return cn.setTimeout((function(){t()}),e)}Vi.Ta="serverreachability",yn(Ui,Sn),Vi.STAT_EVENT="statevent",yn(Wi,Sn),Vi.Ua="timingevent",yn(Ki,Sn);var Gi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Yi={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $i(){}function Xi(t){return t.h||(t.h=t.i())}function Ji(){}$i.prototype.h=null;var Zi,tr={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function er(){Sn.call(this,"d")}function nr(){Sn.call(this,"c")}function ir(){}function rr(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Pi(this),this.P=or,t=Rn?125:void 0,this.V=new Di(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new sr}function sr(){this.i=null,this.g="",this.h=!1}yn(er,Sn),yn(nr,Sn),yn(ir,$i),ir.prototype.g=function(){return new XMLHttpRequest},ir.prototype.i=function(){return{}},Zi=new ir;var or=45e3,ar={},lr={};function cr(t,e,n){t.L=1,t.A=Dr(Sr(e)),t.u=n,t.S=!0,ur(t,null)}function ur(t,e){t.G=Date.now(),pr(t),t.B=Sr(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),Br(n.i,"t",i),t.o=0,n=t.l.J,t.h=new sr,t.g=Us(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Ai(mn(t.Pa,t,t.g),t.O)),Oi(t.U,t.g,"readystatechange",t.nb),e=t.I?$n(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Hi(),function(t,e,n,i,r,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+o}))}(t.j,t.v,t.B,t.m,t.W,t.u)}function hr(t){return!!t.g&&("GET"==t.v&&2!=t.L&&t.l.Ha)}function dr(t,e,n){let i,r=!0;for(;!t.J&&t.o<n.length;){if(i=fr(t,n),i==lr){4==e&&(t.s=4,qi(14),r=!1),Fi(t.j,t.m,null,"[Incomplete Response]");break}if(i==ar){t.s=4,qi(15),Fi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Fi(t.j,t.m,i,null),br(t,i)}hr(t)&&0!=t.o&&(t.h.g=t.h.g.slice(t.o),t.o=0),4!=e||0!=n.length||t.h.h||(t.s=1,qi(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rs(e),e.M=!0,qi(11))):(Fi(t.j,t.m,n,"[Invalid Chunked Response]"),yr(t),vr(t))}function fr(t,e){var n=t.o,i=e.indexOf("\n",n);return-1==i?lr:(n=Number(e.substring(n,i)),isNaN(n)?ar:(i+=1)+n>e.length?lr:(e=e.slice(i,i+n),t.o=i+n,e))}function pr(t){t.Y=Date.now()+t.P,gr(t,t.P)}function gr(t,e){if(null!=t.C)throw Error("WatchDog timer not null");t.C=Qi(mn(t.lb,t),e)}function mr(t){t.C&&(cn.clearTimeout(t.C),t.C=null)}function vr(t){0==t.l.H||t.J||js(t.l,t)}function yr(t){mr(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Mi(t.V),Li(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function br(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||Gr(n.i,t)))if(!t.K&&Gr(n.i,t)&&3==n.H){try{var i=n.Ja.g.parse(e)}catch(c){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break t;Ls(n),Cs(n)}Ps(n),qi(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&0==n.A&&!n.v&&(n.v=Qi(mn(n.ib,n),6e3));if(1>=Qr(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Vs(n,11)}else if((t.K||n.g==t)&&Ls(n),!En(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const e=c[3];null!=e&&(n.ra=e,n.l.info("VER="+n.ra));const r=c[4];null!=r&&(n.Ga=r,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(i=1.5*u,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=i.i;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Yr(s,s.h),s.h=null))}if(i.F){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(i.Da=t,Tr(i.I,i.F,t))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((i=n).wa=Bs(i,i.J?i.pa:null,i.Y),o.K){$r(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.C&&(mr(a),pr(a)),i.g=o}else As(i);0<n.j.length&&Ds(n)}else"stop"!=c[0]&&"close"!=c[0]||Vs(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Vs(n,7):Es(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Hi()}catch(c){}}function xr(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(un(t)||"string"===typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if("undefined"!==typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!==typeof Set&&t instanceof Set)){if(un(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}(t),i=function(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if("undefined"!==typeof Map&&t instanceof Map||"undefined"!==typeof Set&&t instanceof Set)return Array.from(t.values());if("string"===typeof t)return t.split("");if(un(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}(sn=rr.prototype).setTimeout=function(t){this.P=t},sn.nb=function(t){t=t.target;const e=this.M;e&&3==bs(t)?e.l():this.Pa(t)},sn.Pa=function(t){try{if(t==this.g)t:{const u=bs(this.g);var e=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Rn||this.g&&(this.h.h||this.g.ja()||xs(this.g)))){this.J||4!=u||7==e||Hi(),mr(this);var n=this.g.da();this.ca=n;e:if(hr(this)){var i=xs(this.g);t="";var r=i.length,s=4==bs(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){yr(this),vr(this);var o="";break e}this.h.i=new cn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(t,e,n,i,r,s,o){t.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!En(a)){var c=a;break e}}c=null}if(!(n=c)){this.i=!1,this.s=3,qi(12),yr(this),vr(this);break t}Fi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,br(this,n)}this.S?(dr(this,u,o),Rn&&this.i&&3==u&&(Oi(this.U,this.V,"tick",this.mb),this.V.start())):(Fi(this.j,this.m,o,null),br(this,o)),4==u&&yr(this),this.i&&!this.J&&(4==u?js(this.l,this):(this.i=!1,pr(this)))}else(function(t){const e={};t=(t.g&&2<=bs(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<t.length;i++){if(En(t[i]))continue;var n=wi(t[i]);const r=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=e[r]||[];e[r]=s,s.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,qi(12)):(this.s=0,qi(13)),yr(this),vr(this)}}}catch(u){}},sn.mb=function(){if(this.g){var t=bs(this.g),e=this.g.ja();this.o<e.length&&(mr(this),dr(this,t,e),this.i&&4!=t&&pr(this))}},sn.cancel=function(){this.J=!0,yr(this)},sn.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.B),2!=this.L&&(Hi(),qi(17)),yr(this),this.s=2,vr(this)):gr(this,this.Y-t)};var wr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _r(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof _r){this.h=t.h,kr(this,t.j),this.s=t.s,this.g=t.g,Er(this,t.m),this.l=t.l;var e=t.i,n=new jr;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Cr(this,n),this.o=t.o}else t&&(e=String(t).match(wr))?(this.h=!1,kr(this,e[1]||"",!0),this.s=Mr(e[2]||""),this.g=Mr(e[3]||"",!0),Er(this,e[4]),this.l=Mr(e[5]||"",!0),Cr(this,e[6]||"",!0),this.o=Mr(e[7]||"")):(this.h=!1,this.i=new jr(null,this.h))}function Sr(t){return new _r(t)}function kr(t,e,n){t.j=n?Mr(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Er(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Cr(t,e,n){e instanceof jr?(t.i=e,function(t,e){e&&!t.j&&(Fr(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Vr(this,e),Br(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=Ir(e,Or)),t.i=new jr(e,t.h))}function Tr(t,e,n){t.i.set(e,n)}function Dr(t){return Tr(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Mr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ir(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Nr),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Nr(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}_r.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ir(e,Ar,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ir(e,Ar,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ir(n,"/"==n.charAt(0)?Rr:Pr,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ir(n,Lr)),t.join("")};var Ar=/[#\/\?@]/g,Pr=/[#\?:]/g,Rr=/[#\?]/g,Or=/[#\?@]/g,Lr=/#/g;function jr(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Fr(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Vr(t,e){Fr(t),e=Ur(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function zr(t,e){return Fr(t),e=Ur(t,e),t.g.has(e)}function Br(t,e,n){Vr(t,e),0<n.length&&(t.i=null,t.g.set(Ur(t,e),wn(n)),t.h+=n.length)}function Ur(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(sn=jr.prototype).add=function(t,e){Fr(this),this.i=null,t=Ur(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},sn.forEach=function(t,e){Fr(this),this.g.forEach((function(n,i){n.forEach((function(n){t.call(e,n,i,this)}),this)}),this)},sn.ta=function(){Fr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let t=0;t<r.length;t++)n.push(e[i])}return n},sn.Z=function(t){Fr(this);let e=[];if("string"===typeof t)zr(this,t)&&(e=e.concat(this.g.get(Ur(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},sn.set=function(t,e){return Fr(this),this.i=null,zr(this,t=Ur(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},sn.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},sn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")};var Hr=class{constructor(t,e){this.g=t,this.map=e}};function Wr(t){this.l=t||qr,cn.PerformanceNavigationTiming?t=0<(t=cn.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(cn.g&&cn.g.Ka&&cn.g.Ka()&&cn.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var qr=10;function Kr(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Qr(t){return t.h?1:t.g?t.g.size:0}function Gr(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Yr(t,e){t.g?t.g.add(e):t.h=e}function $r(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Xr(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return wn(t.i)}Wr.prototype.cancel=function(){if(this.i=Xr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Jr,Zr=class{stringify(t){return cn.JSON.stringify(t,void 0)}parse(t){return cn.JSON.parse(t,void 0)}};function ts(){this.g=new Zr}function es(t,e,n){const i=n||"";try{xr(t,(function(t,n){let r=t;hn(t)&&(r=vi(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(tS){throw e.push(i+"type="+encodeURIComponent("_badmap")),tS}}function ns(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}function is(t){this.l=t.ec||null,this.j=t.ob||!1}function rs(t,e){pi.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=ss,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yn(is,$i),is.prototype.g=function(){return new rs(this.l,this.j)},is.prototype.i=(Jr={},function(){return Jr}),yn(rs,pi);var ss=0;function os(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function as(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ls(t)}function ls(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(sn=rs.prototype).open=function(t,e){if(this.readyState!=ss)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ls(this)},sn.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||cn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},sn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,as(this)),this.readyState=ss},sn.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ls(this)),this.g&&(this.readyState=3,ls(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof cn.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;os(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},sn.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?as(this):ls(this),3==this.readyState&&os(this)}},sn.Za=function(t){this.g&&(this.response=this.responseText=t,as(this))},sn.Ya=function(t){this.g&&(this.response=t,as(this))},sn.ka=function(){this.g&&as(this)},sn.setRequestHeader=function(t,e){this.v.append(t,e)},sn.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},sn.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(rs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var cs=cn.JSON.parse;function us(t){pi.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=hs,this.L=this.M=!1}yn(us,pi);var hs="",ds=/^https?$/i,fs=["POST","PUT"];function ps(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,gs(t),vs(t)}function gs(t){t.F||(t.F=!0,gi(t,"complete"),gi(t,"error"))}function ms(t){if(t.h&&"undefined"!=typeof ln&&(!t.C[1]||4!=bs(t)||2!=t.da()))if(t.v&&4==bs(t))Ii(t.La,0,t);else if(gi(t,"readystatechange"),4==bs(t)){t.h=!1;try{const a=t.da();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var i;if(i=0===a){var r=String(t.I).match(wr)[1]||null;!r&&cn.self&&cn.self.location&&(r=cn.self.location.protocol.slice(0,-1)),i=!ds.test(r?r.toLowerCase():"")}n=i}if(n)gi(t,"complete"),gi(t,"success");else{t.m=6;try{var s=2<bs(t)?t.g.statusText:""}catch(o){s=""}t.j=s+" ["+t.da()+"]",gs(t)}}finally{vs(t)}}}function vs(t,e){if(t.g){ys(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||gi(t,"ready");try{n.onreadystatechange=i}catch(tS){}}}function ys(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(cn.clearTimeout(t.A),t.A=null)}function bs(t){return t.g?t.g.readyState:0}function xs(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case hs:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(Do){return null}}function ws(t){let e="";return Yn(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function _s(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=ws(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):Tr(t,e,n))}function Ss(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ks(t){this.Ga=0,this.j=[],this.l=new ji,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ss("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ss("baseRetryDelayMs",5e3,t),this.hb=Ss("retryDelaySeedMs",1e4,t),this.eb=Ss("forwardChannelMaxRetries",2,t),this.xa=Ss("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Wr(t&&t.concurrentRequestLimit),this.Ja=new ts,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Es(t){if(Ts(t),3==t.H){var e=t.W++,n=Sr(t.I);if(Tr(n,"SID",t.K),Tr(n,"RID",e),Tr(n,"TYPE","terminate"),Is(t,n),(e=new rr(t,t.l,e)).L=2,e.A=Dr(Sr(n)),n=!1,cn.navigator&&cn.navigator.sendBeacon)try{n=cn.navigator.sendBeacon(e.A.toString(),"")}catch(i){}!n&&cn.Image&&((new Image).src=e.A,n=!0),n||(e.g=Us(e.l,null),e.g.ha(e.A)),e.G=Date.now(),pr(e)}zs(t)}function Cs(t){t.g&&(Rs(t),t.g.cancel(),t.g=null)}function Ts(t){Cs(t),t.u&&(cn.clearTimeout(t.u),t.u=null),Ls(t),t.i.cancel(),t.m&&("number"===typeof t.m&&cn.clearTimeout(t.m),t.m=null)}function Ds(t){if(!Kr(t.i)&&!t.m){t.m=!0;var e=t.Na;Si||Ci(),ki||(Si(),ki=!0),Ei.add(e,t),t.C=0}}function Ms(t,e){var n;n=e?e.m:t.W++;const i=Sr(t.I);Tr(i,"SID",t.K),Tr(i,"RID",n),Tr(i,"AID",t.V),Is(t,i),t.o&&t.s&&_s(i,t.o,t.s),n=new rr(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Ns(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Yr(t.i,n),cr(n,i,e)}function Is(t,e){t.na&&Yn(t.na,(function(t,n){Tr(e,n,t)})),t.h&&xr({},(function(t,n){Tr(e,n,t)}))}function Ns(t,e,n){n=Math.min(t.j.length,n);var i=t.h?mn(t.h.Va,t.h,t):null;t:{var r=t.j;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=r[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let o=!0;for(let a=0;a<n;a++){let n=r[a].g;const l=r[a].map;if(n-=e,0>n)e=Math.max(0,r[a].g-100),o=!1;else try{es(l,t,"req"+n+"_")}catch(s){i&&i(l)}}if(o){i=t.join("&");break t}}}return t=t.j.splice(0,n),e.F=t,i}function As(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Si||Ci(),ki||(Si(),ki=!0),Ei.add(e,t),t.A=0}}function Ps(t){return!(t.g||t.u||3<=t.A)&&(t.ba++,t.u=Qi(mn(t.Ma,t),Fs(t,t.A)),t.A++,!0)}function Rs(t){null!=t.B&&(cn.clearTimeout(t.B),t.B=null)}function Os(t){t.g=new rr(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Sr(t.wa);Tr(e,"RID","rpc"),Tr(e,"SID",t.K),Tr(e,"AID",t.V),Tr(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Tr(e,"TO",t.qa),Tr(e,"TYPE","xmlhttp"),Is(t,e),t.o&&t.s&&_s(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Dr(Sr(e)),n.u=null,n.S=!0,ur(n,t)}function Ls(t){null!=t.v&&(cn.clearTimeout(t.v),t.v=null)}function js(t,e){var n=null;if(t.g==e){Ls(t),Rs(t),t.g=null;var i=2}else{if(!Gr(t.i,e))return;n=e.F,$r(t.i,e),i=1}if(0!=t.H)if(e.i)if(1==i){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;gi(i=Bi(),new Ki(i,n)),Ds(t)}else As(t);else if(3==(r=e.s)||0==r&&0<e.ca||!(1==i&&function(t,e){return!(Qr(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.j=e.F.concat(t.j),!0):!(1==t.H||2==t.H||t.C>=(t.cb?0:t.eb))&&(t.m=Qi(mn(t.Na,t,e),Fs(t,t.C)),t.C++,!0))}(t,e)||2==i&&Ps(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Vs(t,5);break;case 4:Vs(t,10);break;case 3:Vs(t,6);break;default:Vs(t,2)}}function Fs(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Vs(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var i=mn(t.pb,t);n||(n=new _r("//www.google.com/images/cleardot.gif"),cn.location&&"http"==cn.location.protocol||kr(n,"https"),Dr(n)),function(t,e){const n=new ji;if(cn.Image){const i=new Image;i.onload=vn(ns,n,i,"TestLoadImage: loaded",!0,e),i.onerror=vn(ns,n,i,"TestLoadImage: error",!1,e),i.onabort=vn(ns,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=vn(ns,n,i,"TestLoadImage: timeout",!1,e),cn.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(n.toString(),i)}else qi(2);t.H=0,t.h&&t.h.za(e),zs(t),Ts(t)}function zs(t){if(t.H=0,t.ma=[],t.h){const e=Xr(t.i);0==e.length&&0==t.j.length||(_n(t.ma,e),_n(t.ma,t.j),t.i.i.length=0,wn(t.j),t.j.length=0),t.h.ya()}}function Bs(t,e,n){var i=n instanceof _r?Sr(n):new _r(n);if(""!=i.g)e&&(i.g=e+"."+i.g),Er(i,i.m);else{var r=cn.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new _r(null);i&&kr(s,i),e&&(s.g=e),r&&Er(s,r),n&&(s.l=n),i=s}return n=t.F,e=t.Da,n&&e&&Tr(i,n,e),Tr(i,"VER",t.ra),Is(t,i),i}function Us(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Ha&&!t.va?new us(new is({ob:n})):new us(t.va)).Oa(t.J),e}function Hs(){}function Ws(){if(An&&!(10<=Number(Un)))throw Error("Environmental error: no available transport.")}function qs(t,e){pi.call(this),this.g=new ks(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!En(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!En(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new Gs(this)}function Ks(t){er.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Qs(){nr.call(this),this.status=1}function Gs(t){this.g=t}function Ys(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function $s(t,e,n){n||(n=0);var i=Array(16);if("string"===typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var s=t.g[3],o=e+(s^n&(r^s))+i[0]+3614090360&4294967295;o=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(r^s&(n^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(r^(n|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(n|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(n|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(r^(n|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(e^(s|~n))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}function Xs(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var s=0|t[r];i&&s==e||(n[r]=s,i=!1)}this.g=n}(sn=us.prototype).Oa=function(t){this.M=t},sn.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zi.g(),this.C=this.u?Xi(this.u):Xi(Zi),this.g.onreadystatechange=mn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void ps(this,s)}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const t of i.keys())n.set(t,i.get(t))}i=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),r=cn.FormData&&t instanceof cn.FormData,!(0<=xn(fs,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ys(this),0<this.B&&((this.L=function(t){return An&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=mn(this.ua,this)):this.A=Ii(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ps(this,s)}},sn.ua=function(){"undefined"!=typeof ln&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gi(this,"timeout"),this.abort(8))},sn.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,gi(this,"complete"),gi(this,"abort"),vs(this))},sn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vs(this,!0)),us.$.N.call(this)},sn.La=function(){this.s||(this.G||this.v||this.l?ms(this):this.kb())},sn.kb=function(){ms(this)},sn.isActive=function(){return!!this.g},sn.da=function(){try{return 2<bs(this)?this.g.status:-1}catch(Jr){return-1}},sn.ja=function(){try{return this.g?this.g.responseText:""}catch(Jr){return""}},sn.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),cs(e)}},sn.Ia=function(){return this.m},sn.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(sn=ks.prototype).ra=8,sn.H=1,sn.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new rr(this,this.l,t);let s=this.s;if(this.U&&(s?(s=$n(s),Jn(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)t:{for(var e=0,n=0;n<this.j.length;n++){var i=this.j[n];if(void 0===(i="__data__"in i.map&&"string"===typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=n;break t}if(4096===e||n===this.j.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=Ns(this,r,e),Tr(n=Sr(this.I),"RID",t),Tr(n,"CVER",22),this.F&&Tr(n,"X-HTTP-Session-Id",this.F),Is(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(ws(s)))+"&"+e:this.o&&_s(n,this.o,s)),Yr(this.i,r),this.bb&&Tr(n,"TYPE","init"),this.P?(Tr(n,"$req",e),Tr(n,"SID","null"),r.aa=!0,cr(r,n,null)):cr(r,n,e),this.H=2}}else 3==this.H&&(t?Ms(this,t):0==this.j.length||Kr(this.i)||Ms(this))},sn.Ma=function(){if(this.u=null,Os(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Qi(mn(this.jb,this),t)}},sn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,qi(10),Cs(this),Os(this))},sn.ib=function(){null!=this.v&&(this.v=null,Cs(this),Ps(this),qi(19))},sn.pb=function(t){t?(this.l.info("Successfully pinged google.com"),qi(2)):(this.l.info("Failed to ping google.com"),qi(1))},sn.isActive=function(){return!!this.h&&this.h.isActive(this)},(sn=Hs.prototype).Ba=function(){},sn.Aa=function(){},sn.za=function(){},sn.ya=function(){},sn.isActive=function(){return!0},sn.Va=function(){},Ws.prototype.g=function(t,e){return new qs(t,e)},yn(qs,pi),qs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;qi(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Bs(t,null,t.Y),Ds(t)},qs.prototype.close=function(){Es(this.g)},qs.prototype.u=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=vi(t),t=n);e.j.push(new Hr(e.fb++,t)),3==e.H&&Ds(e)},qs.prototype.N=function(){this.g.h=null,delete this.j,Es(this.g),delete this.g,qs.$.N.call(this)},yn(Ks,er),yn(Qs,nr),yn(Gs,Hs),Gs.prototype.Ba=function(){gi(this.g,"a")},Gs.prototype.Aa=function(t){gi(this.g,new Ks(t))},Gs.prototype.za=function(t){gi(this.g,new Qs)},Gs.prototype.ya=function(){gi(this.g,"b")},yn(Ys,(function(){this.blockSize=-1})),Ys.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ys.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=n;)$s(this,t,s),s+=this.blockSize;if("string"===typeof t){for(;s<e;)if(i[r++]=t.charCodeAt(s++),r==this.blockSize){$s(this,i),r=0;break}}else for(;s<e;)if(i[r++]=t[s++],r==this.blockSize){$s(this,i),r=0;break}}this.h=r,this.i+=e},Ys.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};var Js={};function Zs(t){return-128<=t&&128>t?function(t,e){var n=Js;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(t){return new Xs([0|t],0>t?-1:0)})):new Xs([0|t],0>t?-1:0)}function to(t){if(isNaN(t)||!isFinite(t))return no;if(0>t)return ao(to(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=eo;return new Xs(e,0)}var eo=4294967296,no=Zs(0),io=Zs(1),ro=Zs(16777216);function so(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function oo(t){return-1==t.h}function ao(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new Xs(n,~t.h).add(io)}function lo(t,e){return t.add(ao(e))}function co(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function uo(t,e){this.g=t,this.h=e}function ho(t,e){if(so(e))throw Error("division by zero");if(so(t))return new uo(no,no);if(oo(t))return e=ho(ao(t),e),new uo(ao(e.g),ao(e.h));if(oo(e))return e=ho(t,ao(e)),new uo(ao(e.g),e.h);if(30<t.g.length){if(oo(t)||oo(e))throw Error("slowDivide_ only works with positive integers.");for(var n=io,i=e;0>=i.X(t);)n=fo(n),i=fo(i);var r=po(n,1),s=po(i,1);for(i=po(i,2),n=po(n,2);!so(i);){var o=s.add(i);0>=o.X(t)&&(r=r.add(n),s=o),i=po(i,1),n=po(n,1)}return e=lo(t,r.R(e)),new uo(r,e)}for(r=no;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),o=(s=to(n)).R(e);oo(o)||0<o.X(t);)o=(s=to(n-=i)).R(e);so(s)&&(s=io),r=r.add(s),t=lo(t,o)}return new uo(r,t)}function fo(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new Xs(n,t.h)}function po(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],s=0;s<i;s++)r[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Xs(r,t.h)}(sn=Xs.prototype).ea=function(){if(oo(this))return-ao(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:eo+i)*e,e*=eo}return t},sn.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(so(this))return"0";if(oo(this))return"-"+ao(this).toString(t);for(var e=to(Math.pow(t,6)),n=this,i="";;){var r=ho(n,e).g,s=((0<(n=lo(n,r.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(so(n=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},sn.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},sn.X=function(t){return oo(t=lo(this,t))?-1:so(t)?0:1},sn.abs=function(){return oo(this)?ao(this):this},sn.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&t.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=o>>>16,s&=65535,o&=65535,n[r]=o<<16|s}return new Xs(n,-2147483648&n[n.length-1]?-1:0)},sn.R=function(t){if(so(this)||so(t))return no;if(oo(this))return oo(t)?ao(this).R(ao(t)):ao(ao(this).R(t));if(oo(t))return ao(this.R(ao(t)));if(0>this.X(ro)&&0>t.X(ro))return to(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),a=t.D(r)>>>16,l=65535&t.D(r);n[2*i+2*r]+=o*l,co(n,2*i+2*r),n[2*i+2*r+1]+=s*l,co(n,2*i+2*r+1),n[2*i+2*r+1]+=o*a,co(n,2*i+2*r+1),n[2*i+2*r+2]+=s*a,co(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Xs(n,0)},sn.gb=function(t){return ho(this,t).h},sn.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new Xs(n,this.h&t.h)},sn.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new Xs(n,this.h|t.h)},sn.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new Xs(n,this.h^t.h)},Ws.prototype.createWebChannel=Ws.prototype.g,qs.prototype.send=qs.prototype.u,qs.prototype.open=qs.prototype.m,qs.prototype.close=qs.prototype.close,Gi.NO_ERROR=0,Gi.TIMEOUT=8,Gi.HTTP_ERROR=6,Yi.COMPLETE="complete",Ji.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",pi.prototype.listen=pi.prototype.O,us.prototype.listenOnce=us.prototype.P,us.prototype.getLastError=us.prototype.Sa,us.prototype.getLastErrorCode=us.prototype.Ia,us.prototype.getStatus=us.prototype.da,us.prototype.getResponseJson=us.prototype.Wa,us.prototype.getResponseText=us.prototype.ja,us.prototype.send=us.prototype.ha,us.prototype.setWithCredentials=us.prototype.Oa,Ys.prototype.digest=Ys.prototype.l,Ys.prototype.reset=Ys.prototype.reset,Ys.prototype.update=Ys.prototype.j,Xs.prototype.add=Xs.prototype.add,Xs.prototype.multiply=Xs.prototype.R,Xs.prototype.modulo=Xs.prototype.gb,Xs.prototype.compare=Xs.prototype.X,Xs.prototype.toNumber=Xs.prototype.ea,Xs.prototype.toString=Xs.prototype.toString,Xs.prototype.getBits=Xs.prototype.D,Xs.fromNumber=to,Xs.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return ao(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=to(Math.pow(n,8)),r=no,s=0;s<e.length;s+=8){var o=Math.min(8,e.length-s),a=parseInt(e.substring(s,s+o),n);8>o?(o=to(Math.pow(n,o)),r=r.R(o).add(to(a))):r=(r=r.R(i)).add(to(a))}return r};var go=an.createWebChannelTransport=function(){return new Ws},mo=an.getStatEventTarget=function(){return Bi()},vo=an.ErrorCode=Gi,yo=an.EventType=Yi,bo=an.Event=Vi,xo=an.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wo=(an.FetchXmlHttpFactory=is,an.WebChannel=Ji),_o=an.XhrIo=us,So=an.Md5=Ys,ko=an.Integer=Xs;const Eo="@firebase/firestore";class Co{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Co.UNAUTHENTICATED=new Co(null),Co.GOOGLE_CREDENTIALS=new Co("google-credentials-uid"),Co.FIRST_PARTY=new Co("first-party-uid"),Co.MOCK_USER=new Co("mock-user");let To="10.10.0";const Do=new de("@firebase/firestore");function Mo(){return Do.logLevel}function Io(t){if(Do.logLevel<=ae.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(Po);Do.debug("Firestore (".concat(To,"): ").concat(t),...r)}}function No(t){if(Do.logLevel<=ae.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(Po);Do.error("Firestore (".concat(To,"): ").concat(t),...r)}}function Ao(t){if(Do.logLevel<=ae.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(Po);Do.warn("Firestore (".concat(To,"): ").concat(t),...r)}}function Po(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(e){return t}}function Ro(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const e="FIRESTORE (".concat(To,") INTERNAL ASSERTION FAILED: ")+t;throw No(e),new Error(e)}function Oo(t,e){t||Ro()}function Lo(t,e){return t}const jo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fo extends $t{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Vo{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class zo{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))}}class Bo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Co.UNAUTHENTICATED)))}shutdown(){}}class Uo{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class Ho{constructor(t){this.t=t,this.currentUser=Co.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const i=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let r=new Vo;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Vo,t.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const e=r;t.enqueueRetryable((async()=>{await e.promise,await i(this.currentUser)}))},o=t=>{Io("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(Io("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Vo)}}),0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(Io("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Oo("string"==typeof e.accessToken),new zo(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Oo(null===t||"string"==typeof t),new Co(t)}}class Wo{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=Co.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class qo{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new Wo(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable((()=>e(Co.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ko{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qo{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const n=t=>{null!=t.error&&Io("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(t.error.message));const n=t.token!==this.R;return this.R=t.token,Io("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const i=t=>{Io("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.A.onInit((t=>i(t))),setTimeout((()=>{if(!this.appCheck){const t=this.A.getImmediate({optional:!0});t?i(t):Io("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(Oo("string"==typeof t.token),this.R=t.token,new Ko(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Go(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class Yo{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62);let n="";for(;n.length<20;){const i=Go(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%62))}return n}}function $o(t,e){return t<e?-1:t>e?1:0}function Xo(t,e,n){return t.length===e.length&&t.every(((t,i)=>n(t,e[i])))}class Jo{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Fo(jo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Fo(jo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Fo(jo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Fo(jo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Jo.fromMillis(Date.now())}static fromDate(t){return Jo.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new Jo(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?$o(this.nanoseconds,t.nanoseconds):$o(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Zo{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Zo(t)}static min(){return new Zo(new Jo(0,0))}static max(){return new Zo(new Jo(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ta{constructor(t,e,n){void 0===e?e=0:e>t.length&&Ro(),void 0===n?n=t.length-e:n>t.length-e&&Ro(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===ta.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ta?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const n=t.get(i),r=e.get(i);if(n<r)return-1;if(n>r)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ea extends ta{construct(t,e,n){return new ea(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const t=[];for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n){if(r.indexOf("//")>=0)throw new Fo(jo.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));t.push(...r.split("/").filter((t=>t.length>0)))}return new ea(t)}static emptyPath(){return new ea([])}}const na=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ia extends ta{construct(t,e,n){return new ia(t,e,n)}static isValidIdentifier(t){return na.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ia.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ia(["__name__"])}static fromServerFormat(t){const e=[];let n="",i=0;const r=()=>{if(0===n.length)throw new Fo(jo.INVALID_ARGUMENT,"Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));e.push(n),n=""};let s=!1;for(;i<t.length;){const e=t[i];if("\\"===e){if(i+1===t.length)throw new Fo(jo.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[i+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new Fo(jo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,i+=2}else"`"===e?(s=!s,i++):"."!==e||s?(n+=e,i++):(r(),i++)}if(r(),s)throw new Fo(jo.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ia(e)}static emptyPath(){return new ia([])}}class ra{constructor(t){this.path=t}static fromPath(t){return new ra(ea.fromString(t))}static fromName(t){return new ra(ea.fromString(t).popFirst(5))}static empty(){return new ra(ea.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===ea.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ea.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ra(new ea(t.slice()))}}class sa{constructor(t,e,n,i){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=i}}sa.UNKNOWN_ID=-1;function oa(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Zo.fromTimestamp(1e9===i?new Jo(n+1,0):new Jo(n,i));return new la(r,ra.empty(),e)}function aa(t){return new la(t.readTime,t.key,-1)}class la{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new la(Zo.min(),ra.empty(),-1)}static max(){return new la(Zo.max(),ra.empty(),-1)}}function ca(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=ra.comparator(t.documentKey,e.documentKey),0!==n?n:$o(t.largestBatchId,e.largestBatchId))}const ua="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ha{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function da(t){if(t.code!==jo.FAILED_PRECONDITION||t.message!==ua)throw t;Io("LocalStore","Unexpectedly lost primary lease")}class fa{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ro(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new fa(((n,i)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,i)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,i)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof fa?e:fa.resolve(e)}catch(t){return fa.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):fa.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):fa.reject(e)}static resolve(t){return new fa(((e,n)=>{e(t)}))}static reject(t){return new fa(((e,n)=>{n(t)}))}static waitFor(t){return new fa(((e,n)=>{let i=0,r=0,s=!1;t.forEach((t=>{++i,t.next((()=>{++r,s&&r===i&&e()}),(t=>n(t)))})),s=!0,r===i&&e()}))}static or(t){let e=fa.resolve(!1);for(const n of t)e=e.next((t=>t?fa.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,i)=>{n.push(e.call(this,t,i))})),this.waitFor(n)}static mapArray(t,e){return new fa(((n,i)=>{const r=t.length,s=new Array(r);let o=0;for(let a=0;a<r;a++){const l=a;e(t[l]).next((t=>{s[l]=t,++o,o===r&&n(s)}),(t=>i(t)))}}))}static doWhile(t,e){return new fa(((n,i)=>{const r=()=>{!0===t()?e().next((()=>{r()}),i):n()};r()}))}}class pa{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new Vo,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new va(t,e.error)):this.V.resolve()},this.transaction.onerror=e=>{const n=_a(e.target.error);this.V.reject(new va(t,n))}}static open(t,e,n,i){try{return new pa(e,t.transaction(i,n))}catch(t){throw new va(e,t)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Io("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new ba(e)}}class ga{constructor(t,e,n){this.name=t,this.version=e,this.p=n,12.2===ga.S(Qt())&&No("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Io("SimpleDb","Removing database:",t),xa(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!Yt())return!1;if(ga.C())return!0;const t=Qt(),e=ga.S(t),n=0<e&&e<10,i=ga.v(t),r=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||r)}static C(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.F)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(t){return this.db||(Io("SimpleDb","Opening database:",this.name),this.db=await new Promise(((e,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=t=>{const n=t.target.result;e(n)},i.onblocked=()=>{n(new va(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=e=>{const i=e.target.error;"VersionError"===i.name?n(new Fo(jo.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===i.name?n(new Fo(jo.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+i)):n(new va(t,i))},i.onupgradeneeded=t=>{Io("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',t.oldVersion);const e=t.target.result;this.p.N(e,i.transaction,t.oldVersion,this.version).next((()=>{Io("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=t=>this.L(t)),this.db}B(t){this.L=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,n,i){const r="readonly"===e;let s=0;for(;;){++s;try{this.db=await this.O(t);const e=pa.open(this.db,t,r?"readonly":"readwrite",n),s=i(e).next((t=>(e.g(),t))).catch((t=>(e.abort(t),fa.reject(t)))).toPromise();return s.catch((()=>{})),await e.m,s}catch(t){const e=t,n="FirebaseError"!==e.name&&s<3;if(Io("SimpleDb","Transaction failed with error:",e.message,"Retrying:",n),this.close(),!n)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class ma{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return xa(this.k.delete())}}class va extends Fo{constructor(t,e){super(jo.UNAVAILABLE,"IndexedDB transaction '".concat(t,"' failed: ").concat(e)),this.name="IndexedDbTransactionError"}}function ya(t){return"IndexedDbTransactionError"===t.name}class ba{constructor(t){this.store=t}put(t,e){let n;return void 0!==e?(Io("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Io("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),xa(n)}add(t){return Io("SimpleDb","ADD",this.store.name,t,t),xa(this.store.add(t))}get(t){return xa(this.store.get(t)).next((e=>(void 0===e&&(e=null),Io("SimpleDb","GET",this.store.name,t,e),e)))}delete(t){return Io("SimpleDb","DELETE",this.store.name,t),xa(this.store.delete(t))}count(){return Io("SimpleDb","COUNT",this.store.name),xa(this.store.count())}W(t,e){const n=this.options(t,e),i=n.index?this.store.index(n.index):this.store;if("function"==typeof i.getAll){const t=i.getAll(n.range);return new fa(((e,n)=>{t.onerror=t=>{n(t.target.error)},t.onsuccess=t=>{e(t.target.result)}}))}{const t=this.cursor(n),e=[];return this.G(t,((t,n)=>{e.push(n)})).next((()=>e))}}j(t,e){const n=this.store.getAll(t,null===e?void 0:e);return new fa(((t,e)=>{n.onerror=t=>{e(t.target.error)},n.onsuccess=e=>{t(e.target.result)}}))}H(t,e){Io("SimpleDb","DELETE ALL",this.store.name);const n=this.options(t,e);n.J=!1;const i=this.cursor(n);return this.G(i,((t,e,n)=>n.delete()))}Y(t,e){let n;e?n=t:(n={},e=t);const i=this.cursor(n);return this.G(i,e)}Z(t){const e=this.cursor({});return new fa(((n,i)=>{e.onerror=t=>{const e=_a(t.target.error);i(e)},e.onsuccess=e=>{const i=e.target.result;i?t(i.primaryKey,i.value).next((t=>{t?i.continue():n()})):n()}}))}G(t,e){const n=[];return new fa(((i,r)=>{t.onerror=t=>{r(t.target.error)},t.onsuccess=t=>{const r=t.target.result;if(!r)return void i();const s=new ma(r),o=e(r.primaryKey,r.value,s);if(o instanceof fa){const t=o.catch((t=>(s.done(),fa.reject(t))));n.push(t)}s.isDone?i():null===s.$?r.continue():r.continue(s.$)}})).next((()=>fa.waitFor(n)))}options(t,e){let n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const n=this.store.index(t.index);return t.J?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function xa(t){return new fa(((e,n)=>{t.onsuccess=t=>{const n=t.target.result;e(n)},t.onerror=t=>{const e=_a(t.target.error);n(e)}}))}let wa=!1;function _a(t){const e=ga.S(Qt());if(e>=12.2&&e<13){const e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){const t=new Fo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(e,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return wa||(wa=!0,setTimeout((()=>{throw t}),0)),t}}return t}class Sa{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.se(t),this.oe=t=>e.writeSequenceNumber(t))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}function ka(t){return null==t}function Ea(t){return 0===t&&1/t==-1/0}function Ca(t){return"number"==typeof t&&Number.isInteger(t)&&!Ea(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}Sa._e=-1;const Ta=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Da=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ma=Da;function Ia(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Na(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Aa(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Pa{constructor(t,e){this.comparator=t,this.root=e||Oa.EMPTY}insert(t,e){return new Pa(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Oa.BLACK,null,null))}remove(t){return new Pa(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Oa.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push("".concat(e,":").concat(n)),!1))),"{".concat(t.join(", "),"}")}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ra(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ra(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ra(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ra(this.root,t,this.comparator,!0)}}class Ra{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?n(t.key,e):1,e&&i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Oa{constructor(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:Oa.RED,this.left=null!=i?i:Oa.EMPTY,this.right=null!=r?r:Oa.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,r){return new Oa(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Oa.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return Oa.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Oa.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Oa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ro();if(this.right.isRed())throw Ro();const t=this.left.check();if(t!==this.right.check())throw Ro();return t+(this.isRed()?0:1)}}Oa.EMPTY=null,Oa.RED=!0,Oa.BLACK=!1,Oa.EMPTY=new class{constructor(){this.size=0}get key(){throw Ro()}get value(){throw Ro()}get color(){throw Ro()}get left(){throw Ro()}get right(){throw Ro()}copy(t,e,n,i,r){return this}insert(t,e,n){return new Oa(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class La{constructor(t){this.comparator=t,this.data=new Pa(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new ja(this.data.getIterator())}getIteratorFrom(t){return new ja(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof La))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(t,i))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new La(this.comparator);return e.data=t,e}}class ja{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fa{constructor(t){this.fields=t,t.sort(ia.comparator)}static empty(){return new Fa([])}unionWith(t){let e=new La(ia.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new Fa(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Xo(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class Va extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class za{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new Va("Invalid base64 string: "+t):t}}(t);return new za(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new za(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return $o(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}za.EMPTY_BYTE_STRING=new za("");const Ba=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ua(t){if(Oo(!!t),"string"==typeof t){let e=0;const n=Ba.exec(t);if(Oo(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ha(t.seconds),nanos:Ha(t.nanos)}}function Ha(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Wa(t){return"string"==typeof t?za.fromBase64String(t):za.fromUint8Array(t)}function qa(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ka(t){const e=t.mapValue.fields.__previous_value__;return qa(e)?Ka(e):e}function Qa(t){const e=Ua(t.mapValue.fields.__local_write_time__.timestampValue);return new Jo(e.seconds,e.nanos)}class Ga{constructor(t,e,n,i,r,s,o,a,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Ya{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Ya("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Ya&&t.projectId===this.projectId&&t.database===this.database}}const $a={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qa(t)?4:hl(t)?9007199254740991:10:Ro()}function Ja(t,e){if(t===e)return!0;const n=Xa(t);if(n!==Xa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qa(t).isEqual(Qa(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=Ua(t.timestampValue),i=Ua(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Wa(t.bytesValue).isEqual(Wa(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ha(t.geoPointValue.latitude)===Ha(e.geoPointValue.latitude)&&Ha(t.geoPointValue.longitude)===Ha(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ha(t.integerValue)===Ha(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=Ha(t.doubleValue),i=Ha(e.doubleValue);return n===i?Ea(n)===Ea(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return Xo(t.arrayValue.values||[],e.arrayValue.values||[],Ja);case 10:return function(t,e){const n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(Ia(n)!==Ia(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!Ja(n[r],i[r])))return!1;return!0}(t,e);default:return Ro()}}function Za(t,e){return void 0!==(t.values||[]).find((t=>Ja(t,e)))}function tl(t,e){if(t===e)return 0;const n=Xa(t),i=Xa(e);if(n!==i)return $o(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return $o(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=Ha(t.integerValue||t.doubleValue),i=Ha(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return el(t.timestampValue,e.timestampValue);case 4:return el(Qa(t),Qa(e));case 5:return $o(t.stringValue,e.stringValue);case 6:return function(t,e){const n=Wa(t),i=Wa(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),i=e.split("/");for(let r=0;r<n.length&&r<i.length;r++){const t=$o(n[r],i[r]);if(0!==t)return t}return $o(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=$o(Ha(t.latitude),Ha(e.latitude));return 0!==n?n:$o(Ha(t.longitude),Ha(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const t=tl(n[r],i[r]);if(t)return t}return $o(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===$a.mapValue&&e===$a.mapValue)return 0;if(t===$a.mapValue)return 1;if(e===$a.mapValue)return-1;const n=t.fields||{},i=Object.keys(n),r=e.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let o=0;o<i.length&&o<s.length;++o){const t=$o(i[o],s[o]);if(0!==t)return t;const e=tl(n[i[o]],r[s[o]]);if(0!==e)return e}return $o(i.length,s.length)}(t.mapValue,e.mapValue);default:throw Ro()}}function el(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return $o(t,e);const n=Ua(t),i=Ua(e),r=$o(n.seconds,i.seconds);return 0!==r?r:$o(n.nanos,i.nanos)}function nl(t){return il(t)}function il(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=Ua(t);return"time(".concat(e.seconds,",").concat(e.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return Wa(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return ra.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return"geo(".concat(t.latitude,",").concat(t.longitude,")")}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",n=!0;for(const i of t.values||[])n?n=!1:e+=",",e+=il(i);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",i=!0;for(const r of e)i?i=!1:n+=",",n+="".concat(r,":").concat(il(t.fields[r]));return n+"}"}(t.mapValue):Ro()}function rl(t,e){return{referenceValue:"projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e.path.canonicalString())}}function sl(t){return!!t&&"integerValue"in t}function ol(t){return!!t&&"arrayValue"in t}function al(t){return!!t&&"nullValue"in t}function ll(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cl(t){return!!t&&"mapValue"in t}function ul(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Na(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=ul(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ul(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hl(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class dl{constructor(t){this.value=t}static empty(){return new dl({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!cl(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ul(e)}setAll(t){let e=ia.emptyPath(),n={},i=[];t.forEach(((t,r)=>{if(!e.isImmediateParentOf(r)){const t=this.getFieldsMap(e);this.applyChanges(t,n,i),n={},i=[],e=r.popLast()}t?n[r.lastSegment()]=ul(t):i.push(r.lastSegment())}));const r=this.getFieldsMap(e);this.applyChanges(r,n,i)}delete(t){const e=this.field(t.popLast());cl(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ja(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];cl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){Na(e,((e,n)=>t[e]=n));for(const i of n)delete t[i]}clone(){return new dl(ul(this.value))}}function fl(t){const e=[];return Na(t.fields,((t,n)=>{const i=new ia([t]);if(cl(n)){const t=fl(n.mapValue).fields;if(0===t.length)e.push(i);else for(const n of t)e.push(i.child(n))}else e.push(i)})),new Fa(e)}class pl{constructor(t,e,n,i,r,s,o){this.key=t,this.documentType=e,this.version=n,this.readTime=i,this.createTime=r,this.data=s,this.documentState=o}static newInvalidDocument(t){return new pl(t,0,Zo.min(),Zo.min(),Zo.min(),dl.empty(),0)}static newFoundDocument(t,e,n,i){return new pl(t,1,e,Zo.min(),n,i,0)}static newNoDocument(t,e){return new pl(t,2,e,Zo.min(),Zo.min(),dl.empty(),0)}static newUnknownDocument(t,e){return new pl(t,3,e,Zo.min(),Zo.min(),dl.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Zo.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dl.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zo.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof pl&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new pl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class gl{constructor(t,e){this.position=t,this.inclusive=e}}function ml(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(i=s.field.isKeyField()?ra.comparator(ra.fromName(o.referenceValue),n.key):tl(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function vl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ja(t.position[n],e.position[n]))return!1;return!0}class yl{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=t,this.dir=e}}function bl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class xl{}class wl extends xl{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new Ml(t,e,n):"array-contains"===e?new Pl(t,n):"in"===e?new Rl(t,n):"not-in"===e?new Ol(t,n):"array-contains-any"===e?new Ll(t,n):new wl(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new Il(t,n):new Nl(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(tl(e,this.value)):null!==e&&Xa(this.value)===Xa(e)&&this.matchesComparison(tl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ro()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _l extends xl{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new _l(t,e)}matches(t){return Sl(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Sl(t){return"and"===t.op}function kl(t){return El(t)&&Sl(t)}function El(t){for(const e of t.filters)if(e instanceof _l)return!1;return!0}function Cl(t){if(t instanceof wl)return t.field.canonicalString()+t.op.toString()+nl(t.value);if(kl(t))return t.filters.map((t=>Cl(t))).join(",");{const e=t.filters.map((t=>Cl(t))).join(",");return"".concat(t.op,"(").concat(e,")")}}function Tl(t,e){return t instanceof wl?function(t,e){return e instanceof wl&&t.op===e.op&&t.field.isEqual(e.field)&&Ja(t.value,e.value)}(t,e):t instanceof _l?function(t,e){return e instanceof _l&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,n,i)=>t&&Tl(n,e.filters[i])),!0)}(t,e):void Ro()}function Dl(t){return t instanceof wl?function(t){return"".concat(t.field.canonicalString()," ").concat(t.op," ").concat(nl(t.value))}(t):t instanceof _l?function(t){return t.op.toString()+" {"+t.getFilters().map(Dl).join(" ,")+"}"}(t):"Filter"}class Ml extends wl{constructor(t,e,n){super(t,e,n),this.key=ra.fromName(n.referenceValue)}matches(t){const e=ra.comparator(t.key,this.key);return this.matchesComparison(e)}}class Il extends wl{constructor(t,e){super(t,"in",e),this.keys=Al("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class Nl extends wl{constructor(t,e){super(t,"not-in",e),this.keys=Al("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Al(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>ra.fromName(t.referenceValue)))}class Pl extends wl{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ol(e)&&Za(e.arrayValue,this.value)}}class Rl extends wl{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Za(this.value.arrayValue,e)}}class Ol extends wl{constructor(t,e){super(t,"not-in",e)}matches(t){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Za(this.value.arrayValue,e)}}class Ll extends wl{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ol(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>Za(this.value.arrayValue,t)))}}class jl{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.ce=null}}function Fl(t){return new jl(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Vl(t){const e=Lo(t);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>Cl(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),ka(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>nl(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>nl(t))).join(",")),e.ce=t}return e.ce}function zl(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Tl(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vl(t.startAt,e.startAt)&&vl(t.endAt,e.endAt)}function Bl(t){return ra.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ul{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Hl(t,e,n,i,r,s,o,a){return new Ul(t,e,n,i,r,s,o,a)}function Wl(t){return new Ul(t)}function ql(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Kl(t){return null!==t.collectionGroup}function Ql(t){const e=Lo(t);if(null===e.le){e.le=[];const t=new Set;for(const r of e.explicitOrderBy)e.le.push(r),t.add(r.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",i=function(t){let e=new La(ia.comparator);return t.filters.forEach((t=>{t.getFlattenedFilters().forEach((t=>{t.isInequality()&&(e=e.add(t.field))}))})),e}(e);i.forEach((i=>{t.has(i.canonicalString())||i.isKeyField()||e.le.push(new yl(i,n))})),t.has(ia.keyField().canonicalString())||e.le.push(new yl(ia.keyField(),n))}return e.le}function Gl(t){const e=Lo(t);return e.he||(e.he=Yl(e,Ql(t))),e.he}function Yl(t,e){if("F"===t.limitType)return Fl(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((t=>{const e="desc"===t.dir?"asc":"desc";return new yl(t.field,e)}));const n=t.endAt?new gl(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new gl(t.startAt.position,t.startAt.inclusive):null;return Fl(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function $l(t,e){const n=t.filters.concat([e]);return new Ul(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xl(t,e,n){return new Ul(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jl(t,e){return zl(Gl(t),Gl(e))&&t.limitType===e.limitType}function Zl(t){return"".concat(Vl(Gl(t)),"|lt:").concat(t.limitType)}function tc(t){return"Query(target=".concat(function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: [".concat(t.filters.map((t=>Dl(t))).join(", "),"]")),ka(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: [".concat(t.orderBy.map((t=>function(t){return"".concat(t.field.canonicalString()," (").concat(t.dir,")")}(t))).join(", "),"]")),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>nl(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>nl(t))).join(",")),"Target(".concat(e,")")}(Gl(t)),"; limitType=").concat(t.limitType,")")}function ec(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ra.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of Ql(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const i=ml(t,e,n);return t.inclusive?i<=0:i<0}(t.startAt,Ql(t),e))&&!(t.endAt&&!function(t,e,n){const i=ml(t,e,n);return t.inclusive?i>=0:i>0}(t.endAt,Ql(t),e))}(t,e)}function nc(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ic(t){return(e,n)=>{let i=!1;for(const r of Ql(t)){const t=rc(r,e,n);if(0!==t)return t;i=i||r.field.isKeyField()}return 0}}function rc(t,e,n){const i=t.field.isKeyField()?ra.comparator(e.key,n.key):function(t,e,n){const i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?tl(i,r):Ro()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ro()}}class sc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,t))return r}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(void 0===i)return this.inner[n]=[[t,e]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Na(this.inner,((e,n)=>{for(const[i,r]of n)t(i,r)}))}isEmpty(){return Aa(this.inner)}size(){return this.innerSize}}const oc=new Pa(ra.comparator);function ac(){return oc}const lc=new Pa(ra.comparator);function cc(){let t=lc;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n)t=t.insert(r.key,r);return t}function uc(t){let e=lc;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function hc(){return fc()}function dc(){return fc()}function fc(){return new sc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const pc=new Pa(ra.comparator),gc=new La(ra.comparator);function mc(){let t=gc;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n)t=t.add(r);return t}const vc=new La($o);function yc(){return vc}function bc(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ea(e)?"-0":e}}function xc(t){return{integerValue:""+t}}function wc(t,e){return Ca(e)?xc(e):bc(t,e)}class _c{constructor(){this._=void 0}}function Sc(t,e,n){return t instanceof Cc?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&qa(e)&&(e=Ka(e)),e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Tc?Dc(t,e):t instanceof Mc?Ic(t,e):function(t,e){const n=Ec(t,e),i=Ac(n)+Ac(t.Ie);return sl(n)&&sl(t.Ie)?xc(i):bc(t.serializer,i)}(t,e)}function kc(t,e,n){return t instanceof Tc?Dc(t,e):t instanceof Mc?Ic(t,e):n}function Ec(t,e){return t instanceof Nc?function(t){return sl(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}class Cc extends _c{}class Tc extends _c{constructor(t){super(),this.elements=t}}function Dc(t,e){const n=Pc(e);for(const i of t.elements)n.some((t=>Ja(t,i)))||n.push(i);return{arrayValue:{values:n}}}class Mc extends _c{constructor(t){super(),this.elements=t}}function Ic(t,e){let n=Pc(e);for(const i of t.elements)n=n.filter((t=>!Ja(t,i)));return{arrayValue:{values:n}}}class Nc extends _c{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function Ac(t){return Ha(t.integerValue||t.doubleValue)}function Pc(t){return ol(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Rc{constructor(t,e){this.version=t,this.transformResults=e}}class Oc{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Oc}static exists(t){return new Oc(void 0,t)}static updateTime(t){return new Oc(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lc(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class jc{}function Fc(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Gc(t.key,Oc.none()):new Hc(t.key,t.data,Oc.none());{const n=t.data,i=dl.empty();let r=new La(ia.comparator);for(let t of e.fields)if(!r.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?i.delete(t):i.set(t,e),r=r.add(t)}return new Wc(t.key,i,new Fa(r.toArray()),Oc.none())}}function Vc(t,e,n){t instanceof Hc?function(t,e,n){const i=t.value.clone(),r=Kc(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof Wc?function(t,e,n){if(!Lc(t.precondition,e))return void e.convertToUnknownDocument(n.version);const i=Kc(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(qc(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function zc(t,e,n,i){return t instanceof Hc?function(t,e,n,i){if(!Lc(t.precondition,e))return n;const r=t.value.clone(),s=Qc(t.fieldTransforms,i,e);return r.setAll(s),e.convertToFoundDocument(e.version,r).setHasLocalMutations(),null}(t,e,n,i):t instanceof Wc?function(t,e,n,i){if(!Lc(t.precondition,e))return n;const r=Qc(t.fieldTransforms,i,e),s=e.data;return s.setAll(qc(t)),s.setAll(r),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,i):function(t,e,n){return Lc(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function Bc(t,e){let n=null;for(const i of t.fieldTransforms){const t=e.data.field(i.field),r=Ec(i.transform,t||null);null!=r&&(null===n&&(n=dl.empty()),n.set(i.field,r))}return n||null}function Uc(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Xo(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Tc&&e instanceof Tc||t instanceof Mc&&e instanceof Mc?Xo(t.elements,e.elements,Ja):t instanceof Nc&&e instanceof Nc?Ja(t.Ie,e.Ie):t instanceof Cc&&e instanceof Cc}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hc extends jc{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Wc extends jc{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function qc(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function Kc(t,e,n){const i=new Map;Oo(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,kc(o,a,n[r]))}return i}function Qc(t,e,n){const i=new Map;for(const r of t){const t=r.transform,s=n.data.field(r.field);i.set(r.field,Sc(t,s,e))}return i}class Gc extends jc{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yc extends jc{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $c{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const e=this.mutations[i];e.key.isEqual(t.key)&&Vc(e,t,n[i])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=zc(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=zc(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=dc();return this.mutations.forEach((i=>{const r=t.get(i.key),s=r.overlayedDocument;let o=this.applyToLocalView(s,r.mutatedFields);o=e.has(i.key)?null:o;const a=Fc(s,o);null!==a&&n.set(i.key,a),s.isValidDocument()||s.convertToNoDocument(Zo.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),mc())}isEqual(t){return this.batchId===t.batchId&&Xo(this.mutations,t.mutations,((t,e)=>Uc(t,e)))&&Xo(this.baseMutations,t.baseMutations,((t,e)=>Uc(t,e)))}}class Xc{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){Oo(t.mutations.length===n.length);let i=pc;const r=t.mutations;for(let s=0;s<r.length;s++)i=i.insert(r[s].key,n[s].version);return new Xc(t,e,n,i)}}class Jc{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Zc{constructor(t,e){this.count=t,this.unchangedNames=e}}var tu,eu;function nu(t){switch(t){default:return Ro();case jo.CANCELLED:case jo.UNKNOWN:case jo.DEADLINE_EXCEEDED:case jo.RESOURCE_EXHAUSTED:case jo.INTERNAL:case jo.UNAVAILABLE:case jo.UNAUTHENTICATED:return!1;case jo.INVALID_ARGUMENT:case jo.NOT_FOUND:case jo.ALREADY_EXISTS:case jo.PERMISSION_DENIED:case jo.FAILED_PRECONDITION:case jo.ABORTED:case jo.OUT_OF_RANGE:case jo.UNIMPLEMENTED:case jo.DATA_LOSS:return!0}}function iu(t){if(void 0===t)return No("GRPC error has no .code"),jo.UNKNOWN;switch(t){case tu.OK:return jo.OK;case tu.CANCELLED:return jo.CANCELLED;case tu.UNKNOWN:return jo.UNKNOWN;case tu.DEADLINE_EXCEEDED:return jo.DEADLINE_EXCEEDED;case tu.RESOURCE_EXHAUSTED:return jo.RESOURCE_EXHAUSTED;case tu.INTERNAL:return jo.INTERNAL;case tu.UNAVAILABLE:return jo.UNAVAILABLE;case tu.UNAUTHENTICATED:return jo.UNAUTHENTICATED;case tu.INVALID_ARGUMENT:return jo.INVALID_ARGUMENT;case tu.NOT_FOUND:return jo.NOT_FOUND;case tu.ALREADY_EXISTS:return jo.ALREADY_EXISTS;case tu.PERMISSION_DENIED:return jo.PERMISSION_DENIED;case tu.FAILED_PRECONDITION:return jo.FAILED_PRECONDITION;case tu.ABORTED:return jo.ABORTED;case tu.OUT_OF_RANGE:return jo.OUT_OF_RANGE;case tu.UNIMPLEMENTED:return jo.UNIMPLEMENTED;case tu.DATA_LOSS:return jo.DATA_LOSS;default:return Ro()}}(eu=tu||(tu={}))[eu.OK=0]="OK",eu[eu.CANCELLED=1]="CANCELLED",eu[eu.UNKNOWN=2]="UNKNOWN",eu[eu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",eu[eu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",eu[eu.NOT_FOUND=5]="NOT_FOUND",eu[eu.ALREADY_EXISTS=6]="ALREADY_EXISTS",eu[eu.PERMISSION_DENIED=7]="PERMISSION_DENIED",eu[eu.UNAUTHENTICATED=16]="UNAUTHENTICATED",eu[eu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",eu[eu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",eu[eu.ABORTED=10]="ABORTED",eu[eu.OUT_OF_RANGE=11]="OUT_OF_RANGE",eu[eu.UNIMPLEMENTED=12]="UNIMPLEMENTED",eu[eu.INTERNAL=13]="INTERNAL",eu[eu.UNAVAILABLE=14]="UNAVAILABLE",eu[eu.DATA_LOSS=15]="DATA_LOSS";let ru=null;function su(){return new TextEncoder}const ou=new ko([4294967295,4294967295],0);function au(t){const e=su().encode(t),n=new So;return n.update(e),new Uint8Array(n.digest())}function lu(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ko([n,i],0),new ko([r,s],0)]}class cu{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new uu("Invalid padding: ".concat(e));if(n<0)throw new uu("Invalid hash count: ".concat(n));if(t.length>0&&0===this.hashCount)throw new uu("Invalid hash count: ".concat(n));if(0===t.length&&0!==e)throw new uu("Invalid padding when bitmap length is 0: ".concat(e));this.Te=8*t.length-e,this.Ee=ko.fromNumber(this.Te)}de(t,e,n){let i=t.add(e.multiply(ko.fromNumber(n)));return 1===i.compare(ou)&&(i=new ko([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=au(t),[n,i]=lu(e);for(let r=0;r<this.hashCount;r++){const t=this.de(n,i,r);if(!this.Ae(t))return!1}return!0}static create(t,e,n){const i=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),s=new cu(r,i,e);return n.forEach((t=>s.insert(t))),s}insert(t){if(0===this.Te)return;const e=au(t),[n,i]=lu(e);for(let r=0;r<this.hashCount;r++){const t=this.de(n,i,r);this.Re(t)}}Re(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hu{constructor(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const i=new Map;return i.set(t,du.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new hu(Zo.min(),i,new Pa($o),ac(),mc())}}class du{constructor(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new du(n,e,mc(),mc(),mc())}}class fu{constructor(t,e,n,i){this.Ve=t,this.removedTargetIds=e,this.key=n,this.me=i}}class pu{constructor(t,e){this.targetId=t,this.fe=e}}class gu{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:za.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class mu{constructor(){this.ge=0,this.pe=bu(),this.ye=za.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=mc(),e=mc(),n=mc();return this.pe.forEach(((i,r)=>{switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:Ro()}})),new du(this.ye,this.we,t,e,n)}Fe(){this.Se=!1,this.pe=bu()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,Oo(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class vu{constructor(t){this.Be=t,this.ke=new Map,this.qe=ac(),this.Qe=yu(),this.Ke=new Pa($o)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,(e=>{const n=this.ze(e);switch(t.state){case 0:this.je(e)&&n.Ce(t.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(t.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(e);break;case 3:this.je(e)&&(n.Le(),n.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),n.Ce(t.resumeToken));break;default:Ro()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach(((t,n)=>{this.je(n)&&e(n)}))}Je(t){const e=t.targetId,n=t.fe.count,i=this.Ye(e);if(i){const r=i.target;if(Bl(r))if(0===n){const t=new ra(r.path);this.We(e,t,pl.newNoDocument(t,Zo.min()))}else Oo(1===n);else{const i=this.Ze(e);if(i!==n){const n=this.Xe(t),r=n?this.et(n,t,i):1;if(0!==r){this.He(e);const t=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,t)}null==ru||ru.tt(function(t,e,n,i,r){var s,o,a,l,c,u;const h={localCacheCount:t,existenceFilterCount:e.count,databaseId:n.database,projectId:n.projectId},d=e.unchangedNames;return d&&(h.bloomFilter={applied:0===r,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:t=>{var e;return null!==(e=null==i?void 0:i.mightContain(t))&&void 0!==e&&e}}),h}(i,t.fe,this.Be.nt(),n,r))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:r=0}=e;let s,o;try{s=Wa(n).toUint8Array()}catch(t){if(t instanceof Va)return Ao("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{o=new cu(s,i,r)}catch(t){return Ao(t instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return 0===o.Te?null:o}et(t,e,n){return e.fe.count===n-this.rt(t,e.targetId)?0:2}rt(t,e){const n=this.Be.getRemoteKeysForTarget(e);let i=0;return n.forEach((n=>{const r=this.Be.nt(),s="projects/".concat(r.projectId,"/databases/").concat(r.database,"/documents/").concat(n.path.canonicalString());t.mightContain(s)||(this.We(e,n,null),i++)})),i}it(t){const e=new Map;this.ke.forEach(((n,i)=>{const r=this.Ye(i);if(r){if(n.current&&Bl(r.target)){const e=new ra(r.target.path);null!==this.qe.get(e)||this.st(i,e)||this.We(i,e,pl.newNoDocument(e,t))}n.De&&(e.set(i,n.ve()),n.Fe())}}));let n=mc();this.Qe.forEach(((t,e)=>{let i=!0;e.forEachWhile((t=>{const e=this.Ye(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(i=!1,!1)})),i&&(n=n.add(t))})),this.qe.forEach(((e,n)=>n.setReadTime(t)));const i=new hu(t,e,this.Ke,this.qe,n);return this.qe=ac(),this.Qe=yu(),this.Ke=new Pa($o),i}Ue(t,e){if(!this.je(t))return;const n=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,n),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,n){if(!this.je(t))return;const i=this.ze(t);this.st(t,e)?i.Me(e,1):i.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),n&&(this.qe=this.qe.insert(e,n))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Be.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new mu,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new La($o),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||Io("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Be._t(t)}He(t){this.ke.set(t,new mu),this.Be.getRemoteKeysForTarget(t).forEach((e=>{this.We(t,e,null)}))}st(t,e){return this.Be.getRemoteKeysForTarget(t).has(e)}}function yu(){return new Pa(ra.comparator)}function bu(){return new Pa(ra.comparator)}const xu={asc:"ASCENDING",desc:"DESCENDING"},wu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_u={and:"AND",or:"OR"};class Su{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function ku(t,e){return t.useProto3Json||ka(e)?e:{value:e}}function Eu(t,e){return t.useProto3Json?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cu(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Tu(t,e){return Eu(t,e.toTimestamp())}function Du(t){return Oo(!!t),Zo.fromTimestamp(function(t){const e=Ua(t);return new Jo(e.seconds,e.nanos)}(t))}function Mu(t,e){return Iu(t,e).canonicalString()}function Iu(t,e){const n=function(t){return new ea(["projects",t.projectId,"databases",t.database])}(t).child("documents");return void 0===e?n:n.child(e)}function Nu(t){const e=ea.fromString(t);return Oo(Xu(e)),e}function Au(t,e){return Mu(t.databaseId,e.path)}function Pu(t,e){const n=Nu(e);if(n.get(1)!==t.databaseId.projectId)throw new Fo(jo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Fo(jo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ra(ju(n))}function Ru(t,e){return Mu(t.databaseId,e)}function Ou(t){const e=Nu(t);return 4===e.length?ea.emptyPath():ju(e)}function Lu(t){return new ea(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ju(t){return Oo(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Fu(t,e,n){return{name:Au(t,e),fields:n.value.mapValue.fields}}function Vu(t,e){let n;if(e instanceof Hc)n={update:Fu(t,e.key,e.value)};else if(e instanceof Gc)n={delete:Au(t,e.key)};else if(e instanceof Wc)n={update:Fu(t,e.key,e.data),updateMask:$u(e.fieldMask)};else{if(!(e instanceof Yc))return Ro();n={verify:Au(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof Cc)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Tc)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Mc)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Nc)return{fieldPath:e.field.canonicalString(),increment:n.Ie};throw Ro()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Tu(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ro()}(t,e.precondition)),n}function zu(t,e){return{documents:[Ru(t,e.path)]}}function Bu(t,e){const n={structuredQuery:{}},i=e.path;let r;null!==e.collectionGroup?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Ru(t,r);const s=function(t){if(0!==t.length)return Yu(_l.create(t,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:Qu(t.field),direction:Wu(t.dir)}}(t)))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ku(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(t){return{before:t.inclusive,values:t.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),{ut:n,parent:r}}function Uu(t){let e=Ou(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Oo(1===i);const t=n.from[0];t.allDescendants?r=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=function(t){const e=Hu(t);return e instanceof _l&&kl(e)?e.getFilters():[e]}(n.where));let o=[];n.orderBy&&(o=function(t){return t.map((t=>function(t){return new yl(Gu(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)))}(n.orderBy));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,ka(e)?null:e}(n.limit));let l=null;n.startAt&&(l=function(t){const e=!!t.before,n=t.values||[];return new gl(n,e)}(n.startAt));let c=null;return n.endAt&&(c=function(t){const e=!t.before,n=t.values||[];return new gl(n,e)}(n.endAt)),Hl(e,r,o,s,a,"F",l,c)}function Hu(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Gu(t.unaryFilter.field);return wl.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Gu(t.unaryFilter.field);return wl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Gu(t.unaryFilter.field);return wl.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Gu(t.unaryFilter.field);return wl.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Ro()}}(t):void 0!==t.fieldFilter?function(t){return wl.create(Gu(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ro()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return _l.create(t.compositeFilter.filters.map((t=>Hu(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ro()}}(t.compositeFilter.op))}(t):Ro()}function Wu(t){return xu[t]}function qu(t){return wu[t]}function Ku(t){return _u[t]}function Qu(t){return{fieldPath:t.canonicalString()}}function Gu(t){return ia.fromServerFormat(t.fieldPath)}function Yu(t){return t instanceof wl?function(t){if("=="===t.op){if(ll(t.value))return{unaryFilter:{field:Qu(t.field),op:"IS_NAN"}};if(al(t.value))return{unaryFilter:{field:Qu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ll(t.value))return{unaryFilter:{field:Qu(t.field),op:"IS_NOT_NAN"}};if(al(t.value))return{unaryFilter:{field:Qu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qu(t.field),op:qu(t.op),value:t.value}}}(t):t instanceof _l?function(t){const e=t.getFilters().map((t=>Yu(t)));return 1===e.length?e[0]:{compositeFilter:{op:Ku(t.op),filters:e}}}(t):Ro()}function $u(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Xu(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ju{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Zo.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Zo.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:za.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(t){return new Ju(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ju(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ju(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ju(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Zu{constructor(t){this.ct=t}}function th(t){const e=Uu({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Xl(e,e.limit,"L"):e}class eh{constructor(){}Pt(t,e){this.It(t,e),e.Tt()}It(t,e){if("nullValue"in t)this.Et(e,5);else if("booleanValue"in t)this.Et(e,10),e.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(e,15),e.dt(Ha(t.integerValue));else if("doubleValue"in t){const n=Ha(t.doubleValue);isNaN(n)?this.Et(e,13):(this.Et(e,15),Ea(n)?e.dt(0):e.dt(n))}else if("timestampValue"in t){const n=t.timestampValue;this.Et(e,20),"string"==typeof n?e.At(n):(e.At("".concat(n.seconds||"")),e.dt(n.nanos||0))}else if("stringValue"in t)this.Rt(t.stringValue,e),this.Vt(e);else if("bytesValue"in t)this.Et(e,30),e.ft(Wa(t.bytesValue)),this.Vt(e);else if("referenceValue"in t)this.gt(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.Et(e,45),e.dt(n.latitude||0),e.dt(n.longitude||0)}else"mapValue"in t?hl(t)?this.Et(e,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,e),this.Vt(e)):"arrayValue"in t?(this.wt(t.arrayValue,e),this.Vt(e)):Ro()}Rt(t,e){this.Et(e,25),this.St(t,e)}St(t,e){e.At(t)}yt(t,e){const n=t.fields||{};this.Et(e,55);for(const i of Object.keys(n))this.Rt(i,e),this.It(n[i],e)}wt(t,e){const n=t.values||[];this.Et(e,50);for(const i of n)this.It(i,e)}gt(t,e){this.Et(e,37),ra.fromName(t).path.forEach((t=>{this.Et(e,60),this.St(t,e)}))}Et(t,e){t.dt(e)}Vt(t){t.dt(2)}}eh.bt=new eh;class nh{constructor(){this._n=new ih}addToCollectionParentIndex(t,e){return this._n.add(e),fa.resolve()}getCollectionParents(t,e){return fa.resolve(this._n.getEntries(e))}addFieldIndex(t,e){return fa.resolve()}deleteFieldIndex(t,e){return fa.resolve()}deleteAllFieldIndexes(t){return fa.resolve()}createTargetIndexes(t,e){return fa.resolve()}getDocumentsMatchingTarget(t,e){return fa.resolve(null)}getIndexType(t,e){return fa.resolve(0)}getFieldIndexes(t,e){return fa.resolve([])}getNextCollectionGroupToUpdate(t){return fa.resolve(null)}getMinOffset(t,e){return fa.resolve(la.min())}getMinOffsetFromCollectionGroup(t,e){return fa.resolve(la.min())}updateCollectionGroup(t,e,n){return fa.resolve()}updateIndexEntries(t,e){return fa.resolve()}}class ih{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new La(ea.comparator),r=!i.has(n);return this.index[e]=i.add(n),r}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new La(ea.comparator)).toArray()}}new Uint8Array(0);class rh{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new rh(t,rh.DEFAULT_COLLECTION_PERCENTILE,rh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}rh.DEFAULT_COLLECTION_PERCENTILE=10,rh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rh.DEFAULT=new rh(41943040,rh.DEFAULT_COLLECTION_PERCENTILE,rh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rh.DISABLED=new rh(-1,0,0);class sh{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new sh(0)}static Ln(){return new sh(-1)}}class oh{constructor(){this.changes=new sc((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,pl.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?fa.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ah{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class lh{constructor(t,e,n,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((i=>(n=i,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==n&&zc(n.mutation,t,Fa.empty(),Jo.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,mc()).next((()=>e))))}getLocalViewOfDocuments(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mc();const i=hc();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,n).next((t=>{let e=cc();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=hc();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,mc())))}populateOverlays(t,e,n){const i=[];return n.forEach((t=>{e.has(t)||i.push(t)})),this.documentOverlayCache.getOverlays(t,i).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,i){let r=ac();const s=fc(),o=fc();return e.forEach(((t,e)=>{const o=n.get(e.key);i.has(e.key)&&(void 0===o||o.mutation instanceof Wc)?r=r.insert(e.key,e):void 0!==o?(s.set(e.key,o.mutation.getFieldMask()),zc(o.mutation,e,o.mutation.getFieldMask(),Jo.now())):s.set(e.key,Fa.empty())})),this.recalculateAndSaveOverlays(t,r).next((t=>(t.forEach(((t,e)=>s.set(t,e))),e.forEach(((t,e)=>{var n;return o.set(t,new ah(e,null!==(n=s.get(t))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(t,e){const n=fc();let i=new Pa(((t,e)=>t-e)),r=mc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const r of t)r.keys().forEach((t=>{const s=e.get(t);if(null===s)return;let o=n.get(t)||Fa.empty();o=r.applyToLocalView(s,o),n.set(t,o);const a=(i.get(r.batchId)||mc()).add(t);i=i.insert(r.batchId,a)}))})).next((()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const i=o.getNext(),a=i.key,l=i.value,c=dc();l.forEach((t=>{if(!r.has(t)){const i=Fc(e.get(t),n.get(t));null!==i&&c.set(t,i),r=r.add(t)}})),s.push(this.documentOverlayCache.saveOverlays(t,a,c))}return fa.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n,i){return function(t){return ra.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Kl(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,i):this.getDocumentsMatchingCollectionQuery(t,e,n,i)}getNextDocuments(t,e,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,i).next((r=>{const s=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,i-r.size):fa.resolve(hc());let o=-1,a=r;return s.next((e=>fa.forEach(e,((e,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),r.get(e)?fa.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,r))).next((()=>this.computeViews(t,a,e,mc()))).next((t=>({batchId:o,changes:uc(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ra(e)).next((t=>{let e=cc();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n,i){const r=e.collectionGroup;let s=cc();return this.indexManager.getCollectionParents(t,r).next((o=>fa.forEach(o,(o=>{const a=function(t,e){return new Ul(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(r));return this.getDocumentsMatchingCollectionQuery(t,a,n,i).next((t=>{t.forEach(((t,e)=>{s=s.insert(t,e)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(t,e,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,r,i)))).next((t=>{r.forEach(((e,n)=>{const i=n.getKey();null===t.get(i)&&(t=t.insert(i,pl.newInvalidDocument(i)))}));let n=cc();return t.forEach(((t,i)=>{const s=r.get(t);void 0!==s&&zc(s.mutation,i,Fa.empty(),Jo.now()),ec(e,i)&&(n=n.insert(t,i))})),n}))}}class ch{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,e){return fa.resolve(this.cr.get(e))}saveBundleMetadata(t,e){return this.cr.set(e.id,function(t){return{id:t.id,version:t.version,createTime:Du(t.createTime)}}(e)),fa.resolve()}getNamedQuery(t,e){return fa.resolve(this.lr.get(e))}saveNamedQuery(t,e){return this.lr.set(e.name,function(t){return{name:t.name,query:th(t.bundledQuery),readTime:Du(t.readTime)}}(e)),fa.resolve()}}class uh{constructor(){this.overlays=new Pa(ra.comparator),this.hr=new Map}getOverlay(t,e){return fa.resolve(this.overlays.get(e))}getOverlays(t,e){const n=hc();return fa.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,i)=>{this.ht(t,e,i)})),fa.resolve()}removeOverlaysForBatchId(t,e,n){const i=this.hr.get(n);return void 0!==i&&(i.forEach((t=>this.overlays=this.overlays.remove(t))),this.hr.delete(n)),fa.resolve()}getOverlaysForCollection(t,e,n){const i=hc(),r=e.length+1,s=new ra(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===r&&t.largestBatchId>n&&i.set(t.getKey(),t)}return fa.resolve(i)}getOverlaysForCollectionGroup(t,e,n,i){let r=new Pa(((t,e)=>t-e));const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=r.get(t.largestBatchId);null===e&&(e=hc(),r=r.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=hc(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((t,e)=>o.set(t,e))),!(o.size()>=i)););return fa.resolve(o)}ht(t,e,n){const i=this.overlays.get(n.key);if(null!==i){const t=this.hr.get(i.largestBatchId).delete(n.key);this.hr.set(i.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new Jc(e,n));let r=this.hr.get(e);void 0===r&&(r=mc(),this.hr.set(e,r)),this.hr.set(e,r.add(n.key))}}class hh{constructor(){this.Pr=new La(dh.Ir),this.Tr=new La(dh.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,e){const n=new dh(t,e);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.Ar(new dh(t,e))}Rr(t,e){t.forEach((t=>this.removeReference(t,e)))}Vr(t){const e=new ra(new ea([])),n=new dh(e,t),i=new dh(e,t+1),r=[];return this.Tr.forEachInRange([n,i],(t=>{this.Ar(t),r.push(t.key)})),r}mr(){this.Pr.forEach((t=>this.Ar(t)))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const e=new ra(new ea([])),n=new dh(e,t),i=new dh(e,t+1);let r=mc();return this.Tr.forEachInRange([n,i],(t=>{r=r.add(t.key)})),r}containsKey(t){const e=new dh(t,0),n=this.Pr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class dh{constructor(t,e){this.key=t,this.pr=e}static Ir(t,e){return ra.comparator(t.key,e.key)||$o(t.pr,e.pr)}static Er(t,e){return $o(t.pr,e.pr)||ra.comparator(t.key,e.key)}}class fh{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.yr=1,this.wr=new La(dh.Ir)}checkEmpty(t){return fa.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,i){const r=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new $c(r,e,n,i);this.mutationQueue.push(s);for(const o of i)this.wr=this.wr.add(new dh(o.key,r)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return fa.resolve(s)}lookupMutationBatch(t,e){return fa.resolve(this.Sr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=this.br(n),r=i<0?0:i;return fa.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return fa.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(t){return fa.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new dh(e,0),i=new dh(e,Number.POSITIVE_INFINITY),r=[];return this.wr.forEachInRange([n,i],(t=>{const e=this.Sr(t.pr);r.push(e)})),fa.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new La($o);return e.forEach((t=>{const e=new dh(t,0),i=new dh(t,Number.POSITIVE_INFINITY);this.wr.forEachInRange([e,i],(t=>{n=n.add(t.pr)}))})),fa.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let r=n;ra.isDocumentKey(r)||(r=r.child(""));const s=new dh(new ra(r),0);let o=new La($o);return this.wr.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(o=o.add(t.pr)),!0)}),s),fa.resolve(this.Dr(o))}Dr(t){const e=[];return t.forEach((t=>{const n=this.Sr(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){Oo(0===this.Cr(e.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return fa.forEach(e.mutations,(i=>{const r=new dh(i.key,e.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((()=>{this.wr=n}))}Mn(t){}containsKey(t,e){const n=new dh(e,0),i=this.wr.firstAfterOrEqual(n);return fa.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,fa.resolve()}Cr(t,e){return this.br(t)}br(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Sr(t){const e=this.br(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class ph{constructor(t){this.vr=t,this.docs=new Pa(ra.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,i=this.docs.get(n),r=i?i.size:0,s=this.vr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return fa.resolve(n?n.document.mutableCopy():pl.newInvalidDocument(e))}getEntries(t,e){let n=ac();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():pl.newInvalidDocument(t))})),fa.resolve(n)}getDocumentsMatchingQuery(t,e,n,i){let r=ac();const s=e.path,o=new ra(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:t,value:{document:o}}=a.getNext();if(!s.isPrefixOf(t.path))break;t.path.length>s.length+1||ca(aa(o),n)<=0||(i.has(o.key)||ec(e,o))&&(r=r.insert(o.key,o.mutableCopy()))}return fa.resolve(r)}getAllFromCollectionGroup(t,e,n,i){Ro()}Fr(t,e){return fa.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new gh(this)}getSize(t){return fa.resolve(this.size)}}class gh extends oh{constructor(t){super(),this.ar=t}applyChanges(t){const e=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?e.push(this.ar.addEntry(t,i)):this.ar.removeEntry(n)})),fa.waitFor(e)}getFromCache(t,e){return this.ar.getEntry(t,e)}getAllFromCache(t,e){return this.ar.getEntries(t,e)}}class mh{constructor(t){this.persistence=t,this.Mr=new sc((t=>Vl(t)),zl),this.lastRemoteSnapshotVersion=Zo.min(),this.highestTargetId=0,this.Or=0,this.Nr=new hh,this.targetCount=0,this.Lr=sh.Nn()}forEachTarget(t,e){return this.Mr.forEach(((t,n)=>e(n))),fa.resolve()}getLastRemoteSnapshotVersion(t){return fa.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return fa.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),fa.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Or&&(this.Or=e),fa.resolve()}qn(t){this.Mr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Lr=new sh(e),this.highestTargetId=e),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,e){return this.qn(e),this.targetCount+=1,fa.resolve()}updateTargetData(t,e){return this.qn(e),fa.resolve()}removeTargetData(t,e){return this.Mr.delete(e.target),this.Nr.Vr(e.targetId),this.targetCount-=1,fa.resolve()}removeTargets(t,e,n){let i=0;const r=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Mr.delete(s),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)})),fa.waitFor(r).next((()=>i))}getTargetCount(t){return fa.resolve(this.targetCount)}getTargetData(t,e){const n=this.Mr.get(e)||null;return fa.resolve(n)}addMatchingKeys(t,e,n){return this.Nr.dr(e,n),fa.resolve()}removeMatchingKeys(t,e,n){this.Nr.Rr(e,n);const i=this.persistence.referenceDelegate,r=[];return i&&e.forEach((e=>{r.push(i.markPotentiallyOrphaned(t,e))})),fa.waitFor(r)}removeMatchingKeysForTargetId(t,e){return this.Nr.Vr(e),fa.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Nr.gr(e);return fa.resolve(n)}containsKey(t,e){return fa.resolve(this.Nr.containsKey(e))}}class vh{constructor(t,e){this.Br={},this.overlays={},this.kr=new Sa(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new mh(this),this.indexManager=new nh,this.remoteDocumentCache=function(t){return new ph(t)}((t=>this.referenceDelegate.Kr(t))),this.serializer=new Zu(e),this.$r=new ch(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new uh,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Br[t.toKey()];return n||(n=new fh(e,this.referenceDelegate),this.Br[t.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,e,n){Io("MemoryPersistence","Starting transaction:",t);const i=new yh(this.kr.next());return this.referenceDelegate.Ur(),n(i).next((t=>this.referenceDelegate.Wr(i).next((()=>t)))).toPromise().then((t=>(i.raiseOnCommittedEvent(),t)))}Gr(t,e){return fa.or(Object.values(this.Br).map((n=>()=>n.containsKey(t,e))))}}class yh extends ha{constructor(t){super(),this.currentSequenceNumber=t}}class bh{constructor(t){this.persistence=t,this.zr=new hh,this.jr=null}static Hr(t){return new bh(t)}get Jr(){if(this.jr)return this.jr;throw Ro()}addReference(t,e,n){return this.zr.addReference(n,e),this.Jr.delete(n.toString()),fa.resolve()}removeReference(t,e,n){return this.zr.removeReference(n,e),this.Jr.add(n.toString()),fa.resolve()}markPotentiallyOrphaned(t,e){return this.Jr.add(e.toString()),fa.resolve()}removeTarget(t,e){this.zr.Vr(e.targetId).forEach((t=>this.Jr.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.Jr.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}Ur(){this.jr=new Set}Wr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fa.forEach(this.Jr,(n=>{const i=ra.fromPath(n);return this.Yr(t,i).next((t=>{t||e.removeEntry(i,Zo.min())}))})).next((()=>(this.jr=null,e.apply(t))))}updateLimboDocument(t,e){return this.Yr(t,e).next((t=>{t?this.Jr.delete(e.toString()):this.Jr.add(e.toString())}))}Kr(t){return 0}Yr(t,e){return fa.or([()=>fa.resolve(this.zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gr(t,e)])}}class xh{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.qi=n,this.Qi=i}static Ki(t,e){let n=mc(),i=mc();for(const r of e.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new xh(t,e.fromCache,n,i)}}class wh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class _h{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Gt()?8:ga.v(Qt())>0?6:4}initialize(t,e){this.zi=t,this.indexManager=e,this.$i=!0}getDocumentsMatchingQuery(t,e,n,i){const r={result:null};return this.ji(t,e).next((t=>{r.result=t})).next((()=>{if(!r.result)return this.Hi(t,e,i,n).next((t=>{r.result=t}))})).next((()=>{if(r.result)return;const n=new wh;return this.Ji(t,e,n).next((i=>{if(r.result=i,this.Ui)return this.Yi(t,e,n,i.size)}))})).next((()=>r.result))}Yi(t,e,n,i){return n.documentReadCount<this.Wi?(Mo()<=ae.DEBUG&&Io("QueryEngine","SDK will not create cache indexes for query:",tc(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),fa.resolve()):(Mo()<=ae.DEBUG&&Io("QueryEngine","Query:",tc(e),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Gi*i?(Mo()<=ae.DEBUG&&Io("QueryEngine","The SDK decides to create cache indexes for query:",tc(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Gl(e))):fa.resolve())}ji(t,e){if(ql(e))return fa.resolve(null);let n=Gl(e);return this.indexManager.getIndexType(t,n).next((i=>0===i?null:(null!==e.limit&&1===i&&(e=Xl(e,null,"F"),n=Gl(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((i=>{const r=mc(...i);return this.zi.getDocuments(t,r).next((i=>this.indexManager.getMinOffset(t,n).next((n=>{const s=this.Zi(e,i);return this.Xi(e,s,r,n.readTime)?this.ji(t,Xl(e,null,"F")):this.es(t,s,e,n)}))))})))))}Hi(t,e,n,i){return ql(e)||i.isEqual(Zo.min())?fa.resolve(null):this.zi.getDocuments(t,n).next((r=>{const s=this.Zi(e,r);return this.Xi(e,s,n,i)?fa.resolve(null):(Mo()<=ae.DEBUG&&Io("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tc(e)),this.es(t,s,e,oa(i,-1)).next((t=>t)))}))}Zi(t,e){let n=new La(ic(t));return e.forEach(((e,i)=>{ec(t,i)&&(n=n.add(i))})),n}Xi(t,e,n,i){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const r="F"===t.limitType?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ji(t,e,n){return Mo()<=ae.DEBUG&&Io("QueryEngine","Using full collection scan to execute query:",tc(e)),this.zi.getDocumentsMatchingQuery(t,e,la.min(),n)}es(t,e,n,i){return this.zi.getDocumentsMatchingQuery(t,n,i).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}class Sh{constructor(t,e,n,i){this.persistence=t,this.ts=e,this.serializer=i,this.ns=new Pa($o),this.rs=new sc((t=>Vl(t)),zl),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(n)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lh(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.ns)))}}function kh(t,e,n,i){return new Sh(t,e,n,i)}async function Eh(t,e){const n=Lo(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let i;return n.mutationQueue.getAllMutationBatches(t).next((r=>(i=r,n._s(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const r=[],s=[];let o=mc();for(const t of i){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return n.localDocuments.getDocuments(t,o).next((t=>({us:t,removedBatchIds:r,addedBatchIds:s})))}))}))}function Ch(t){const e=Lo(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Qr.getLastRemoteSnapshotVersion(t)))}function Th(t,e,n){let i=mc(),r=mc();return n.forEach((t=>i=i.add(t))),e.getEntries(t,i).next((t=>{let i=ac();return n.forEach(((n,s)=>{const o=t.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(r=r.add(n)),s.isNoDocument()&&s.version.isEqual(Zo.min())?(e.removeEntry(n,s.readTime),i=i.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(s),i=i.insert(n,s)):Io("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:i,ls:r}}))}function Dh(t,e){const n=Lo(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function Mh(t,e){const n=Lo(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let i;return n.Qr.getTargetData(t,e).next((r=>r?(i=r,fa.resolve(i)):n.Qr.allocateTargetId(t).next((r=>(i=new Ju(e,r,"TargetPurposeListen",t.currentSequenceNumber),n.Qr.addTargetData(t,i).next((()=>i)))))))})).then((t=>{const i=n.ns.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(t.targetId,t),n.rs.set(e,t.targetId)),t}))}async function Ih(t,e,n){const i=Lo(t),r=i.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,(t=>i.persistence.referenceDelegate.removeTarget(t,r)))}catch(t){if(!ya(t))throw t;Io("LocalStore","Failed to update sequence numbers for target ".concat(e,": ").concat(t))}i.ns=i.ns.remove(e),i.rs.delete(r.target)}function Nh(t,e,n){const i=Lo(t);let r=Zo.min(),s=mc();return i.persistence.runTransaction("Execute query","readwrite",(t=>function(t,e,n){const i=Lo(t),r=i.rs.get(n);return void 0!==r?fa.resolve(i.ns.get(r)):i.Qr.getTargetData(e,n)}(i,t,Gl(e)).next((e=>{if(e)return r=e.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(t,e.targetId).next((t=>{s=t}))})).next((()=>i.ts.getDocumentsMatchingQuery(t,e,n?r:Zo.min(),n?s:mc()))).next((t=>(Ah(i,nc(e),t),{documents:t,hs:s})))))}function Ah(t,e,n){let i=t.ss.get(e)||Zo.min();n.forEach(((t,e)=>{e.readTime.compareTo(i)>0&&(i=e.readTime)})),t.ss.set(e,i)}class Ph{constructor(){this.activeTargetIds=yc()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Rh{constructor(){this.no=new Ph,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,e,n){this.ro[t]=e}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new Ph,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Oh{io(t){}shutdown(){}}class Lh{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Io("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){Io("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let jh=null;function Fh(){return null===jh?jh=268435456+Math.round(2147483648*Math.random()):jh++,"0x"+jh.toString(16)}const Vh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zh{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}const Bh="WebChannelConnection";class Uh extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=e+"://"+t.host,this.po="projects/".concat(n,"/databases/").concat(i),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(i)}get wo(){return!1}So(t,e,n,i,r){const s=Fh(),o=this.bo(t,e.toUriEncodedString());Io("RestConnection","Sending RPC '".concat(t,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,i,r),this.Co(t,o,a,n).then((e=>(Io("RestConnection","Received RPC '".concat(t,"' ").concat(s,": "),e),e)),(e=>{throw Ao("RestConnection","RPC '".concat(t,"' ").concat(s," failed with error: "),e,"url: ",o,"request:",n),e}))}vo(t,e,n,i,r,s){return this.So(t,e,n,i,r)}Do(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+To,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}bo(t,e){const n=Vh[t];return"".concat(this.fo,"/v1/").concat(e,":").concat(n)}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,e,n,i){const r=Fh();return new Promise(((s,o)=>{const a=new _o;a.setWithCredentials(!0),a.listenOnce(yo.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case vo.NO_ERROR:const e=a.getResponseJson();Io(Bh,"XHR for RPC '".concat(t,"' ").concat(r," received:"),JSON.stringify(e)),s(e);break;case vo.TIMEOUT:Io(Bh,"RPC '".concat(t,"' ").concat(r," timed out")),o(new Fo(jo.DEADLINE_EXCEEDED,"Request time out"));break;case vo.HTTP_ERROR:const n=a.getStatus();if(Io(Bh,"RPC '".concat(t,"' ").concat(r," failed with status:"),n,"response text:",a.getResponseText()),n>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(jo).indexOf(e)>=0?e:jo.UNKNOWN}(e.status);o(new Fo(t,e.message))}else o(new Fo(jo.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Fo(jo.UNAVAILABLE,"Connection failed."));break;default:Ro()}}finally{Io(Bh,"RPC '".concat(t,"' ").concat(r," completed."))}}));const l=JSON.stringify(i);Io(Bh,"RPC '".concat(t,"' ").concat(r," sending request:"),i),a.send(e,"POST",l,n,15)}))}Fo(t,e,n){const i=Fh(),r=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=go(),o=mo(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,e,n),a.encodeInitMessageHeaders=!0;const c=r.join("");Io(Bh,"Creating RPC '".concat(t,"' stream ").concat(i,": ").concat(c),a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new zh({lo:e=>{d?Io(Bh,"Not sending because RPC '".concat(t,"' stream ").concat(i," is closed:"),e):(h||(Io(Bh,"Opening RPC '".concat(t,"' stream ").concat(i," transport.")),u.open(),h=!0),Io(Bh,"RPC '".concat(t,"' stream ").concat(i," sending:"),e),u.send(e))},ho:()=>u.close()}),p=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return p(u,wo.EventType.OPEN,(()=>{d||Io(Bh,"RPC '".concat(t,"' stream ").concat(i," transport opened."))})),p(u,wo.EventType.CLOSE,(()=>{d||(d=!0,Io(Bh,"RPC '".concat(t,"' stream ").concat(i," transport closed")),f.Vo())})),p(u,wo.EventType.ERROR,(e=>{d||(d=!0,Ao(Bh,"RPC '".concat(t,"' stream ").concat(i," transport errored:"),e),f.Vo(new Fo(jo.UNAVAILABLE,"The operation could not be completed")))})),p(u,wo.EventType.MESSAGE,(e=>{var n;if(!d){const r=e.data[0];Oo(!!r);const s=r,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Io(Bh,"RPC '".concat(t,"' stream ").concat(i," received error:"),o);const e=o.status;let n=function(t){const e=tu[t];if(void 0!==e)return iu(e)}(e),r=o.message;void 0===n&&(n=jo.INTERNAL,r="Unknown error status: "+e+" with message "+o.message),d=!0,f.Vo(new Fo(n,r)),u.close()}else Io(Bh,"RPC '".concat(t,"' stream ").concat(i," received:"),r),f.mo(r)}})),p(o,bo.STAT_EVENT,(e=>{e.stat===xo.PROXY?Io(Bh,"RPC '".concat(t,"' stream ").concat(i," detected buffering proxy")):e.stat===xo.NOPROXY&&Io(Bh,"RPC '".concat(t,"' stream ").concat(i," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function Hh(){return"undefined"!=typeof document?document:null}function Wh(t){return new Su(t,!0)}class qh{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=t,this.timerId=e,this.Mo=n,this.xo=i,this.Oo=r,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const e=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Bo),i=Math.max(0,e-n);i>0&&Io("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(e," ms, last attempt: ").concat(n," ms ago)")),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,(()=>(this.Bo=Date.now(),t()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class Kh{constructor(t,e,n,i,r,s,o,a){this.oi=t,this.$o=n,this.Uo=i,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new qh(t,e)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,e){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==t?this.jo.reset():e&&e.code===jo.RESOURCE_EXHAUSTED?(No(e.toString()),No("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):e&&e.code===jo.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(e)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),e=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((t=>{let[n,i]=t;this.Wo===e&&this.o_(n,i)}),(e=>{t((()=>{const t=new Fo(jo.UNKNOWN,"Fetching auth token failed: "+e.message);return this.__(t)}))}))}o_(t,e){const n=this.s_(this.Wo);this.stream=this.a_(t,e),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((t=>{n((()=>this.__(t)))})),this.stream.onMessage((t=>{n((()=>this.onMessage(t)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(t){return Io("PersistentStream","close with error: ".concat(t)),this.stream=null,this.close(4,t)}s_(t){return e=>{this.oi.enqueueAndForget((()=>this.Wo===t?e():(Io("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Qh extends Kh{constructor(t,e,n,i,r,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i,s),this.serializer=r}a_(t,e){return this.connection.Fo("Listen",t,e)}onMessage(t){this.jo.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ro()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(t,e){return t.useProto3Json?(Oo(void 0===e||"string"==typeof e),za.fromBase64String(e||"")):(Oo(void 0===e||e instanceof Uint8Array),za.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?jo.UNKNOWN:iu(t.code);return new Fo(e,t.message||"")}(o);n=new gu(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Pu(t,i.document.name),s=Du(i.document.updateTime),o=i.document.createTime?Du(i.document.createTime):Zo.min(),a=new dl({mapValue:{fields:i.document.fields}}),l=pl.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new fu(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Pu(t,i.document),s=i.readTime?Du(i.readTime):Zo.min(),o=pl.newNoDocument(r,s),a=i.removedTargetIds||[];n=new fu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Pu(t,i.document),s=i.removedTargetIds||[];n=new fu([],s,r,null)}else{if(!("filter"in e))return Ro();{e.filter;const t=e.filter;t.targetId;const{count:i=0,unchangedNames:r}=t,s=new Zc(i,r),o=t.targetId;n=new pu(o,s)}}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Zo.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?Zo.min():e.readTime?Du(e.readTime):Zo.min()}(t);return this.listener.u_(e,n)}c_(t){const e={};e.database=Lu(this.serializer),e.addTarget=function(t,e){let n;const i=e.target;if(n=Bl(i)?{documents:zu(t,i)}:{query:Bu(t,i).ut},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=Cu(t,e.resumeToken);const i=ku(t,e.expectedCount);null!==i&&(n.expectedCount=i)}else if(e.snapshotVersion.compareTo(Zo.min())>0){n.readTime=Eu(t,e.snapshotVersion.toTimestamp());const i=ku(t,e.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,t);const n=function(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ro()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.t_(e)}l_(t){const e={};e.database=Lu(this.serializer),e.removeTarget=t,this.t_(e)}}class Gh extends Kh{constructor(t,e,n,i,r,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i,s),this.serializer=r,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,e){return this.connection.Fo("Write",t,e)}onMessage(t){if(Oo(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const e=function(t,e){return t&&t.length>0?(Oo(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?Du(t.updateTime):Du(e);return n.isEqual(Zo.min())&&(n=Du(e)),new Rc(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=Du(t.commitTime);return this.listener.T_(n,e)}return Oo(!t.writeResults||0===t.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=Lu(this.serializer),this.t_(t)}I_(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>Vu(this.serializer,t)))};this.t_(e)}}class Yh extends class{}{constructor(t,e,n,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new Fo(jo.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,e,n,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[s,o]=r;return this.connection.So(t,Iu(e,n),i,s,o)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===jo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Fo(jo.UNKNOWN,t.toString())}))}vo(t,e,n,i,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.vo(t,Iu(e,n),i,o,a,r)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===jo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Fo(jo.UNKNOWN,t.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class $h{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(t){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(t.toString())),this.y_("Offline")))}set(t){this.b_(),this.m_=0,"Online"===t&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const e="Could not reach Cloud Firestore backend. ".concat(t,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(No(e),this.g_=!1):Io("OnlineStateTracker",e)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Xh{constructor(t,e,n,i,r){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=r,this.M_.io((t=>{n.enqueueAndForget((async()=>{od(this)&&(Io("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=Lo(t);e.v_.add(4),await Zh(e),e.x_.set("Unknown"),e.v_.delete(4),await Jh(e)}(this))}))})),this.x_=new $h(n,i)}}async function Jh(t){if(od(t))for(const e of t.F_)await e(!0)}async function Zh(t){for(const e of t.F_)await e(!1)}function td(t,e){const n=Lo(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),sd(n)?rd(n):kd(n).Jo()&&nd(n,e))}function ed(t,e){const n=Lo(t),i=kd(n);n.C_.delete(e),i.Jo()&&id(n,e),0===n.C_.size&&(i.Jo()?i.Xo():od(n)&&n.x_.set("Unknown"))}function nd(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Zo.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kd(t).c_(e)}function id(t,e){t.O_.Oe(e),kd(t).l_(e)}function rd(t){t.O_=new vu({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),kd(t).start(),t.x_.p_()}function sd(t){return od(t)&&!kd(t).Ho()&&t.C_.size>0}function od(t){return 0===Lo(t).v_.size}function ad(t){t.O_=void 0}async function ld(t){t.C_.forEach(((e,n)=>{nd(t,e)}))}async function cd(t,e){ad(t),sd(t)?(t.x_.S_(e),rd(t)):t.x_.set("Unknown")}async function ud(t,e,n){if(t.x_.set("Online"),e instanceof gu&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const i of e.targetIds)t.C_.has(i)&&(await t.remoteSyncer.rejectListen(i,n),t.C_.delete(i),t.O_.removeTarget(i))}(t,e)}catch(n){Io("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await hd(t,n)}else if(e instanceof fu?t.O_.$e(e):e instanceof pu?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Zo.min()))try{const e=await Ch(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.O_.it(e);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=t.C_.get(i);r&&t.C_.set(i,r.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach(((e,n)=>{const i=t.C_.get(e);if(!i)return;t.C_.set(e,i.withResumeToken(za.EMPTY_BYTE_STRING,i.snapshotVersion)),id(t,e);const r=new Ju(i.target,e,n,i.sequenceNumber);nd(t,r)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){Io("RemoteStore","Failed to raise snapshot:",e),await hd(t,e)}}async function hd(t,e,n){if(!ya(e))throw e;t.v_.add(1),await Zh(t),t.x_.set("Offline"),n||(n=()=>Ch(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Io("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Jh(t)}))}function dd(t,e){return e().catch((n=>hd(t,n,e)))}async function fd(t){const e=Lo(t),n=Ed(e);let i=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;pd(e);)try{const t=await Dh(e.localStore,i);if(null===t){0===e.D_.length&&n.Xo();break}i=t.batchId,gd(e,t)}catch(t){await hd(e,t)}md(e)&&vd(e)}function pd(t){return od(t)&&t.D_.length<10}function gd(t,e){t.D_.push(e);const n=Ed(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function md(t){return od(t)&&!Ed(t).Ho()&&t.D_.length>0}function vd(t){Ed(t).start()}async function yd(t){Ed(t).d_()}async function bd(t){const e=Ed(t);for(const n of t.D_)e.I_(n.mutations)}async function xd(t,e,n){const i=t.D_.shift(),r=Xc.from(i,e,n);await dd(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await fd(t)}async function wd(t,e){e&&Ed(t).P_&&await async function(t,e){if(function(t){return nu(t)&&t!==jo.ABORTED}(e.code)){const n=t.D_.shift();Ed(t).Zo(),await dd(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await fd(t)}}(t,e),md(t)&&vd(t)}async function _d(t,e){const n=Lo(t);n.asyncQueue.verifyOperationInProgress(),Io("RemoteStore","RemoteStore received new credentials");const i=od(n);n.v_.add(3),await Zh(n),i&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Jh(n)}async function Sd(t,e){const n=Lo(t);e?(n.v_.delete(2),await Jh(n)):e||(n.v_.add(2),await Zh(n),n.x_.set("Unknown"))}function kd(t){return t.N_||(t.N_=function(t,e,n){const i=Lo(t);return i.R_(),new Qh(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(t.datastore,t.asyncQueue,{Po:ld.bind(null,t),To:cd.bind(null,t),u_:ud.bind(null,t)}),t.F_.push((async e=>{e?(t.N_.Zo(),sd(t)?rd(t):t.x_.set("Unknown")):(await t.N_.stop(),ad(t))}))),t.N_}function Ed(t){return t.L_||(t.L_=function(t,e,n){const i=Lo(t);return i.R_(),new Gh(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(t.datastore,t.asyncQueue,{Po:yd.bind(null,t),To:wd.bind(null,t),E_:bd.bind(null,t),T_:xd.bind(null,t)}),t.F_.push((async e=>{e?(t.L_.Zo(),await fd(t)):(await t.L_.stop(),t.D_.length>0&&(Io("RemoteStore","Stopping write stream with ".concat(t.D_.length," pending writes")),t.D_=[]))}))),t.L_}class Cd{constructor(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new Vo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,i,r){const s=Date.now()+n,o=new Cd(t,e,s,i,r);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fo(jo.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Td(t,e){if(No("AsyncQueue","".concat(e,": ").concat(t)),ya(t))return new Fo(jo.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}class Dd{constructor(t){this.comparator=t?(e,n)=>t(e,n)||ra.comparator(e.key,n.key):(t,e)=>ra.comparator(t.key,e.key),this.keyedMap=cc(),this.sortedSet=new Pa(this.comparator)}static emptySet(t){return new Dd(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Dd))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(!t.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new Dd;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class Md{constructor(){this.B_=new Pa(ra.comparator)}track(t){const e=t.doc.key,n=this.B_.get(e);n?0!==t.type&&3===n.type?this.B_=this.B_.insert(e,t):3===t.type&&1!==n.type?this.B_=this.B_.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.B_=this.B_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.B_=this.B_.remove(e):1===t.type&&2===n.type?this.B_=this.B_.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):Ro():this.B_=this.B_.insert(e,t)}k_(){const t=[];return this.B_.inorderTraversal(((e,n)=>{t.push(n)})),t}}class Id{constructor(t,e,n,i,r,s,o,a,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,i,r){const s=[];return e.forEach((t=>{s.push({type:0,doc:t})})),new Id(t,e,Dd.emptySet(e),s,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}class Nd{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some((t=>t.U_()))}}class Ad{constructor(){this.queries=new sc((t=>Zl(t)),Jl),this.onlineState="Unknown",this.W_=new Set}}async function Pd(t,e){const n=Lo(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.K_()&&e.U_()&&(i=2):(s=new Nd,i=e.U_()?0:1);try{switch(i){case 0:s.q_=await n.onListen(r,!0);break;case 1:s.q_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(t){const n=Td(t,"Initialization of query '".concat(tc(e.query),"' failed"));return void e.onError(n)}n.queries.set(r,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&jd(n)}async function Rd(t,e){const n=Lo(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const t=s.Q_.indexOf(e);t>=0&&(s.Q_.splice(t,1),0===s.Q_.length?r=e.U_()?0:1:!s.K_()&&e.U_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Od(t,e){const n=Lo(t);let i=!1;for(const r of e){const t=r.query,e=n.queries.get(t);if(e){for(const t of e.Q_)t.z_(r)&&(i=!0);e.q_=r}}i&&jd(n)}function Ld(t,e,n){const i=Lo(t),r=i.queries.get(e);if(r)for(const s of r.Q_)s.onError(n);i.queries.delete(e)}function jd(t){t.W_.forEach((t=>{t.next()}))}var Fd,Vd;(Vd=Fd||(Fd={})).j_="default",Vd.Cache="cache";class zd{constructor(t,e,n){this.query=t,this.H_=e,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=n||{}}z_(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new Id(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.J_?this.Z_(t)&&(this.H_.next(t),e=!0):this.X_(t,this.onlineState)&&(this.ea(t),e=!0),this.Y_=t,e}onError(t){this.H_.error(t)}G_(t){this.onlineState=t;let e=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,t)&&(this.ea(this.Y_),e=!0),e}X_(t,e){if(!t.fromCache)return!0;if(!this.U_())return!0;const n="Offline"!==e;return(!this.options.ta||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Z_(t){if(t.docChanges.length>0)return!0;const e=this.Y_&&this.Y_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}ea(t){t=Id.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.J_=!0,this.H_.next(t)}U_(){return this.options.source!==Fd.Cache}}class Bd{constructor(t){this.key=t}}class Ud{constructor(t){this.key=t}}class Hd{constructor(t,e){this.query=t,this.ua=e,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=mc(),this.mutatedKeys=mc(),this.ha=ic(t),this.Pa=new Dd(this.ha)}get Ia(){return this.ua}Ta(t,e){const n=e?e.Ea:new Md,i=e?e.Pa:this.Pa;let r=e?e.mutatedKeys:this.mutatedKeys,s=i,o=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(((t,e)=>{const c=i.get(t),u=ec(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.da(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.ha(u,a)>0||l&&this.ha(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),r=d?r.add(t):r.delete(t)):(s=s.delete(t),r=r.delete(t)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),r=r.delete(t.key),n.track({type:1,doc:t})}return{Pa:s,Ea:n,Xi:o,mutatedKeys:r}}da(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,i){const r=this.Pa;this.Pa=t.Pa,this.mutatedKeys=t.mutatedKeys;const s=t.Ea.k_();s.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ro()}};return n(t)-n(e)}(t.type,e.type)||this.ha(t.doc,e.doc))),this.Aa(n),i=null!=i&&i;const o=e&&!i?this.Ra():[],a=0===this.la.size&&this.current&&!i?1:0,l=a!==this.ca;return this.ca=a,0!==s.length||l?{snapshot:new Id(this.query,t.Pa,r,s,t.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Va:o}:{Va:o}}G_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new Md,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(t){return!this.ua.has(t)&&!!this.Pa.has(t)&&!this.Pa.get(t).hasLocalMutations}Aa(t){t&&(t.addedDocuments.forEach((t=>this.ua=this.ua.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.ua=this.ua.delete(t))),this.current=t.current)}Ra(){if(!this.current)return[];const t=this.la;this.la=mc(),this.Pa.forEach((t=>{this.ma(t.key)&&(this.la=this.la.add(t.key))}));const e=[];return t.forEach((t=>{this.la.has(t)||e.push(new Ud(t))})),this.la.forEach((n=>{t.has(n)||e.push(new Bd(n))})),e}fa(t){this.ua=t.hs,this.la=mc();const e=this.Ta(t.documents);return this.applyChanges(e,!0)}ga(){return Id.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class Wd{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class qd{constructor(t){this.key=t,this.pa=!1}}class Kd{constructor(t,e,n,i,r,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new sc((t=>Zl(t)),Jl),this.Sa=new Map,this.ba=new Set,this.Da=new Pa(ra.comparator),this.Ca=new Map,this.va=new hh,this.Fa={},this.Ma=new Map,this.xa=sh.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}async function Qd(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=gf(t);let r;const s=i.wa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ga()):r=await Yd(i,e,n,!0),r}async function Gd(t,e){const n=gf(t);await Yd(n,e,!0,!1)}async function Yd(t,e,n,i){const r=await Mh(t.localStore,Gl(e)),s=r.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return i&&(a=await $d(t,e,s,"current"===o,r.resumeToken)),t.isPrimaryClient&&n&&td(t.remoteStore,r),a}async function $d(t,e,n,i,r){t.Na=(e,n,i)=>async function(t,e,n,i){let r=e.view.Ta(n);r.Xi&&(r=await Nh(t.localStore,e.query,!1).then((t=>{let{documents:n}=t;return e.view.Ta(n,r)})));const s=i&&i.targetChanges.get(e.targetId),o=i&&null!=i.targetMismatches.get(e.targetId),a=e.view.applyChanges(r,t.isPrimaryClient,s,o);return cf(t,e.targetId,a.Va),a.snapshot}(t,e,n,i);const s=await Nh(t.localStore,e,!0),o=new Hd(e,s.hs),a=o.Ta(s.documents),l=du.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState,r),c=o.applyChanges(a,t.isPrimaryClient,l);cf(t,n,c.Va);const u=new Wd(e,n,o);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot}async function Xd(t,e,n){const i=Lo(t),r=i.wa.get(e),s=i.Sa.get(r.targetId);if(s.length>1)return i.Sa.set(r.targetId,s.filter((t=>!Jl(t,e)))),void i.wa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Ih(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),n&&ed(i.remoteStore,r.targetId),af(i,r.targetId)})).catch(da)):(af(i,r.targetId),await Ih(i.localStore,r.targetId,!0))}async function Jd(t,e){const n=Lo(t),i=n.wa.get(e),r=n.Sa.get(i.targetId);n.isPrimaryClient&&1===r.length&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),ed(n.remoteStore,i.targetId))}async function Zd(t,e){const n=Lo(t);try{const t=await function(t,e){const n=Lo(t),i=e.snapshotVersion;let r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const s=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;const o=[];e.targetChanges.forEach(((s,a)=>{const l=r.get(a);if(!l)return;o.push(n.Qr.removeMatchingKeys(t,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(t,s.addedDocuments,a))));let c=l.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(a)?c=c.withResumeToken(za.EMPTY_BYTE_STRING,Zo.min()).withLastLimboFreeSnapshotVersion(Zo.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,i)),r=r.insert(a,c),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Qr.updateTargetData(t,c))}));let a=ac(),l=mc();if(e.documentUpdates.forEach((i=>{e.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))})),o.push(Th(t,s,e.documentUpdates).next((t=>{a=t.cs,l=t.ls}))),!i.isEqual(Zo.min())){const e=n.Qr.getLastRemoteSnapshotVersion(t).next((e=>n.Qr.setTargetsMetadata(t,t.currentSequenceNumber,i)));o.push(e)}return fa.waitFor(o).next((()=>s.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,a,l))).next((()=>a))})).then((t=>(n.ns=r,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const i=n.Ca.get(e);i&&(Oo(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.pa=!0:t.modifiedDocuments.size>0?Oo(i.pa):t.removedDocuments.size>0&&(Oo(i.pa),i.pa=!1))})),await df(n,t,e)}catch(t){await da(t)}}function tf(t,e,n){const i=Lo(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const t=[];i.wa.forEach(((n,i)=>{const r=i.view.G_(e);r.snapshot&&t.push(r.snapshot)})),function(t,e){const n=Lo(t);n.onlineState=e;let i=!1;n.queries.forEach(((t,n)=>{for(const r of n.Q_)r.G_(e)&&(i=!0)})),i&&jd(n)}(i.eventManager,e),t.length&&i.ya.u_(t),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function ef(t,e,n){const i=Lo(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Ca.get(e),s=r&&r.key;if(s){let t=new Pa(ra.comparator);t=t.insert(s,pl.newNoDocument(s,Zo.min()));const n=mc().add(s),r=new hu(Zo.min(),new Map,new Pa($o),t,n);await Zd(i,r),i.Da=i.Da.remove(s),i.Ca.delete(e),hf(i)}else await Ih(i.localStore,e,!1).then((()=>af(i,e,n))).catch(da)}async function nf(t,e){const n=Lo(t),i=e.batch.batchId;try{const t=await function(t,e){const n=Lo(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const i=e.batch.keys(),r=n.os.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){const r=n.batch,s=r.keys();let o=fa.resolve();return s.forEach((t=>{o=o.next((()=>i.getEntry(e,t))).next((e=>{const s=n.docVersions.get(t);Oo(null!==s),e.version.compareTo(s)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),i.addEntry(e)))}))})),o.next((()=>t.mutationQueue.removeMutationBatch(e,r)))}(n,t,e,r).next((()=>r.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=mc();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,i)))}))}(n.localStore,e);of(n,i,null),sf(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await df(n,t)}catch(t){await da(t)}}async function rf(t,e,n){const i=Lo(t);try{const t=await function(t,e){const n=Lo(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let i;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(Oo(null!==e),i=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,i))).next((()=>n.localDocuments.getDocuments(t,i)))}))}(i.localStore,e);of(i,e,n),sf(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await df(i,t)}catch(n){await da(n)}}function sf(t,e){(t.Ma.get(e)||[]).forEach((t=>{t.resolve()})),t.Ma.delete(e)}function of(t,e,n){const i=Lo(t);let r=i.Fa[i.currentUser.toKey()];if(r){const t=r.get(e);t&&(n?t.reject(n):t.resolve(),r=r.remove(e)),i.Fa[i.currentUser.toKey()]=r}}function af(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Sa.get(e))t.wa.delete(i),n&&t.ya.La(i,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach((e=>{t.va.containsKey(e)||lf(t,e)}))}function lf(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);null!==n&&(ed(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),hf(t))}function cf(t,e,n){for(const i of n)i instanceof Bd?(t.va.addReference(i.key,e),uf(t,i)):i instanceof Ud?(Io("SyncEngine","Document no longer in limbo: "+i.key),t.va.removeReference(i.key,e),t.va.containsKey(i.key)||lf(t,i.key)):Ro()}function uf(t,e){const n=e.key,i=n.path.canonicalString();t.Da.get(n)||t.ba.has(i)||(Io("SyncEngine","New document in limbo: "+n),t.ba.add(i),hf(t))}function hf(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new ra(ea.fromString(e)),i=t.xa.next();t.Ca.set(i,new qd(n)),t.Da=t.Da.insert(n,i),td(t.remoteStore,new Ju(Gl(Wl(n.path)),i,"TargetPurposeLimboResolution",Sa._e))}}async function df(t,e,n){const i=Lo(t),r=[],s=[],o=[];i.wa.isEmpty()||(i.wa.forEach(((t,a)=>{o.push(i.Na(a,e,n).then((t=>{if((t||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){r.push(t);const e=xh.Ki(a.targetId,t);s.push(e)}})))})),await Promise.all(o),i.ya.u_(r),await async function(t,e){const n=Lo(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>fa.forEach(e,(e=>fa.forEach(e.qi,(i=>n.persistence.referenceDelegate.addReference(t,e.targetId,i))).next((()=>fa.forEach(e.Qi,(i=>n.persistence.referenceDelegate.removeReference(t,e.targetId,i)))))))))}catch(t){if(!ya(t))throw t;Io("LocalStore","Failed to update sequence numbers: "+t)}for(const i of e){const t=i.targetId;if(!i.fromCache){const e=n.ns.get(t),i=e.snapshotVersion,r=e.withLastLimboFreeSnapshotVersion(i);n.ns=n.ns.insert(t,r)}}}(i.localStore,s))}async function ff(t,e){const n=Lo(t);if(!n.currentUser.isEqual(e)){Io("SyncEngine","User change. New user:",e.toKey());const t=await Eh(n.localStore,e);n.currentUser=e,function(t,e){t.Ma.forEach((t=>{t.forEach((t=>{t.reject(new Fo(jo.CANCELLED,e))}))})),t.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await df(n,t.us)}}function pf(t,e){const n=Lo(t),i=n.Ca.get(e);if(i&&i.pa)return mc().add(i.key);{let t=mc();const i=n.Sa.get(e);if(!i)return t;for(const e of i){const i=n.wa.get(e);t=t.unionWith(i.view.Ia)}return t}}function gf(t){const e=Lo(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ef.bind(null,e),e.ya.u_=Od.bind(null,e.eventManager),e.ya.La=Ld.bind(null,e.eventManager),e}function mf(t){const e=Lo(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rf.bind(null,e),e}class vf{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Wh(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return kh(this.persistence,new _h,t.initialUser,this.serializer)}createPersistence(t){return new vh(bh.Hr,this.serializer)}createSharedClientState(t){return new Rh}async terminate(){var t,e;null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(e=this.indexBackfillerScheduler)||void 0===e||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class yf{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>tf(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=ff.bind(null,this.syncEngine),await Sd(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Ad}createDatastore(t){const e=Wh(t.databaseInfo.databaseId),n=function(t){return new Uh(t)}(t.databaseInfo);return function(t,e,n,i){return new Yh(t,e,n,i)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(t,e,n,i,r){return new Xh(t,e,n,i,r)}(this.localStore,this.datastore,t.asyncQueue,(t=>tf(this.syncEngine,t,0)),Lh.D()?new Lh:new Oh)}createSyncEngine(t,e){return function(t,e,n,i,r,s,o){const a=new Kd(t,e,n,i,r,s);return o&&(a.Oa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t;await async function(t){const e=Lo(t);Io("RemoteStore","RemoteStore shutting down."),e.v_.add(5),await Zh(e),e.M_.shutdown(),e.x_.set("Unknown")}(this.remoteStore),null===(t=this.datastore)||void 0===t||t.terminate()}}class bf{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.qa(this.observer.next,t)}error(t){this.observer.error?this.qa(this.observer.error,t):No("Uncaught Error in snapshot listener:",t.toString())}Qa(){this.muted=!0}qa(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}class xf{constructor(t,e,n,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=Co.UNAUTHENTICATED,this.clientId=Yo.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{Io("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(Io("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fo(jo.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=Td(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function wf(t,e){t.asyncQueue.verifyOperationInProgress(),Io("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async t=>{i.isEqual(t)||(await Eh(e.localStore,t),i=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function _f(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kf(t);Io("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((t=>_d(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>_d(e.remoteStore,n))),t._onlineComponents=e}function Sf(t){return"FirebaseError"===t.name?t.code===jo.FAILED_PRECONDITION||t.code===jo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}async function kf(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Io("FirestoreClient","Using user provided OfflineComponentProvider");try{await wf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Sf(n))throw n;Ao("Error using user provided cache. Falling back to memory cache: "+n),await wf(t,new vf)}}else Io("FirestoreClient","Using default OfflineComponentProvider"),await wf(t,new vf);return t._offlineComponents}async function Ef(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Io("FirestoreClient","Using user provided OnlineComponentProvider"),await _f(t,t._uninitializedComponentsProvider._online)):(Io("FirestoreClient","Using default OnlineComponentProvider"),await _f(t,new yf))),t._onlineComponents}function Cf(t){return Ef(t).then((t=>t.syncEngine))}async function Tf(t){const e=await Ef(t),n=e.eventManager;return n.onListen=Qd.bind(null,e.syncEngine),n.onUnlisten=Xd.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Gd.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Jd.bind(null,e.syncEngine),n}function Df(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new Vo;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,i,r){const s=new bf({next:n=>{e.enqueueAndForget((()=>Rd(t,o))),n.fromCache&&"server"===i.source?r.reject(new Fo(jo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:t=>r.reject(t)}),o=new zd(n,s,{includeMetadataChanges:!0,ta:!0});return Pd(t,o)}(await Tf(t),t.asyncQueue,e,n,i))),i.promise}function Mf(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const If=new Map;function Nf(t,e,n){if(!n)throw new Fo(jo.INVALID_ARGUMENT,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function Af(t){if(!ra.isDocumentKey(t))throw new Fo(jo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(t," has ").concat(t.length,"."))}function Pf(t){if(ra.isDocumentKey(t))throw new Fo(jo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function Rf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}}return"function"==typeof t?"a function":Ro()}function Of(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Fo(jo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rf(t);throw new Fo(jo.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}}return t}class Lf{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new Fo(jo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Fo(jo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,i){if(!0===e&&!0===i)throw new Fo(jo.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mf(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new Fo(jo.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (must not be NaN)"));if(t.timeoutSeconds<5)throw new Fo(jo.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (minimum allowed value is 5)"));if(t.timeoutSeconds>30)throw new Fo(jo.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class jf{constructor(t,e,n,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fo(jo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Fo(jo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lf(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new Bo;switch(t.type){case"firstParty":return new qo(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Fo(jo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=If.get(t);e&&(Io("ComponentProvider","Removing Datastore"),If.delete(t),e.terminate())}(this),Promise.resolve()}}function Ff(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var r;const s=(t=Of(t,jf))._getSettings(),o="".concat(e,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let e,n;if("string"==typeof i.mockUserToken)e=i.mockUserToken,n=Co.MOCK_USER;else{e=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zt(JSON.stringify({alg:"none",type:"JWT"})),zt(JSON.stringify(s)),""].join(".")}(i.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);const s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Fo(jo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Co(s)}t._authCredentials=new Uo(new zo(e,n))}}class Vf{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Vf(this.firestore,t,this._query)}}class zf{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new zf(this.firestore,t,this._key)}}class Bf extends Vf{constructor(t,e,n){super(t,e,Wl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new zf(this.firestore,null,new ra(t))}withConverter(t){return new Bf(this.firestore,t,this._path)}}function Uf(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(t=ee(t),Nf("collection","path",e),t instanceof jf){const n=ea.fromString(e,...i);return Pf(n),new Bf(t,null,n)}{if(!(t instanceof zf||t instanceof Bf))throw new Fo(jo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(ea.fromString(e,...i));return Pf(n),new Bf(t.firestore,null,n)}}function Hf(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(t=ee(t),1===arguments.length&&(e=Yo.newId()),Nf("doc","path",e),t instanceof jf){const n=ea.fromString(e,...i);return Af(n),new zf(t,null,new ra(n))}{if(!(t instanceof zf||t instanceof Bf))throw new Fo(jo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(ea.fromString(e,...i));return Af(n),new zf(t.firestore,t instanceof Bf?t.converter:null,new ra(n))}}class Wf{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new qh(this,"async_queue_retry"),this.cu=()=>{const t=Hh();t&&Io("AsyncQueue","Visibility state changed to "+t.visibilityState),this.jo.Ko()};const t=Hh();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.lu(),this.hu(t)}enterRestrictedMode(t){if(!this.iu){this.iu=!0,this.au=t||!1;const e=Hh();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.cu)}}enqueue(t){if(this.lu(),this.iu)return new Promise((()=>{}));const e=new Vo;return this.hu((()=>this.iu&&this.au?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.ru.push(t),this.Pu())))}async Pu(){if(0!==this.ru.length){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(tS){if(!ya(tS))throw tS;Io("AsyncQueue","Operation failed with retryable error: "+tS)}this.ru.length>0&&this.jo.qo((()=>this.Pu()))}}hu(t){const e=this.nu.then((()=>(this._u=!0,t().catch((t=>{this.ou=t,this._u=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw No("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this._u=!1,t))))));return this.nu=e,e}enqueueAfterDelay(t,e,n){this.lu(),this.uu.indexOf(t)>-1&&(e=0);const i=Cd.createAndSchedule(this,t,e,n,(t=>this.Iu(t)));return this.su.push(i),i}lu(){this.ou&&Ro()}verifyOperationInProgress(){}async Tu(){let t;do{t=this.nu,await t}while(t!==this.nu)}Eu(t){for(const e of this.su)if(e.timerId===t)return!0;return!1}du(t){return this.Tu().then((()=>{this.su.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.su)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Tu()}))}Au(t){this.uu.push(t)}Iu(t){const e=this.su.indexOf(t);this.su.splice(e,1)}}class qf extends jf{constructor(t,e,n,i){super(t,e,n,i),this.type="firestore",this._queue=new Wf,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Qf(this),this._firestoreClient.terminate()}}function Kf(t){return t._firestoreClient||Qf(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Qf(t){var e,n,i;const r=t._freezeSettings(),s=function(t,e,n,i){return new Ga(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Mf(i.experimentalLongPollingOptions),i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new xf(t._authCredentials,t._appCheckCredentials,t._queue,s),(null===(n=r.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=r.localCache)||void 0===i?void 0:i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}class Gf{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gf(za.fromBase64String(t))}catch(t){throw new Fo(jo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new Gf(za.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Yf{constructor(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(let i=0;i<e.length;++i)if(0===e[i].length)throw new Fo(jo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ia(e)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class $f{constructor(t){this._methodName=t}}class Xf{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Fo(jo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Fo(jo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return $o(this._lat,t._lat)||$o(this._long,t._long)}}const Jf=/^__.*__$/;class Zf{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new Wc(t,this.data,this.fieldMask,e,this.fieldTransforms):new Hc(t,this.data,e,this.fieldTransforms)}}class tp{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Wc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function ep(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ro()}}class np{constructor(t,e,n,i,r,s){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.Ru(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(t){return new np(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.mu({path:n,gu:!1});return i.pu(t),i}yu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.mu({path:n,gu:!1});return i.Ru(),i}wu(t){return this.mu({path:void 0,gu:!0})}Su(t){return vp(t,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}Ru(){if(this.path)for(let t=0;t<this.path.length;t++)this.pu(this.path.get(t))}pu(t){if(0===t.length)throw this.Su("Document fields must not be empty");if(ep(this.Vu)&&Jf.test(t))throw this.Su('Document fields cannot begin and end with "__"')}}class ip{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||Wh(t)}Cu(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new np({Vu:t,methodName:e,Du:n,path:ia.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rp(t){const e=t._freezeSettings(),n=Wh(t._databaseId);return new ip(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sp(t,e,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=t.Cu(s.merge||s.mergeFields?2:0,e,n,r);fp("Data must be an object, but it was:",o,i);const a=hp(i,o);let l,c;if(s.merge)l=new Fa(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const i of s.mergeFields){const r=pp(e,i,n);if(!o.contains(r))throw new Fo(jo.INVALID_ARGUMENT,"Field '".concat(r,"' is specified in your field mask but missing from your input data."));yp(t,r)||t.push(r)}l=new Fa(t),c=o.fieldTransforms.filter((t=>l.covers(t.field)))}else l=null,c=o.fieldTransforms;return new Zf(new dl(a),l,c)}class op extends $f{_toFieldTransform(t){if(2!==t.Vu)throw 1===t.Vu?t.Su("".concat(this._methodName,"() can only appear at the top level of your update data")):t.Su("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof op}}function ap(t,e,n,i){const r=t.Cu(1,e,n);fp("Data must be an object, but it was:",r,i);const s=[],o=dl.empty();Na(i,((t,i)=>{const a=mp(e,t,n);i=ee(i);const l=r.yu(a);if(i instanceof op)s.push(a);else{const t=up(i,l);null!=t&&(s.push(a),o.set(a,t))}}));const a=new Fa(s);return new tp(o,a,r.fieldTransforms)}function lp(t,e,n,i,r,s){const o=t.Cu(1,e,n),a=[pp(e,i,n)],l=[r];if(s.length%2!=0)throw new Fo(jo.INVALID_ARGUMENT,"Function ".concat(e,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(pp(e,s[d])),l.push(s[d+1]);const c=[],u=dl.empty();for(let d=a.length-1;d>=0;--d)if(!yp(c,a[d])){const t=a[d];let e=l[d];e=ee(e);const n=o.yu(t);if(e instanceof op)c.push(t);else{const i=up(e,n);null!=i&&(c.push(t),u.set(t,i))}}const h=new Fa(c);return new tp(u,h,o.fieldTransforms)}function cp(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return up(n,t.Cu(i?4:3,e))}function up(t,e){if(dp(t=ee(t)))return fp("Unsupported field value:",e,t),hp(t,e);if(t instanceof $f)return function(t,e){if(!ep(e.Vu))throw e.Su("".concat(t._methodName,"() can only be used with update() and set()"));if(!e.path)throw e.Su("".concat(t._methodName,"() is not currently supported inside arrays"));const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&4!==e.Vu)throw e.Su("Nested arrays are not supported");return function(t,e){const n=[];let i=0;for(const r of t){let t=up(r,e.wu(i));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=ee(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return wc(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=Jo.fromDate(t);return{timestampValue:Eu(e.serializer,n)}}if(t instanceof Jo){const n=new Jo(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Eu(e.serializer,n)}}if(t instanceof Xf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Gf)return{bytesValue:Cu(e.serializer,t._byteString)};if(t instanceof zf){const n=e.databaseId,i=t.firestore._databaseId;if(!i.isEqual(n))throw e.Su("Document reference is for database ".concat(i.projectId,"/").concat(i.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Mu(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Su("Unsupported field value: ".concat(Rf(t)))}(t,e)}function hp(t,e){const n={};return Aa(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Na(t,((t,i)=>{const r=up(i,e.fu(t));null!=r&&(n[t]=r)})),{mapValue:{fields:n}}}function dp(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Jo||t instanceof Xf||t instanceof Gf||t instanceof zf||t instanceof $f)}function fp(t,e,n){if(!dp(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const i=Rf(n);throw"an object"===i?e.Su(t+" a custom object"):e.Su(t+" "+i)}}function pp(t,e,n){if((e=ee(e))instanceof Yf)return e._internalPath;if("string"==typeof e)return mp(t,e);throw vp("Field path arguments must be of type string or ",t,!1,void 0,n)}const gp=new RegExp("[~\\*/\\[\\]]");function mp(t,e,n){if(e.search(gp)>=0)throw vp("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return new Yf(...e.split("."))._internalPath}catch(yn){throw vp("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function vp(t,e,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a="Function ".concat(e,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(i)),o&&(l+=" in document ".concat(r)),l+=")"),new Fo(jo.INVALID_ARGUMENT,a+t+l)}function yp(t,e){return t.some((t=>t.isEqual(e)))}class bp{constructor(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new zf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new xp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(wp("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class xp extends bp{data(){return super.data()}}function wp(t,e){return"string"==typeof e?mp(t,e):e instanceof Yf?e._internalPath:e._delegate._internalPath}function _p(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Fo(jo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sp{}class kp extends Sp{}function Ep(t,e){let n=[];for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];e instanceof Sp&&n.push(e),n=n.concat(r),function(t){const e=t.filter((t=>t instanceof Dp)).length,n=t.filter((t=>t instanceof Cp)).length;if(e>1||e>0&&n>0)throw new Fo(jo.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)t=o._apply(t);return t}class Cp extends kp{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new Cp(t,e,n)}_apply(t){const e=this._parse(t);return Np(t._query,e),new Vf(t.firestore,t.converter,$l(t._query,e))}_parse(t){const e=rp(t.firestore),n=function(t,e,n,i,r,s,o){let a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Fo(jo.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Ip(o,s);const e=[];for(const n of o)e.push(Mp(i,t,n));a={arrayValue:{values:e}}}else a=Mp(i,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Ip(o,s),a=cp(n,e,o,"in"===s||"not-in"===s);return wl.create(r,s,a)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value);return n}}function Tp(t,e,n){const i=e,r=wp("where",t);return Cp._create(r,i,n)}class Dp extends Sp{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Dp(t,e)}_parse(t){const e=this._queryConstraints.map((e=>e._parse(t))).filter((t=>t.getFilters().length>0));return 1===e.length?e[0]:_l.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const i=e.getFlattenedFilters();for(const r of i)Np(n,r),n=$l(n,r)}(t._query,e),new Vf(t.firestore,t.converter,$l(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Mp(t,e,n){if("string"==typeof(n=ee(n))){if(""===n)throw new Fo(jo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kl(e)&&-1!==n.indexOf("/"))throw new Fo(jo.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const i=e.path.child(ea.fromString(n));if(!ra.isDocumentKey(i))throw new Fo(jo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(i,"' is not because it has an odd number of segments (").concat(i.length,")."));return rl(t,new ra(i))}if(n instanceof zf)return rl(t,n._key);throw new Fo(jo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Rf(n),"."))}function Ip(t,e){if(!Array.isArray(t)||0===t.length)throw new Fo(jo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(e.toString(),"' filters."))}function Np(t,e){const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new Fo(jo.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(e.op.toString(),"' filter.")):new Fo(jo.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(e.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Ap{convertValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Xa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ha(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Wa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ro()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Na(t,((t,i)=>{n[t]=this.convertValue(i,e)})),n}convertGeoPoint(t){return new Xf(Ha(t.latitude),Ha(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=Ka(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Qa(t));default:return null}}convertTimestamp(t){const e=Ua(t);return new Jo(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=ea.fromString(t);Oo(Xu(n));const i=new Ya(n.get(1),n.get(3)),r=new ra(n.popFirst(5));return i.isEqual(e)||No("Document ".concat(r," contains a document reference within a different database (").concat(i.projectId,"/").concat(i.database,") which is not supported. It will be treated as a reference in the current database (").concat(e.projectId,"/").concat(e.database,") instead.")),r}}function Pp(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class Rp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Op extends bp{constructor(t,e,n,i,r,s){super(t,e,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const e=new Lp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(wp("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class Lp extends Op{data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(t)}}class jp{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Rp(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new Lp(this._firestore,this._userDataWriter,n.key,n,new Rp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const t=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fo(jo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>{const i=new Lp(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Rp(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:e++}}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const i=new Lp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Rp(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let r=-1,s=-1;return 0!==e.type&&(r=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:Fp(e.type),doc:i,oldIndex:r,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Fp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ro()}}class Vp extends Ap{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gf(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new zf(this.firestore,null,e)}}function zp(t){t=Of(t,Vf);const e=Of(t.firestore,qf),n=Kf(e),i=new Vp(e);return _p(t._query),Df(n,t._query).then((n=>new jp(e,i,t,n)))}function Bp(t,e,n){t=Of(t,zf);const i=Of(t.firestore,qf),r=rp(i);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(e=ee(e))||e instanceof Yf?lp(r,"updateDoc",t._key,e,n,a):ap(r,"updateDoc",t._key,e),Wp(i,[s.toMutation(t._key,Oc.exists(!0))])}function Up(t){return Wp(Of(t.firestore,qf),[new Gc(t._key,Oc.none())])}function Hp(t,e){const n=Of(t.firestore,qf),i=Hf(t),r=Pp(t.converter,e);return Wp(n,[sp(rp(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,Oc.exists(!1))]).then((()=>i))}function Wp(t,e){return function(t,e){const n=new Vo;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const i=mf(t);try{const t=await function(t,e){const n=Lo(t),i=Jo.now(),r=e.reduce(((t,e)=>t.add(e.key)),mc());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=ac(),l=mc();return n.os.getEntries(t,r).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(l=l.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,a))).next((r=>{s=r;const o=[];for(const t of e){const e=Bc(t,s.get(t.key).overlayedDocument);null!=e&&o.push(new Wc(t.key,e,fl(e.value.mapValue),Oc.exists(!0)))}return n.mutationQueue.addMutationBatch(t,i,o,e)})).next((e=>{o=e;const i=e.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(t,e.batchId,i)}))})).then((()=>({batchId:o.batchId,changes:uc(s)})))}(i.localStore,e);i.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let i=t.Fa[t.currentUser.toKey()];i||(i=new Pa($o)),i=i.insert(e,n),t.Fa[t.currentUser.toKey()]=i}(i,t.batchId,n),await df(i,t.changes),await fd(i.remoteStore)}catch(t){const e=Td(t,"Failed to persist write");n.reject(e)}}(await Cf(t),e,n))),n.promise}(Kf(t),e)}new WeakMap;!function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(t){To=t}("10.10.0"),ze(new ne("firestore",((t,n)=>{let{instanceIdentifier:i,options:r}=n;const s=t.getProvider("app").getImmediate(),o=new qf(new Ho(t.getProvider("auth-internal")),new Qo(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Fo(jo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ya(t.options.projectId,e)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),qe(Eo,"4.5.1",t),qe(Eo,"4.5.1","esm2017")}();qe("firebase","10.10.0","app");const qp=function(t,e){const n="object"==typeof t?t:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re;const e=Le.get(t);if(!e&&t===Re&&qt())return We();if(!e)throw Ue.create("no-app",{appName:t});return e}(),i="string"==typeof t?t:e||"(default)",r=Be(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const t=Wt("firestore");t&&Ff(r,...t)}return r}(We({apiKey:"AIzaSyCeX8uSPIo6XLcmECqmr8m0RiddEiD7h6I",authDomain:"gestion-clientes-agrohawk.firebaseapp.com",projectId:"gestion-clientes-agrohawk",storageBucket:"gestion-clientes-agrohawk.appspot.com",messagingSenderId:"715665881187",appId:"1:715665881187:web:c7fdc40fa978bd64c96056"})),Kp=qp,Qp=n.p+"static/media/LogoAgro.46d59296114098863884.png";var Gp=n(579);const Yp=function(){const[t,n]=(0,e.useState)(""),[i,r]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),a=Z();return(0,Gp.jsxs)("div",{className:"fondo-principal",children:[(0,Gp.jsx)("div",{className:"contenedor",children:(0,Gp.jsxs)("div",{className:"contenedor-primario",children:[(0,Gp.jsx)("h1",{children:"Iniciar Sesi\xf3n"}),(0,Gp.jsx)("body",{children:"Ingrese los datos de su cuenta"}),(0,Gp.jsx)("div",{style:{margin:"30px"}}),(0,Gp.jsxs)("div",{className:"input-contenedor",children:[(0,Gp.jsx)(Lt,{className:"icono"}),(0,Gp.jsx)("input",{type:"text",placeholder:"Email",value:t,onChange:t=>n(t.target.value)})]}),(0,Gp.jsxs)("div",{className:"input-contenedor",children:[(0,Gp.jsx)(Rt,{className:"icono"}),(0,Gp.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",value:i,onChange:t=>r(t.target.value)})]}),s&&(0,Gp.jsx)("div",{style:{color:"red"},children:s}),(0,Gp.jsx)("div",{style:{margin:"10px"}}),(0,Gp.jsxs)("div",{children:[(0,Gp.jsx)("button",{className:"btn_principal",onClick:async()=>{try{const e=Ep(Uf(Kp,"Usuarios"),Tp("Email","==",t),Tp("Password","==",i)),s=await zp(e);if(s.docs.length>0){const t=s.docs[0].data();a("/".concat(t.Rol,"/pagina-principal"),{state:{Rol:t.Rol}})}else o("Credenciales incorrectas"),n(""),r("")}catch(s){console.error("Error al iniciar sesi\xf3n:",s),o("Error al iniciar sesi\xf3n, por favor intenta de nuevo")}},children:"Iniciar Sesi\xf3n"}),(0,Gp.jsx)("button",{className:"btn_secundario",onClick:()=>{a("/registrarCuenta")},children:"Registrarse"})]})]})}),(0,Gp.jsx)("div",{className:"logo-container",children:(0,Gp.jsx)("img",{src:Qp,alt:"Logo"})})]})};const $p=function(){const[t,n]=(0,e.useState)(""),[i,r]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),h=Z();return(0,Gp.jsxs)("div",{className:"fondo-principal",children:[(0,Gp.jsxs)("div",{className:"contenedor",children:[(0,Gp.jsx)("h1",{children:"Registrar cuenta usuario"}),(0,Gp.jsx)("body",{children:"Ingrese los datos solicitados para el registro"}),(0,Gp.jsxs)("div",{className:"contenedor-secundario",children:[(0,Gp.jsxs)("div",{className:"columna",children:[(0,Gp.jsxs)("div",{className:"input-contenedor",children:[(0,Gp.jsx)(Lt,{className:"icono"}),(0,Gp.jsx)("input",{type:"text",placeholder:"Nombre",value:t,onChange:t=>n(t.target.value)})]}),(0,Gp.jsxs)("div",{className:"input-contenedor",children:[(0,Gp.jsx)(At,{className:"icono"}),(0,Gp.jsx)("input",{type:"text",placeholder:"Correo electr\xf3nico",value:s,onChange:t=>o(t.target.value)})]})]}),(0,Gp.jsxs)("div",{className:"columna",children:[(0,Gp.jsxs)("div",{className:"input-contenedor",children:[(0,Gp.jsx)(Lt,{className:"icono"}),(0,Gp.jsx)("input",{type:"text",placeholder:"Apellidos",value:i,onChange:t=>r(t.target.value)})]}),(0,Gp.jsxs)("div",{className:"input-contenedor",children:[(0,Gp.jsx)(Rt,{className:"icono"}),(0,Gp.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",value:a,onChange:t=>l(t.target.value)})]})]})]}),(0,Gp.jsxs)("div",{style:{marginTop:"-350px",marginLeft:"40px",marginRight:"40px"},children:[(0,Gp.jsx)("body",{children:"Seleccione su rol"}),(0,Gp.jsx)("div",{className:"columna",children:(0,Gp.jsxs)("div",{className:"contenedor-rol",children:[(0,Gp.jsx)("input",{type:"radio",id:"administrador",name:"rol",value:"administrador",checked:"administrador"===c,onChange:()=>u("administrador")}),(0,Gp.jsx)("label",{htmlFor:"administrador",children:"Administrador "}),(0,Gp.jsx)("input",{type:"radio",id:"analista",name:"rol",value:"analista",checked:"analista"===c,onChange:()=>u("analista")}),(0,Gp.jsx)("label",{htmlFor:"analista",children:"Analista "}),(0,Gp.jsx)("input",{type:"radio",id:"tecnico",name:"rol",value:"tecnico",checked:"tecnico"===c,onChange:()=>u("tecnico")}),(0,Gp.jsx)("label",{htmlFor:"tecnico",children:"T\xe9cnico "})]})})]}),(0,Gp.jsxs)("div",{className:"contenedor-botones",style:{marginBottom:"20px"},children:[(0,Gp.jsx)("button",{className:"btn_principal",onClick:async()=>{try{if(!(t&&i&&s&&a&&c))return void alert("Por favor, rellene todos los campos.");{const e={Nombre:t,Apellidos:i,Email:s,Password:a,Rol:c},n=await Hp(Uf(Kp,"Usuarios"),e);console.log("Documento insertado con ID: ",n.id),alert("Cuenta agregada con \xe9xito"),h("/")}}catch(e){console.error("Error al insertar el documento: ",e)}},children:"Registrarse"}),(0,Gp.jsx)("button",{className:"btn_secundario",onClick:()=>{h("/")},children:"Volver a la p\xe1gina principal"})]})]}),(0,Gp.jsx)("div",{className:"logo-container",children:(0,Gp.jsx)("img",{src:Qp,alt:"Logo"})})]})};const Xp=function(){const t=X().state.Rol,e=Z();return(0,Gp.jsxs)("div",{className:"fondo-secundario",children:[(0,Gp.jsx)("div",{className:"contenedor",children:(0,Gp.jsx)("div",{className:"contenedor-secundario",children:(0,Gp.jsxs)("div",{className:"columna",children:[(0,Gp.jsx)("h1",{children:"Administrador"}),(0,Gp.jsx)("body",{children:"P\xe1gina Principal"}),(0,Gp.jsxs)("div",{className:"contenedor-botones",children:[(0,Gp.jsx)("button",{className:"btn_verde",onClick:()=>{e("/".concat(t,"/buscar-cliente"),{state:{Rol:t}})},children:"Buscar Cliente"}),(0,Gp.jsx)("button",{className:"btn_verde",onClick:()=>{e("/".concat(t,"/registrar-cliente"),{state:{Rol:t}})},children:"Registrar Cliente"}),(0,Gp.jsx)("button",{className:"btn_verde",onClick:()=>{e("/".concat(t,"/buscar-servicios"),{state:{Rol:t}})},children:"Buscar Servicio"}),(0,Gp.jsx)("button",{className:"btn_rojo",onClick:()=>{e("/")},children:"Cerrar sesi\xf3n"})]})]})})}),(0,Gp.jsx)("div",{className:"logo-container",children:(0,Gp.jsx)("img",{src:Qp,alt:"Logo"})})]})};const Jp=function(){const t=X().state.Rol,e=Z();return(0,Gp.jsxs)("div",{className:"fondo-secundario",children:[(0,Gp.jsx)("div",{className:"contenedor",children:(0,Gp.jsx)("div",{className:"contenedor-secundario",children:(0,Gp.jsxs)("div",{className:"columna",children:[(0,Gp.jsx)("h1",{children:"T\xe9cnico"}),(0,Gp.jsx)("body",{children:"P\xe1gina Principal"}),(0,Gp.jsxs)("div",{className:"contenedor-botones",children:[(0,Gp.jsx)("button",{className:"btn_verde",onClick:()=>{e("/".concat(t,"/buscar-servicios"),{state:{Rol:t}})},children:"Buscar Servicio"}),(0,Gp.jsx)("button",{className:"btn_verde",onClick:()=>{e("/tecnico/registrar-servicio",{state:{Rol:t}})},children:"Registrar Servicio"}),(0,Gp.jsx)("button",{className:"btn_verde",onClick:()=>{e("/tecnico/modificar-servicios",{state:{Rol:t}})},children:"Modificar Servicio"}),(0,Gp.jsx)("button",{className:"btn_rojo",onClick:()=>{e("/")},children:"Cerrar sesi\xf3n"})]})]})})}),(0,Gp.jsx)("div",{className:"logo-container",children:(0,Gp.jsx)("img",{src:Qp,alt:"Logo"})})]})};const Zp=function(){const t=X().state.Rol,e=Z();return(0,Gp.jsxs)("div",{className:"fondo-secundario",children:[(0,Gp.jsx)("div",{className:"contenedor",children:(0,Gp.jsx)("div",{className:"contenedor-secundario",children:(0,Gp.jsxs)("div",{className:"columna",children:[(0,Gp.jsx)("h1",{children:"Analista"}),(0,Gp.jsx)("body",{children:"P\xe1gina Principal"}),(0,Gp.jsxs)("div",{className:"contenedor-botones",children:[(0,Gp.jsx)("button",{className:"btn_verde",onClick:()=>{e("/".concat(t,"/generar-reporte"),{state:{Rol:t}})},children:"Generar Reportes"}),(0,Gp.jsx)("button",{className:"btn_verde",onClick:()=>{e("/".concat(t,"/reportes"),{state:{Rol:t}})},children:"Ver Reportes"}),(0,Gp.jsx)("button",{className:"btn_verde",onClick:()=>{e("/".concat(t,"/estadisticas-generales"),{state:{Rol:t}})},children:"Ver Estad\xedsticas Generales"}),(0,Gp.jsx)("button",{className:"btn_rojo",onClick:()=>{e("/")},children:"Cerrar sesi\xf3n"})]})]})})}),(0,Gp.jsx)("div",{className:"logo-container",children:(0,Gp.jsx)("img",{src:Qp,alt:"Logo"})})]})};const tg=function(){const t=X().state.Rol,n=Z(),[i,r]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),[h,d]=(0,e.useState)(""),[f,p]=(0,e.useState)(""),g=()=>{n("/".concat(t,"/pagina-principal"),{state:{Rol:t}})};return(0,Gp.jsxs)("div",{className:"fondo-secundario",children:[(0,Gp.jsx)("div",{className:"contenedor",children:(0,Gp.jsx)("div",{className:"contenedor-terciario",children:(0,Gp.jsxs)("div",{className:"columna",children:[(0,Gp.jsx)("h1",{style:{marginTop:"30px"},children:"Administrador"}),(0,Gp.jsx)("body",{children:"Registrar Cliente"}),(0,Gp.jsx)("br",{}),(0,Gp.jsxs)("div",{className:"input-contenedor",children:[(0,Gp.jsx)(Lt,{className:"icono"}),(0,Gp.jsx)("input",{type:"text",placeholder:"Nombre",value:i,onChange:t=>r(t.target.value)})]}),(0,Gp.jsxs)("div",{className:"input-contenedor",children:[(0,Gp.jsx)(Lt,{className:"icono"}),(0,Gp.jsx)("input",{type:"text",placeholder:"Apellidos",value:s,onChange:t=>o(t.target.value)})]}),(0,Gp.jsxs)("div",{className:"input-contenedor",children:[(0,Gp.jsx)(Nt,{className:"icono"}),(0,Gp.jsx)("input",{type:"text",placeholder:"C\xe9dula",value:a,onChange:t=>l(t.target.value)})]}),(0,Gp.jsxs)("div",{className:"input-contenedor",children:[(0,Gp.jsx)(Ot,{className:"icono"}),(0,Gp.jsx)("input",{type:"text",placeholder:"N\xfamero de tel\xe9fono",value:c,onChange:t=>u(t.target.value)})]}),(0,Gp.jsxs)("div",{className:"input-contenedor",children:[(0,Gp.jsx)(At,{className:"icono"}),(0,Gp.jsx)("input",{type:"text",placeholder:"Correo electr\xf3nico",value:h,onChange:t=>d(t.target.value)})]}),(0,Gp.jsxs)("div",{className:"input-contenedor",children:[(0,Gp.jsx)(Pt,{className:"icono"}),(0,Gp.jsx)("input",{type:"text",placeholder:"Direcci\xf3n",value:f,onChange:t=>p(t.target.value)})]}),(0,Gp.jsxs)("div",{className:"contenedor-botones",style:{marginBottom:"20px"},children:[(0,Gp.jsx)("button",{className:"btn_principal",onClick:async()=>{if(i&&s&&a&&c&&h&&f)try{const t={Nombre:i,Apellidos:s,Cedula:a,Telefono:c,Email:h,Direccion:f},e=await Hp(Uf(Kp,"Clientes"),t);console.log("Documento insertado con ID: ",e.id),r(""),o(""),l(""),u(""),d(""),p(""),alert("Cliente registrado con \xe9xito"),g()}catch(t){console.log("Error: ",t)}else alert("Por favor, completa todos los campos.")},children:"Registrar Cliente"}),(0,Gp.jsx)("button",{className:"btn_secundario",onClick:g,children:"Volver a la p\xe1gina principal"})]})]})})}),(0,Gp.jsx)("div",{className:"logo-container",children:(0,Gp.jsx)("img",{src:Qp,alt:"Logo"})})]})};const eg=function(){const t=X().state.Rol,n=Z(),[i,r]=(0,e.useState)(""),[s,o]=(0,e.useState)("");return(0,Gp.jsxs)("div",{className:"fondo-secundario",children:[(0,Gp.jsx)("div",{className:"contenedor",children:(0,Gp.jsx)("div",{className:"contenedor-secundario",children:(0,Gp.jsxs)("div",{className:"columna",children:[(0,Gp.jsx)("h1",{children:"Administrador"}),(0,Gp.jsx)("body",{children:"Buscar Cliente"}),(0,Gp.jsx)("br",{}),(0,Gp.jsx)("br",{}),(0,Gp.jsxs)("div",{className:"input-contenedor",children:[(0,Gp.jsx)(Lt,{className:"icono"}),(0,Gp.jsx)("input",{type:"text",placeholder:"N\xfamero de c\xe9dula, formato: 101110111",value:i,onChange:t=>r(t.target.value)})]}),(0,Gp.jsx)("br",{}),(0,Gp.jsxs)("div",{className:"contenedor-botones",children:[(0,Gp.jsx)("button",{className:"btn_principal",onClick:async()=>{try{const e=Ep(Uf(Kp,"Clientes"),Tp("Cedula","==",i)),s=await zp(e);if(s.docs.length>0){const e=s.docs[0].data();n("/".concat(t,"/buscar/cliente-detalle"),{state:{Rol:t,cliente:e}})}else alert("Cliente no se encuentra registrado"),r("")}catch(s){console.error("Error al buscar cliente:",s),o("Error al buscar cliente, intente de nuevo")}},children:"Buscar Cliente"}),(0,Gp.jsx)("button",{className:"btn_secundario",onClick:()=>{n("/".concat(t,"/pagina-principal"),{state:{Rol:t}})},children:"Volver a la P\xe1gina Principal"})]})]})})}),(0,Gp.jsx)("div",{className:"logo-container",children:(0,Gp.jsx)("img",{src:Qp,alt:"Logo"})})]})};const ng=function(){const t=X(),n=t.state.Rol,i=Z(),r=t.state.cliente,[s,o]=(0,e.useState)(r.Nombre),[a,l]=(0,e.useState)(r.Apellidos),[c,u]=(0,e.useState)(r.Cedula),[h,d]=(0,e.useState)(r.Telefono),[f,p]=(0,e.useState)(r.Email),[g,m]=(0,e.useState)(r.Direccion),[v,y]=(0,e.useState)(r.Cedula),b=()=>{i("/".concat(n,"/pagina-principal"),{state:{Rol:n}})};return(0,Gp.jsxs)("div",{className:"fondo-secundario",children:[(0,Gp.jsx)("div",{className:"contenedor",children:(0,Gp.jsx)("div",{className:"contenedor-terciario",children:(0,Gp.jsxs)("div",{className:"columna",children:[(0,Gp.jsx)("h1",{style:{marginTop:"30px"},children:"Administrador"}),(0,Gp.jsx)("body",{children:"Detalle Cliente"}),(0,Gp.jsx)("br",{}),(0,Gp.jsxs)("div",{className:"input-contenedor",children:[(0,Gp.jsx)("input",{type:"text",placeholder:"Nombre",value:s,onChange:t=>o(t.target.value)}),(0,Gp.jsx)("input",{type:"text",placeholder:"Apellidos",value:a,onChange:t=>l(t.target.value)}),(0,Gp.jsx)("input",{type:"text",placeholder:"C\xe9dula",value:c,readOnly:!0}),(0,Gp.jsx)("input",{type:"text",placeholder:"N\xfamero de tel\xe9fono",value:h,onChange:t=>d(t.target.value)}),(0,Gp.jsx)("input",{type:"text",placeholder:"Correo electr\xf3nico",value:f,onChange:t=>p(t.target.value)}),(0,Gp.jsx)("input",{type:"text",placeholder:"Direcci\xf3n",value:g,onChange:t=>m(t.target.value)})]}),(0,Gp.jsxs)("div",{className:"contenedor-botones",children:[(0,Gp.jsx)("button",{className:"btn_principal",onClick:async()=>{try{const t=Ep(Uf(Kp,"Clientes"),Tp("Cedula","==",c)),e=await zp(t);if(console.log(e),e.empty)alert("Cliente no encontrado");else{console.log("Cedula vieja: ",c),console.log("Cedula nueva: ",v);const t=e.docs[0],n=Hf(Kp,"Clientes",t.id);if(c!==v){const t=Hf(Kp,"Clientes",c),n=Hf(Kp,"Clientes",v);await Bp(n,e.data()),await Up(t)}await Bp(n,{Nombre:s,Apellidos:a,Cedula:v,Telefono:h,Email:f,Direccion:g}),alert("Cliente modificado con \xe9xito"),b()}}catch(t){console.error("Error al modificar cliente:",t),alert("Error al modificar cliente, por favor intenta de nuevo")}},children:"Modificar"}),(0,Gp.jsx)("button",{className:"btn_principal",onClick:async()=>{try{if(window.confirm("\xbfEst\xe1 seguro que desea eliminar este cliente?")){const t=Ep(Uf(Kp,"Clientes"),Tp("Cedula","==",r.Cedula)),e=await zp(t);if(console.log(e),e.empty)alert("Cliente no encontrado");else{const t=e.docs[0].id;await Up(Hf(Kp,"Clientes",t));const n=Ep(Uf(Kp,"Servicios"),Tp("Cliente","==",r.Cedula));(await zp(n)).forEach((async t=>{const e=Hf(Kp,"Servicios",t.id);await Up(e)})),alert("Cliente eliminado con \xe9xito"),b()}}}catch(t){console.error("Error al eliminar cliente:",t),alert("Error al eliminar cliente, por favor intenta de nuevo")}},children:"Eliminar"}),(0,Gp.jsx)("button",{className:"btn_secundario",onClick:b,children:"Volver a la P\xe1gina Principal"})]})]})})}),(0,Gp.jsx)("div",{className:"logo-container",children:(0,Gp.jsx)("img",{src:Qp,alt:"Logo"})})]})},ig=[{label:"Servicio de fumigaci\xf3n con drone",value:"Servicio de fumigaci\xf3n con drone"},{label:"Servicio de mapeo de finca, inventario de fincas y conteo de plantas de pi\xf1a",value:"Servicio se mapeo de finca, inventario de fincas y conteo de plantas de pi\xf1a"},{label:"Servicio de monitoreo de maquinaria agr\xedcola",value:"Servicio de monitoreo de maquinaria agr\xedcola"}],rg=[{label:"Sin iniciar",value:"Sin iniciar"},{label:"En proceso",value:"En proceso"},{label:"Finalizado",value:"Finalizado"}],sg=[{label:"D\xf3lares",value:"D\xf3lares"},{label:"Colones",value:"Colones"}],og=[{label:"S\xed",value:"S\xed"},{label:"No",value:"No"}];const ag=function(){const t=X().state.Rol,n=Z(),[i,r]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),[h,d]=(0,e.useState)(""),[f,p]=(0,e.useState)(""),[g,m]=(0,e.useState)(""),[v,y]=(0,e.useState)(""),[b,x]=(0,e.useState)(""),[w,_]=(0,e.useState)([]),[S,k]=(0,e.useState)(""),[E,C]=(0,e.useState)(""),[T,D]=(0,e.useState)(""),[M,I]=(0,e.useState)(""),[N,A]=(0,e.useState)(""),[P,R]=(0,e.useState)("");(0,e.useEffect)((()=>{O()}),[]);const O=async()=>{const t=Uf(Kp,"Clientes"),e=(await zp(t)).docs.map((t=>({label:t.data().Nombre+" "+t.data().Apellidos,value:t.data().Cedula})));_(e),console.log("Clientes cargados:",e)},L=()=>{n("/tecnico/pagina-principal",{state:{Rol:t}})};return(0,Gp.jsxs)("div",{className:"fondo-secundario",children:[(0,Gp.jsx)("div",{className:"contenedor",children:(0,Gp.jsx)("div",{className:"contenedor-terciario ",children:(0,Gp.jsxs)("div",{className:"columna",children:[(0,Gp.jsx)("h1",{children:"Registrar Servicio"}),(0,Gp.jsxs)("div",{className:"input-contenedor",children:[(0,Gp.jsxs)("select",{className:"dropdown",value:b,onChange:t=>x(t.target.value),children:[(0,Gp.jsx)("option",{value:"",children:"Seleccione un cliente"}),w.map(((t,e)=>(0,Gp.jsx)("option",{value:t.value,children:t.label},e)))]}),(0,Gp.jsxs)("select",{className:"dropdown",value:i,onChange:t=>r(t.target.value),children:[(0,Gp.jsx)("option",{value:"",children:"Seleccione el tipo de servicio"}),ig.map(((t,e)=>(0,Gp.jsx)("option",{value:t.value,children:t.label},e)))]}),(0,Gp.jsxs)("div",{className:"fila",children:[(0,Gp.jsxs)("select",{className:"dropdown",value:c,onChange:t=>u(t.target.value),children:[(0,Gp.jsx)("option",{value:"",children:"Seleccione una moneda"}),sg.map(((t,e)=>(0,Gp.jsx)("option",{value:t.value,children:t.label},e)))]}),(0,Gp.jsx)("input",{type:"text",value:a,placeholder:"Costo",onChange:t=>l(t.target.value)})]}),(0,Gp.jsxs)("div",{className:"fila",children:[(0,Gp.jsx)("input",{type:"text",value:h,placeholder:"Cultivo",onChange:t=>d(t.target.value)}),(0,Gp.jsx)("input",{type:"text",value:f,placeholder:"Descripci\xf3n",onChange:t=>p(t.target.value)})]}),(0,Gp.jsxs)("div",{className:"fila",children:[(0,Gp.jsx)("input",{type:"text",value:g,placeholder:"Matr\xedcula del drone",onChange:t=>m(t.target.value)}),(0,Gp.jsx)("input",{type:"text",value:v,placeholder:"Piloto del drone",onChange:t=>y(t.target.value)})]}),(0,Gp.jsxs)("div",{className:"fila",children:[(0,Gp.jsx)("input",{type:"text",value:s,placeholder:"Hect\xe1reas",onChange:t=>o(t.target.value)}),(0,Gp.jsxs)("select",{className:"dropdown",value:S,onChange:t=>k(t.target.value),children:[(0,Gp.jsx)("option",{value:"",children:"Seleccione un estado"}),rg.map(((t,e)=>(0,Gp.jsx)("option",{value:t.value,children:t.label},e)))]})]}),(0,Gp.jsxs)("div",{className:"fila",children:[(0,Gp.jsx)("input",{type:"date",value:E,title:"Fecha inicio",onChange:t=>C(t.target.value)}),(0,Gp.jsx)("input",{type:"date",value:T,title:"Fecha fin",onChange:t=>D(t.target.value)}),(0,Gp.jsx)("input",{type:"number",min:"0",value:P,placeholder:"Periodicidad por semana",onChange:t=>R(t.target.value)})]})," ",(0,Gp.jsx)("br",{}),(0,Gp.jsx)("label",{style:{fontSize:"14px"},children:" \xbfEl servicio es un contrato? "}),(0,Gp.jsxs)("div",{className:"fila",children:[(0,Gp.jsxs)("select",{className:"dropdown",value:M,onChange:t=>{I(t.target.value),"No"===t.target.value&&A("0")},children:[(0,Gp.jsx)("option",{value:"",children:"Seleccione una opci\xf3n"}),og.map(((t,e)=>(0,Gp.jsx)("option",{value:t.value,children:t.label},e)))]}),"S\xed"===M&&(0,Gp.jsx)("input",{type:"number",min:"0",value:N,placeholder:"Cantidad en d\xedas",onChange:t=>A(t.target.value)})]})]}),(0,Gp.jsxs)("div",{className:"contenedor-botones",children:[(0,Gp.jsx)("button",{className:"btn_principal",onClick:async()=>{if(i&&s&&a&&h&&f&&g&&S&&b&&E&&T&&P&&c&&v&&M)if("S\xed"!==M||N)if(new Date(E)>=new Date(T))alert("La fecha de fin debe ser mayor que la fecha de inicio.");else{console.log(N);try{const t={TipoServicio:i,Hectareas:s,Costo:a,TipoCosto:c,Cultivo:h,Descripcion:f,Dron:g,Piloto:v,Estado:S,Cliente:b,FechaInicio:E,FechaFin:T,Contrato:M,Periodicidad:P,CantidadContrato:N},e=await Hp(Uf(Kp,"Servicios"),t);console.log("Documento insertado con ID: ",e.id),alert("Servicio agregado con \xe9xito"),L()}catch(t){console.error("Error al insertar el documento: ",t)}}else alert("Por favor, completa la cantidad de d\xedas del contrato.");else alert("Por favor, completa todos los campos.")},children:"Registrar Servicio"}),(0,Gp.jsx)("button",{className:"btn_secundario",onClick:L,children:"Volver a la P\xe1gina Principal"})]})]})})}),(0,Gp.jsx)("div",{className:"logo-container",children:(0,Gp.jsx)("img",{src:Qp,alt:"Logo"})})]})};const lg=function(){const t=X(),n=t.state.Rol,i=Z(),[r,s]=(0,e.useState)("");return(0,Gp.jsxs)("div",{className:"fondo-secundario",children:[(0,Gp.jsx)("div",{className:"contenedor",children:(0,Gp.jsx)("div",{className:"contenedor-secundario",children:(0,Gp.jsxs)("div",{className:"columna",children:[(0,Gp.jsx)("h1",{children:"administrador"===n?"Administrador":"T\xe9cnico"}),(0,Gp.jsx)("body",{children:"/tecnico/modificar-servicios"===t.pathname?"Modificar Servicio":"Buscar Servicio"}),(0,Gp.jsx)("br",{}),(0,Gp.jsx)("br",{}),(0,Gp.jsxs)("div",{className:"input-contenedor",children:[(0,Gp.jsx)(Lt,{className:"icono"}),(0,Gp.jsx)("input",{type:"text",placeholder:"N\xfamero de c\xe9dula, formato: 101110111",value:r,onChange:t=>s(t.target.value)})]}),(0,Gp.jsx)("br",{}),(0,Gp.jsxs)("div",{className:"contenedor-botones",children:[(0,Gp.jsx)("button",{className:"btn_principal",onClick:async()=>{try{if(!r)return void alert("Por favor, ingrese un n\xfamero de c\xe9dula");{const e=Ep(Uf(Kp,"Servicios"),Tp("Cliente","==",r)),s=(await zp(e)).docs.map((t=>({id:t.id,...t.data()})));"/tecnico/modificar-servicios"===t.pathname?i("/".concat(n,"/modificar/servicios"),{state:{Rol:n,servicios:s}}):i("/".concat(n,"/buscar/servicios"),{state:{Rol:n,servicios:s}})}}catch(e){console.error("Error al buscar servicios:",e)}},children:"Buscar Servicio"}),(0,Gp.jsx)("button",{className:"btn_secundario",onClick:()=>{i("/".concat(n,"/pagina-principal"),{state:{Rol:n}})},children:"Volver a la P\xe1gina Principal"})]})]})})}),(0,Gp.jsx)("div",{className:"logo-container",children:(0,Gp.jsx)("img",{src:Qp,alt:"Logo"})})]})};function cg(t){let e=(t=new Date(t)).getFullYear(),n=("0"+(t.getMonth()+1)).slice(-2),i=("0"+t.getDate()).slice(-2);return"".concat(i,"-").concat(n,"-").concat(e)}const ug=function(){const t=X(),n=t.state.Rol,[i,r]=(0,e.useState)([]),s=Z();return(0,e.useEffect)((()=>{const e=t.state.servicios||[];r(e)}),[t.state.servicios]),(0,Gp.jsxs)("div",{className:"fondo-secundario",children:[(0,Gp.jsx)("div",{className:"contenedor",children:(0,Gp.jsx)("div",{className:"contenedor-secundario",children:(0,Gp.jsxs)("div",{className:"columna",children:[(0,Gp.jsx)("h1",{children:"Servicios"}),(0,Gp.jsx)("body",{children:"/tecnico/modificar/servicios"===t.pathname?"Seleccione el servicio a modificar":"Seleccione el servicio a consultar"}),(0,Gp.jsx)("br",{}),(0,Gp.jsx)("br",{}),(0,Gp.jsx)("div",{className:"contenedor-items",children:(0,Gp.jsx)("ul",{children:i.length>0?i.map((e=>(0,Gp.jsxs)("li",{onClick:()=>((e,i)=>{"/tecnico/modificar/servicios"===t.pathname?s("/".concat(n,"/modificar/servicios-detalle"),{state:{Rol:n,servicio:i}}):s("/".concat(n,"/buscar/servicios-detalle"),{state:{Rol:n,servicio:i}})})(e.id,e),children:["Fecha de Inicio: ",cg(e.FechaInicio)]},e.id))):(0,Gp.jsx)("p",{style:{textAlign:"center",color:"red",background:"none",border:"none",marginBottom:"50px",marginTop:"70px"},children:"No hay servicios asociados"})})}),(0,Gp.jsxs)("div",{className:"contenedor-botones",children:[(0,Gp.jsx)("button",{className:"btn_principal",onClick:()=>{"/tecnico/modificar/servicios"===t.pathname?s("/".concat(n,"/modificar-servicios"),{state:{Rol:n}}):s("/".concat(n,"/buscar-servicios"),{state:{Rol:n}})},children:"Atr\xe1s"}),(0,Gp.jsx)("button",{className:"btn_secundario",onClick:()=>{s("/".concat(n,"/pagina-principal"),{state:{Rol:n}})},children:"Volver a la P\xe1gina Principal"})]})]})})}),(0,Gp.jsx)("div",{className:"logo-container",children:(0,Gp.jsx)("img",{src:Qp,alt:"Logo"})})]})};const hg=function(){const t=X(),n=t.state.Rol,i=t.state.servicio,r=Z(),[s,o]=(0,e.useState)(i.TipoServicio),[a,l]=(0,e.useState)(i.Hectareas),[c,u]=(0,e.useState)(i.Costo),[h,d]=(0,e.useState)(i.TipoCosto),[f,p]=(0,e.useState)(i.Cultivo),[g,m]=(0,e.useState)(i.Descripcion),[v,y]=(0,e.useState)(i.Dron),[b,x]=(0,e.useState)(i.Piloto),[w,_]=(0,e.useState)(i.cliente),[S,k]=(0,e.useState)([]),[E,C]=(0,e.useState)(i.Estado),[T,D]=(0,e.useState)(i.FechaInicio),[M,I]=(0,e.useState)(i.FechaFin),[N,A]=(0,e.useState)(i.Contrato),[P,R]=(0,e.useState)(i.CantidadContrato),[O,L]=(0,e.useState)(i.Periodicidad);(0,e.useEffect)((()=>{_(i.Cliente)}),[i.Cliente]),(0,e.useEffect)((()=>{o(i.TipoServicio)}),[i.TipoServicio]),(0,e.useEffect)((()=>{C(i.Estado)}),[i.Estado]),(0,e.useEffect)((()=>{d(i.TipoCosto)}),[i.TipoCosto]),(0,e.useEffect)((()=>{A(i.Contrato)}),[i.Contrato]),(0,e.useEffect)((()=>{V()}),[]);const j=()=>{r(-1,{state:{Rol:n}})},F=()=>{r("/".concat(n,"/pagina-principal"),{state:{Rol:n}})},V=async()=>{const t=Uf(Kp,"Clientes"),e=(await zp(t)).docs.map((t=>({label:t.data().Nombre+" "+t.data().Apellidos,value:t.data().Cedula})));k(e)},z=t=>{const e=new Date(t);return e.getDate()+1+"/"+(e.getMonth()+1)+"/"+e.getFullYear()};return(0,Gp.jsxs)("div",{className:"fondo-secundario",children:[(0,Gp.jsx)("div",{className:"contenedor",children:(0,Gp.jsx)("div",{className:"contenedor-terciario",children:(0,Gp.jsxs)("div",{className:"columna",children:[(0,Gp.jsx)("h1",{children:"Detalle del Servicio"}),"/tecnico/modificar/servicios-detalle"===t.pathname?(0,Gp.jsxs)("div",{className:"input-contenedor",children:[(0,Gp.jsxs)("select",{className:"dropdown",value:w,onChange:t=>_(t.target.value),children:[(0,Gp.jsx)("option",{value:"",children:"Seleccione un cliente"}),S.map(((t,e)=>(0,Gp.jsx)("option",{value:t.value,children:t.label+" - "+t.value},e)))]}),(0,Gp.jsxs)("select",{className:"dropdown",value:s,onChange:t=>o(t.target.value),children:[(0,Gp.jsx)("option",{value:"",children:"Seleccione el tipo de servicio"}),ig.map(((t,e)=>(0,Gp.jsx)("option",{value:t.value,children:t.label},e)))]}),(0,Gp.jsxs)("div",{className:"fila",children:[(0,Gp.jsxs)("select",{className:"dropdown",value:h,onChange:t=>d(t.target.value),children:[(0,Gp.jsx)("option",{value:"",children:"Seleccione una moneda"}),sg.map(((t,e)=>(0,Gp.jsx)("option",{value:t.value,children:t.label},e)))]}),(0,Gp.jsx)("input",{type:"text",value:c,placeholder:"Costo",onChange:t=>u(t.target.value)})]}),(0,Gp.jsxs)("div",{className:"fila",children:[(0,Gp.jsx)("input",{type:"text",value:f,placeholder:"Cultivo",onChange:t=>p(t.target.value)}),(0,Gp.jsx)("input",{type:"text",value:g,placeholder:"Descripci\xf3n",onChange:t=>m(t.target.value)})]}),(0,Gp.jsxs)("div",{className:"fila",children:[(0,Gp.jsx)("input",{type:"text",value:v,placeholder:"Matr\xedcula del drone",onChange:t=>y(t.target.value)}),(0,Gp.jsx)("input",{type:"text",value:b,placeholder:"Piloto del drone",onChange:t=>x(t.target.value)})]}),(0,Gp.jsxs)("div",{className:"fila",children:[(0,Gp.jsx)("input",{type:"text",value:a,placeholder:"Hect\xe1reas",onChange:t=>l(t.target.value)}),(0,Gp.jsxs)("select",{className:"dropdown",value:E,onChange:t=>C(t.target.value),children:[(0,Gp.jsx)("option",{value:"",children:"Seleccione un estado"}),rg.map(((t,e)=>(0,Gp.jsx)("option",{value:t.value,children:t.label},e)))]})]}),(0,Gp.jsxs)("div",{className:"fila",children:[(0,Gp.jsx)("input",{type:"date",value:T,title:"Fecha inicio",onChange:t=>D(t.target.value)}),(0,Gp.jsx)("input",{type:"date",value:M,title:"Fecha fin",onChange:t=>I(t.target.value)}),(0,Gp.jsx)("input",{type:"number",min:"0",value:O,placeholder:"Periodicidad por semana",onChange:t=>L(t.target.value)})]})," ",(0,Gp.jsx)("br",{}),(0,Gp.jsx)("label",{style:{fontSize:"14px"},children:" \xbfEl servicio es un contrato? "}),(0,Gp.jsxs)("div",{className:"fila",children:[(0,Gp.jsxs)("select",{className:"dropdown",value:N,onChange:t=>A(t.target.value),children:[(0,Gp.jsx)("option",{value:"",children:"Seleccione una opci\xf3n"}),og.map(((t,e)=>(0,Gp.jsx)("option",{value:t.value,children:t.label},e)))]}),"S\xed"===N&&(0,Gp.jsx)("input",{type:"number",min:"0",value:P,placeholder:"Cantidad en d\xedas",onChange:t=>R(t.target.value)})]})]}):(0,Gp.jsxs)("div",{className:"input-contenedor",children:[(0,Gp.jsxs)("p",{children:["Cedula cliente: ",i.Cliente]}),(0,Gp.jsxs)("p",{children:["Tipo de servicio: ",i.TipoServicio]}),(0,Gp.jsxs)("p",{children:["Hect\xe1reas: ",i.Hectareas]}),(0,Gp.jsxs)("div",{className:"fila",children:[(0,Gp.jsxs)("p",{children:["Costo: ",i.Costo+" "+i.TipoCosto]}),(0,Gp.jsxs)("p",{children:["Cultivo: ",i.Cultivo]})]}),(0,Gp.jsxs)("p",{children:["Descripci\xf3n: ",i.Descripcion]}),(0,Gp.jsxs)("div",{className:"fila",children:[(0,Gp.jsxs)("p",{children:["Dron utilizado: ",i.Dron]}),(0,Gp.jsxs)("p",{children:["Piloto del drone: ",i.Piloto]})]}),(0,Gp.jsxs)("div",{className:"fila",children:[(0,Gp.jsxs)("p",{children:["Fecha inicio: ",z(i.FechaInicio)]}),(0,Gp.jsxs)("p",{children:["Fecha fin: ",z(i.FechaFin)]}),(0,Gp.jsxs)("p",{children:["Estado: ",i.Estado]})]}),(0,Gp.jsxs)("div",{className:"fila",children:[(0,Gp.jsxs)("p",{children:["Contrato: ",i.Contrato]}),"S\xed"===i.Contrato&&(0,Gp.jsxs)("p",{children:["Cantidad de tiempo del contrato: ",i.CantidadContrato+" "," d\xedas"]})]}),(0,Gp.jsxs)("p",{children:["Periodicidad por semana: ",i.Periodicidad]})]}),(0,Gp.jsx)("div",{className:"contenedor-botones",children:"/tecnico/modificar/servicios-detalle"===t.pathname?(0,Gp.jsxs)("div",{children:[(0,Gp.jsx)("button",{className:"btn_principal",style:{marginBottom:"-3px",marginTop:"-10px"},onClick:async()=>{if(!s||!a||!c||!f||!g||!v||!E||!w||!T||!M||!O||!h||!b)return void alert("Por favor, completa todos los campos.");if("S\xed"===N&&!P)return void alert("Por favor, completa la cantidad de d\xedas del contrato.");if(new Date(T)>=new Date(M))return void alert("La fecha de fin debe ser mayor que la fecha de inicio.");if("Finalizado"===E&&new Date(M)>new Date)return void alert("La fecha de fin no puede ser mayor a la fecha actual si el estado es finalizado.");const t=Hf(Kp,"Servicios",i.id),e={TipoServicio:s||i.TipoServicio,Hectareas:a||i.Hectareas,Costo:c||i.Costo,TipoCosto:h||i.TipoCosto,Cultivo:f||i.Cultivo,Descripcion:g||i.Descripcion,Dron:v||i.Dron,Piloto:b||i.Piloto,Cliente:w||i.Cliente,Estado:E||i.Estado,FechaInicio:T||i.FechaInicio,FechaFin:M||i.FechaFin,Contrato:N||i.Contrato,CantidadContrato:P||i.CantidadContrato,Periodicidad:O||i.Periodicidad};await Bp(t,e),alert("Servicio modificado con \xe9xito"),F()},children:"Modificar"}),(0,Gp.jsx)("button",{className:"btn_principal",style:{marginBottom:"-2px",marginTop:"10px"},onClick:async()=>{try{if(window.confirm("\xbfEst\xe1s seguro que deseas eliminar este servicio?")){const t=Hf(Kp,"Servicios",i.id);await Up(t),alert("Servicio eliminado con \xe9xito"),F()}}catch(t){console.error("Error al eliminar el servicio:",t),alert("Error al eliminar el servicio. Por favor, int\xe9ntalo de nuevo m\xe1s tarde.")}},children:"Eliminar"}),(0,Gp.jsx)("button",{className:"btn_secundario",onClick:j,children:"Atr\xe1s"})]}):(0,Gp.jsxs)("div",{children:[(0,Gp.jsx)("button",{className:"btn_principal",onClick:j,children:"Atr\xe1s"}),(0,Gp.jsx)("button",{className:"btn_secundario",onClick:F,children:"Volver a la P\xe1gina Principal"})]})})]})})}),(0,Gp.jsx)("div",{className:"logo-container",children:(0,Gp.jsx)("img",{src:Qp,alt:"Logo"})})]})};const dg=function(){const t=X().state.Rol,n=Z(),[i,r]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)([]),[c,u]=(0,e.useState)([]);(0,e.useEffect)((()=>{h(),d()}),[]);const h=async()=>{const t=Uf(Kp,"Clientes"),e=(await zp(t)).docs.map((t=>({id:t.id,...t.data()})));l(e)},d=async()=>{const t=Uf(Kp,"Servicios"),e=(await zp(t)).docs.map((t=>({id:t.id,...t.data()})));u(e)};return(0,Gp.jsxs)("div",{className:"fondo-secundario",children:[(0,Gp.jsx)("div",{className:"contenedor",children:(0,Gp.jsx)("div",{className:"contenedor-secundario",children:(0,Gp.jsxs)("div",{className:"columna",children:[(0,Gp.jsx)("h1",{children:"Generar reporte"}),(0,Gp.jsx)("br",{}),(0,Gp.jsx)("body",{children:"Ingrese los datos del reporte"}),(0,Gp.jsx)("br",{}),(0,Gp.jsxs)("div",{className:"input-contenedor",children:[(0,Gp.jsx)("input",{type:"text",value:i,placeholder:"Ingrese el nombre del reporte",onChange:t=>r(t.target.value)}),(0,Gp.jsx)("br",{}),(0,Gp.jsx)("textarea",{value:s,placeholder:"Ingrese la descripci\xf3n del reporte",onChange:t=>o(t.target.value)}),(0,Gp.jsx)("br",{})]}),(0,Gp.jsxs)("div",{className:"contenedor-botones",children:[(0,Gp.jsx)("button",{className:"btn_principal",onClick:async()=>{if(!i)return void alert("Por favor, asigne por lo menos el nombre del reporte");let t=await(async()=>{let t=new Map;for(let n of c){let e=t.get(n.Cliente)||0;t.set(n.Cliente,e+1)}let e=Array.from(t);return e.sort(((t,e)=>e[1]-t[1])),e.slice(0,3).map((t=>{let[e,n]=t,i=a.find((t=>t.Cedula===e));return i?{nombre:i.Nombre+" "+i.Apellidos,cedula:i.Cedula,conteo:n}:(console.error("No se encontr\xf3 ning\xfan cliente con la c\xe9dula ".concat(e)),null)})).filter((t=>null!==t))})(),e=await(async()=>{let t=new Map;for(let n of c){let e=t.get(n.Dron)||0;t.set(n.Dron,e+1)}let e=Array.from(t);return e.sort(((t,e)=>e[1]-t[1])),e.slice(0,3).map((t=>{let[e,n]=t;return c.find((t=>t.Dron===e))?{matricula:e,conteo:n}:(console.error("No se encontr\xf3 ning\xfan servicio con el drone matricula ".concat(e)),null)})).filter((t=>null!==t))})(),n=await(async()=>{let t=0,e=0;for(let n of c)"Finalizado"===n.Estado&&(t+=parseInt(n.Hectareas,10),e++);return 0===e?0:{total:t,promedio:t/e}})(),r=await(async()=>{let t=0,e=0,n=0;for(let i of c)"Finalizado"===i.Estado&&("D\xf3lares"===i.TipoCosto?t+=parseInt(i.Costo,10):"Colones"===i.TipoCosto&&(e+=parseInt(i.Costo,10)),n++);if(0===n)throw new Error("No hay servicios finalizados");return{promedioDolares:t/n,promedioColones:e/n}})(),o=(()=>{let t=0,e=0,n=0,i={};for(let s of c){switch(s.Estado){case"Sin iniciar":t++;break;case"En proceso":e++;break;case"Finalizado":n++;break;default:console.warn("Estado de servicio desconocido: ".concat(s.Estado))}"Finalizado"===s.Estado&&(i[s.TipoServicio]||(i[s.TipoServicio]=0),i[s.TipoServicio]++)}let r=Object.keys(i).reduce(((t,e)=>i[t]>i[e]?t:e));return{sinIniciar:t,enProceso:e,finalizados:n,tipoMasFrecuente:r}})();const l={NombreReporte:i,Descripcion:s,Fecha:cg(new Date),Top3Clientes:t,Top3Drones:e,HectareasFumigadas:n,Costos:r,Servicios:o};await Hp(Uf(Kp,"Reportes"),l),alert("Reporte generado con \xe9xito")},children:"Generar Reporte"}),(0,Gp.jsx)("button",{className:"btn_secundario",onClick:()=>{n("/".concat(t,"/pagina-principal"),{state:{Rol:t}})},children:"Volver a la P\xe1gina Principal"})]})]})})}),(0,Gp.jsx)("div",{className:"logo-container",children:(0,Gp.jsx)("img",{src:Qp,alt:"Logo"})})]})};function fg(t){return fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(t)}function pg(t){var e=function(t,e){if("object"!=fg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=fg(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fg(e)?e:e+""}function gg(t,e,n){return(e=pg(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mg(t){return t+.5|0}const vg=(t,e,n)=>Math.max(Math.min(t,n),e);function yg(t){return vg(mg(2.55*t),0,255)}function bg(t){return vg(mg(255*t),0,255)}function xg(t){return vg(mg(t/2.55)/100,0,1)}function wg(t){return vg(mg(100*t),0,100)}const _g={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Sg=[..."0123456789ABCDEF"],kg=t=>Sg[15&t],Eg=t=>Sg[(240&t)>>4]+Sg[15&t],Cg=t=>(240&t)>>4===(15&t);function Tg(t){var e=(t=>Cg(t.r)&&Cg(t.g)&&Cg(t.b)&&Cg(t.a))(t)?kg:Eg;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const Dg=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Mg(t,e,n){const i=e*Math.min(n,1-n),r=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+t/30)%12;return n-i*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function Ig(t,e,n){const i=function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(i+t/60)%6;return n-n*e*Math.max(Math.min(r,4-r,1),0)};return[i(5),i(3),i(1)]}function Ng(t,e,n){const i=Mg(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function Ag(t){const e=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(e,n,i),s=Math.min(e,n,i),o=(r+s)/2;let a,l,c;return r!==s&&(c=r-s,l=o>.5?c/(2-r-s):c/(r+s),a=function(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}(e,n,i,c,r),a=60*a+.5),[0|a,l||0,o]}function Pg(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(bg)}function Rg(t,e,n){return Pg(Mg,t,e,n)}function Og(t){return(t%360+360)%360}function Lg(t){const e=Dg.exec(t);let n,i=255;if(!e)return;e[5]!==n&&(i=e[6]?yg(+e[5]):bg(+e[5]));const r=Og(+e[2]),s=+e[3]/100,o=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return Pg(Ng,t,e,n)}(r,s,o):"hsv"===e[1]?function(t,e,n){return Pg(Ig,t,e,n)}(r,s,o):Rg(r,s,o),{r:n[0],g:n[1],b:n[2],a:i}}const jg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Fg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Vg;function zg(t){Vg||(Vg=function(){const t={},e=Object.keys(Fg),n=Object.keys(jg);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,jg[s]);s=parseInt(Fg[o],16),t[a]=[s>>16&255,s>>8&255,255&s]}return t}(),Vg.transparent=[0,0,0,0]);const e=Vg[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const Bg=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Ug=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,Hg=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Wg(t,e,n){if(t){let i=Ag(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,0===e?360:1)),i=Rg(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function qg(t,e){return t?Object.assign(e||{},t):t}function Kg(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=bg(t[3]))):(e=qg(t,{r:0,g:0,b:0,a:1})).a=bg(e.a),e}function Qg(t){return"r"===t.charAt(0)?function(t){const e=Bg.exec(t);let n,i,r,s=255;if(e){if(e[7]!==n){const t=+e[7];s=e[8]?yg(t):vg(255*t,0,255)}return n=+e[1],i=+e[3],r=+e[5],n=255&(e[2]?yg(n):vg(n,0,255)),i=255&(e[4]?yg(i):vg(i,0,255)),r=255&(e[6]?yg(r):vg(r,0,255)),{r:n,g:i,b:r,a:s}}}(t):Lg(t)}class Gg{constructor(t){if(t instanceof Gg)return t;const e=typeof t;let n;"object"===e?n=Kg(t):"string"===e&&(n=function(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*_g[t[1]],g:255&17*_g[t[2]],b:255&17*_g[t[3]],a:5===n?17*_g[t[4]]:255}:7!==n&&9!==n||(e={r:_g[t[1]]<<4|_g[t[2]],g:_g[t[3]]<<4|_g[t[4]],b:_g[t[5]]<<4|_g[t[6]],a:9===n?_g[t[7]]<<4|_g[t[8]]:255})),e}(t)||zg(t)||Qg(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=qg(this._rgb);return t&&(t.a=xg(t.a)),t}set rgb(t){this._rgb=Kg(t)}rgbString(){return this._valid?function(t){return t&&(t.a<255?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(xg(t.a),")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")"))}(this._rgb):void 0}hexString(){return this._valid?Tg(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=Ag(t),n=e[0],i=wg(e[1]),r=wg(e[2]);return t.a<255?"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(xg(t.a),")"):"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)")}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,i=t.rgb;let r;const s=e===r?.5:e,o=2*s-1,a=n.a-i.a,l=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;r=1-l,n.r=255&l*n.r+r*i.r+.5,n.g=255&l*n.g+r*i.g+.5,n.b=255&l*n.b+r*i.b+.5,n.a=s*n.a+(1-s)*i.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,n){const i=Hg(xg(t.r)),r=Hg(xg(t.g)),s=Hg(xg(t.b));return{r:bg(Ug(i+n*(Hg(xg(e.r))-i))),g:bg(Ug(r+n*(Hg(xg(e.g))-r))),b:bg(Ug(s+n*(Hg(xg(e.b))-s))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new Gg(this.rgb)}alpha(t){return this._rgb.a=bg(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=mg(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Wg(this._rgb,2,t),this}darken(t){return Wg(this._rgb,2,-t),this}saturate(t){return Wg(this._rgb,1,t),this}desaturate(t){return Wg(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=Ag(t);n[0]=Og(n[0]+e),n=Rg(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function Yg(){}const $g=(()=>{let t=0;return()=>t++})();function Xg(t){return null===t||"undefined"===typeof t}function Jg(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Zg(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function tm(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)}function em(t,e){return tm(t)?t:e}function nm(t,e){return"undefined"===typeof t?e:t}const im=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function rm(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function sm(t,e,n,i){let r,s,o;if(Jg(t))if(s=t.length,i)for(r=s-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<s;r++)e.call(n,t[r],r);else if(Zg(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function om(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function am(t){if(Jg(t))return t.map(am);if(Zg(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=am(t[n[r]]);return e}return t}function lm(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function cm(t,e,n,i){if(!lm(t))return;const r=e[t],s=n[t];Zg(r)&&Zg(s)?um(r,s,i):e[t]=am(s)}function um(t,e,n){const i=Jg(e)?e:[e],r=i.length;if(!Zg(t))return t;const s=(n=n||{}).merger||cm;let o;for(let a=0;a<r;++a){if(o=i[a],!Zg(o))continue;const e=Object.keys(o);for(let i=0,r=e.length;i<r;++i)s(e[i],t,o,n)}return t}function hm(t,e){return um(t,e,{merger:dm})}function dm(t,e,n){if(!lm(t))return;const i=e[t],r=n[t];Zg(i)&&Zg(r)?hm(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=am(r))}const fm={"":t=>t,x:t=>t.x,y:t=>t.y};function pm(t,e){const n=fm[e]||(fm[e]=function(t){const e=function(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}(e));return n(t)}function gm(t){return t.charAt(0).toUpperCase()+t.slice(1)}const mm=t=>"undefined"!==typeof t,vm=t=>"function"===typeof t,ym=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};const bm=Math.PI,xm=2*bm,wm=xm+bm,_m=Number.POSITIVE_INFINITY,Sm=bm/180,km=bm/2,Em=bm/4,Cm=2*bm/3,Tm=Math.log10,Dm=Math.sign;function Mm(t,e,n){return Math.abs(t-e)<n}function Im(t){const e=Math.round(t);t=Mm(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Tm(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Nm(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Am(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Pm(t){return t*(bm/180)}function Rm(t){return t*(180/bm)}function Om(t){if(!tm(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Lm(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*bm&&(s+=xm),{angle:s,distance:r}}function jm(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Fm(t,e){return(t-e+wm)%xm-bm}function Vm(t){return(t%xm+xm)%xm}function zm(t,e,n,i){const r=Vm(t),s=Vm(e),o=Vm(n),a=Vm(s-r),l=Vm(o-r),c=Vm(r-s),u=Vm(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function Bm(t,e,n){return Math.max(e,Math.min(n,t))}function Um(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Hm(t,e,n){n=n||(n=>t[n]<e);let i,r=t.length-1,s=0;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const Wm=(t,e,n,i)=>Hm(t,n,i?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),qm=(t,e,n)=>Hm(t,n,(i=>t[i][e]>=n));const Km=["push","pop","shift","splice","unshift"];function Qm(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),i.length>0||(Km.forEach((e=>{delete t[e]})),delete t._chartjs)}function Gm(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Ym="undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame;function $m(t,e){let n=[],i=!1;return function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];n=s,i||(i=!0,Ym.call(window,(()=>{i=!1,t.apply(e,n)})))}}const Xm=t=>"start"===t?"left":"end"===t?"right":"center",Jm=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;function Zm(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(r=Bm(Math.min(Wm(a,l,c).lo,n?i:Wm(e,l,o.getPixelForValue(c)).lo),0,i-1)),s=d?Bm(Math.max(Wm(a,o.axis,u,!0).hi+1,n?0:Wm(e,l,o.getPixelForValue(u),!0).hi+1),r,i)-r:i-r}return{start:r,count:s}}function tv(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const ev=t=>0===t||1===t,nv=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*xm/n),iv=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*xm/n)+1,rv={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*km),easeOutSine:t=>Math.sin(t*km),easeInOutSine:t=>-.5*(Math.cos(bm*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>ev(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ev(t)?t:nv(t,.075,.3),easeOutElastic:t=>ev(t)?t:iv(t,.075,.3),easeInOutElastic(t){const e=.1125;return ev(t)?t:t<.5?.5*nv(2*t,e,.45):.5+.5*iv(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-rv.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*rv.easeInBounce(2*t):.5*rv.easeOutBounce(2*t-1)+.5};function sv(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function ov(t){return sv(t)?t:new Gg(t)}function av(t){return sv(t)?t:new Gg(t).saturate(.5).darken(.1).hexString()}const lv=["x","y","borderWidth","radius","tension"],cv=["color","borderColor","backgroundColor"];const uv=new Map;function hv(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let i=uv.get(n);return i||(i=new Intl.NumberFormat(t,e),uv.set(n,i)),i}(e,n).format(t)}const dv={values:t=>Jg(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(r="scientific"),s=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}const o=Tm(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),hv(t,i,l)},logarithmic(t,e,n){if(0===t)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Tm(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?dv.numeric.call(this,t,e,n):""}};var fv={formatters:dv};const pv=Object.create(null),gv=Object.create(null);function mv(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const e=n[i];t=t[e]||(t[e]=Object.create(null))}return t}function vv(t,e,n){return"string"===typeof e?um(mv(t,e),n):um(mv(t,""),e)}class yv{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>av(e.backgroundColor),this.hoverBorderColor=(t,e)=>av(e.borderColor),this.hoverColor=(t,e)=>av(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return vv(this,t,e)}get(t){return mv(this,t)}describe(t,e){return vv(gv,t,e)}override(t,e){return vv(pv,t,e)}route(t,e,n,i){const r=mv(this,t),s=mv(this,n),o="_"+e;Object.defineProperties(r,{[o]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[o],e=s[i];return Zg(t)?Object.assign({},e,t):nm(t,e)},set(t){this[o]=t}}})}apply(t){t.forEach((t=>t(this)))}}var bv=new yv({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:cv},numbers:{type:"number",properties:lv}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:fv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function xv(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function wv(t,e,n,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],void 0===h||null===h||Jg(h)){if(Jg(h))for(c=0,u=h.length;c<u;c++)d=h[c],void 0===d||null===d||Jg(d)||(o=xv(t,r,s,o,d))}else o=xv(t,r,s,o,h);t.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete r[s[l]];s.splice(0,f)}return o}function _v(t,e,n){const i=t.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function Sv(t,e){(e||t)&&((e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function kv(t,e,n,i){Ev(t,e,n,i,null)}function Ev(t,e,n,i,r){let s,o,a,l,c,u,h,d;const f=e.pointStyle,p=e.rotation,g=e.radius;let m=(p||0)*Sm;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return t.save(),t.translate(n,i),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,i,r/2,g,0,0,xm):t.arc(n,i,g,0,xm),t.closePath();break;case"triangle":u=r?r/2:g,t.moveTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=Cm,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=Cm,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),t.closePath();break;case"rectRounded":c=.516*g,l=g-c,o=Math.cos(m+Em)*l,h=Math.cos(m+Em)*(r?r/2-c:l),a=Math.sin(m+Em)*l,d=Math.sin(m+Em)*(r?r/2-c:l),t.arc(n-h,i-a,c,m-bm,m-km),t.arc(n+d,i-o,c,m-km,m),t.arc(n+h,i+a,c,m,m+km),t.arc(n-d,i+o,c,m+km,m+bm),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}m+=Em;case"rectRot":h=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+d,i-o),t.lineTo(n+h,i+a),t.lineTo(n-d,i+o),t.closePath();break;case"crossRot":m+=Em;case"cross":h=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"star":h=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o),m+=Em,h=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"line":o=r?r/2:Math.cos(m)*g,a=Math.sin(m)*g,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(m)*(r?r/2:g),i+Math.sin(m)*g);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function Cv(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Tv(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Dv(t){t.restore()}function Mv(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if("middle"===r){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else"after"===r!==!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Iv(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Nv(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function Av(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Pv(t,e,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=Jg(e)?e:[e],a=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(t.save(),t.font=r.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Xg(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&Av(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Xg(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),Nv(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function Rv(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*bm,bm,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,bm,km,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,km,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-km,!0),t.lineTo(n+o.topLeft,i)}const Ov=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Lv=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function jv(t,e){const n=(""+t).match(Ov);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}const Fv=t=>+t||0;function Vv(t,e){const n={},i=Zg(e),r=i?Object.keys(e):e,s=Zg(t)?i?n=>nm(t[n],t[e[n]]):e=>t[e]:()=>t;for(const o of r)n[o]=Fv(s(o));return n}function zv(t){return Vv(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Bv(t){return Vv(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Uv(t){const e=zv(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Hv(t,e){t=t||{},e=e||bv.font;let n=nm(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let i=nm(t.style,e.style);i&&!(""+i).match(Lv)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:nm(t.family,e.family),lineHeight:jv(nm(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:nm(t.weight,e.weight),string:""};return r.string=function(t){return!t||Xg(t.size)||Xg(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(r),r}function Wv(t,e,n,i){let r,s,o,a=!0;for(r=0,s=t.length;r<s;++r)if(o=t[r],void 0!==o&&(void 0!==e&&"function"===typeof o&&(o=o(e),a=!1),void 0!==n&&Jg(o)&&(o=o[n%o.length],a=!1),void 0!==o))return i&&!a&&(i.cacheable=!1),o}function qv(t,e){return Object.assign(Object.create(t),e)}function Kv(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>t[0];const r=(arguments.length>2?arguments[2]:void 0)||t;"undefined"===typeof n&&(n=iy("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:n,_getTarget:i,override:i=>Kv([i,...t],e,r,n)};return new Proxy(s,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,i)=>Xv(n,i,(()=>function(t,e,n,i){let r;for(const s of e)if(r=iy(Yv(s,t),n),"undefined"!==typeof r)return $v(t,r)?ey(n,i,t,r):r}(i,e,t,n))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>ry(t).includes(e),ownKeys:t=>ry(t),set(t,e,n){const r=t._storage||(t._storage=i());return t[e]=r[e]=n,delete t._keys,!0}})}function Qv(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Gv(t,i),setContext:e=>Qv(t,e,n,i),override:r=>Qv(t.override(r),e,n,i)};return new Proxy(r,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>Xv(t,e,(()=>function(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];vm(a)&&o.isScriptable(e)&&(a=function(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);a.delete(t),$v(t,l)&&(l=ey(r._scopes,r,t,l));return l}(e,a,t,n));Jg(a)&&a.length&&(a=function(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if("undefined"!==typeof s.index&&i(t))return e[s.index%e.length];if(Zg(e[0])){const n=e,i=r._scopes.filter((t=>t!==n));e=[];for(const l of n){const n=ey(i,r,t,l);e.push(Qv(n,s,o&&o[t],a))}}return e}(e,a,t,o.isIndexable));$v(e,a)&&(a=Qv(a,r,s&&s[e],o));return a}(t,e,n))),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,i)=>(t[n]=i,delete e[n],!0)})}function Gv(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:vm(n)?n:()=>n,isIndexable:vm(i)?i:()=>i}}const Yv=(t,e)=>t?t+gm(e):e,$v=(t,e)=>Zg(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Xv(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e)return t[e];const i=n();return t[e]=i,i}function Jv(t,e,n){return vm(t)?t(e,n):t}const Zv=(t,e)=>!0===t?e:"string"===typeof t?pm(e,t):void 0;function ty(t,e,n,i,r){for(const s of e){const e=Zv(n,s);if(e){t.add(e);const s=Jv(e._fallback,n,r);if("undefined"!==typeof s&&s!==n&&s!==i)return s}else if(!1===e&&"undefined"!==typeof i&&n!==i)return null}return!1}function ey(t,e,n,i){const r=e._rootScopes,s=Jv(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=ny(a,o,n,s||n,i);return null!==l&&(("undefined"===typeof s||s===n||(l=ny(a,o,s,l,i),null!==l))&&Kv(Array.from(a),[""],r,s,(()=>function(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];if(Jg(r)&&Zg(n))return n;return r||{}}(e,n,i))))}function ny(t,e,n,i,r){for(;n;)n=ty(t,e,n,i,r);return n}function iy(t,e){for(const n of e){if(!n)continue;const e=n[t];if("undefined"!==typeof e)return e}}function ry(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function sy(t,e,n,i){const{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={r:r.parse(pm(u,s),c)};return o}const oy=Number.EPSILON||1e-14,ay=(t,e)=>e<t.length&&!t[e].skip&&t[e],ly=t=>"x"===t?"y":"x";function cy(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=jm(s,r),l=jm(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+d*(o.x-r.x),y:s.y+d*(o.y-r.y)}}}function uy(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=ly(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=ay(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=ay(t,o+1),l){if(c){const t=c[e]-l[e];r[o]=0!==t?(c[n]-l[n])/t:0}s[o]=a?c?Dm(r[o-1])!==Dm(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}!function(t,e,n){const i=t.length;let r,s,o,a,l,c=ay(t,0);for(let u=0;u<i-1;++u)l=c,c=ay(t,u+1),l&&c&&(Mm(e[u],0,oy)?n[u]=n[u+1]=0:(r=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(s,2),a<=9||(o=3/Math.sqrt(a),n[u]=r*o*e[u],n[u+1]=s*o*e[u])))}(t,r,s),function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const i=ly(n),r=t.length;let s,o,a,l=ay(t,0);for(let c=0;c<r;++c){if(o=a,a=l,l=ay(t,c+1),!a)continue;const r=a[n],u=a[i];o&&(s=(r-o[n])/3,a["cp1".concat(n)]=r-s,a["cp1".concat(i)]=u-s*e[c]),l&&(s=(l[n]-r)/3,a["cp2".concat(n)]=r+s,a["cp2".concat(i)]=u+s*e[c])}}(t,s,e)}function hy(t,e,n){return Math.max(Math.min(t,n),e)}function dy(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)uy(t,r);else{let n=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=cy(n,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}e.capBezierPoints&&function(t,e){let n,i,r,s,o,a=Cv(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&Cv(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=hy(r.cp1x,e.left,e.right),r.cp1y=hy(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=hy(r.cp2x,e.left,e.right),r.cp2y=hy(r.cp2y,e.top,e.bottom)))}(t,n)}function fy(){return"undefined"!==typeof window&&"undefined"!==typeof document}function py(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function gy(t,e,n){let i;return"string"===typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}const my=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);const vy=["top","right","bottom","left"];function yy(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=vy[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const by=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function xy(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=my(n),s="border-box"===r.boxSizing,o=yy(r,"padding"),a=yy(r,"border","width"),{x:l,y:c,box:u}=function(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o,a,l=!1;if(by(r,s,t.target))o=r,a=s;else{const t=e.getBoundingClientRect();o=i.clientX-t.left,a=i.clientY-t.top,l=!0}return{x:o,y:a,box:l}}(t,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/p*n.height/i)}}const wy=t=>Math.round(10*t)/10;function _y(t,e,n,i){const r=my(t),s=yy(r,"margin"),o=gy(r.maxWidth,t,"clientWidth")||_m,a=gy(r.maxHeight,t,"clientHeight")||_m,l=function(t,e,n){let i,r;if(void 0===e||void 0===n){const s=t&&py(t);if(s){const t=s.getBoundingClientRect(),o=my(s),a=yy(o,"border","width"),l=yy(o,"padding");e=t.width-l.width-a.width,n=t.height-l.height-a.height,i=gy(o.maxWidth,s,"clientWidth"),r=gy(o.maxHeight,s,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:i||_m,maxHeight:r||_m}}(t,e,n);let{width:c,height:u}=l;if("content-box"===r.boxSizing){const t=yy(r,"border","width"),e=yy(r,"padding");c-=e.width+t.width,u-=e.height+t.height}c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=wy(Math.min(c,o,l.maxWidth)),u=wy(Math.min(u,a,l.maxHeight)),c&&!u&&(u=wy(c/2));return(void 0!==e||void 0!==n)&&i&&l.height&&u>l.height&&(u=l.height,c=wy(Math.floor(u*i))),{width:c,height:u}}function Sy(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(t.height,"px"),o.style.width="".concat(t.width,"px")),(t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s)&&(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0)}const ky=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};fy()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(tS){}return t}();function Ey(t,e){const n=function(t,e){return my(t).getPropertyValue(e)}(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Cy(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Ty(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:"middle"===i?n<.5?t.y:e.y:"after"===i?n<1?t.y:e.y:n>0?e.y:t.y}}function Dy(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Cy(t,r,n),a=Cy(r,s,n),l=Cy(s,e,n),c=Cy(o,a,n),u=Cy(a,l,n);return Cy(c,u,n)}function My(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function Iy(t,e){let n,i;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Ny(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Ay(t){return"angle"===t?{between:zm,compare:Fm,normalize:Vm}:{between:Um,compare:(t,e)=>t-e,normalize:t=>t}}function Py(t){let{start:e,end:n,count:i,loop:r,style:s}=t;return{start:e%i,end:n%i,loop:r&&(n-e+1)%i===0,style:s}}function Ry(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=Ay(i),{start:u,end:h,loop:d,style:f}=function(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=Ay(i),l=e.length;let c,u,{start:h,end:d,loop:f}=t;if(f){for(h+=l,d+=l,c=0,u=l;c<u&&o(a(e[h%l][i]),r,s);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:f,style:t.style}}(t,e,n),p=[];let g,m,v,y=!1,b=null;const x=()=>y||l(r,v,g)&&0!==a(r,v),w=()=>!y||0===a(s,g)||l(s,v,g);for(let _=u,S=u;_<=h;++_)m=e[_%o],m.skip||(g=c(m[i]),g!==v&&(y=l(g,r,s),null===b&&x()&&(b=0===a(g,r)?_:S),null!==b&&w()&&(p.push(Py({start:b,end:_,loop:d,count:o,style:f})),b=null),S=_,v=g));return null!==b&&p.push(Py({start:b,end:h,loop:d,count:o,style:f})),p}function Oy(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=Ry(i[r],t.points,e);s.length&&n.push(...s)}return n}function Ly(t,e,n,i){return i&&i.setContext&&n?function(t,e,n,i){const r=t._chart.getContext(),s=jy(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,h=e[0].start,d=h;function f(t,e,i,r){const s=a?-1:1;if(t!==e){for(t+=l;n[t%l].skip;)t-=s;for(;n[e%l].skip;)e+=s;t%l!==e%l&&(c.push({start:t%l,end:e%l,loop:i,style:r}),u=r,h=e%l)}}for(const p of e){h=a?h:p.start;let t,e=n[h%l];for(d=h+1;d<=p.end;d++){const s=n[d%l];t=jy(i.setContext(qv(r,{type:"segment",p0:e,p1:s,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),Fy(t,u)&&f(h,d-1,p.loop,u),e=s,u=t}h<d-1&&f(h,d-1,p.loop,u)}return c}(t,e,n,i):e}function jy(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Fy(t,e){if(!e)return!1;const n=[],i=function(t,e){return sv(e)?(n.includes(e)||n.push(e),n.indexOf(e)):e};return JSON.stringify(t,i)!==JSON.stringify(e,i)}class Vy{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,i){const r=e.listeners[i],s=e.duration;r.forEach((i=>i({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(n-e.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=Ym.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=0;this._charts.forEach(((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let s,o=r.length-1,a=!1;for(;o>=0;--o)s=r[o],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),r.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),e+=r.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var zy=new Vy;const By="transparent",Uy={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const i=ov(t||By),r=i.valid&&ov(e||By);return r&&r.valid?r.mix(i,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class Hy{constructor(t,e,n,i){const r=e[n];i=Wv([t.to,i,r,t.from]);const s=Wv([t.from,r,i]);this._active=!0,this._fn=t.fn||Uy[t.type||typeof s],this._easing=rv[t.easing]||rv.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,s=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Wv([t.to,e,i,t.from]),this._from=Wv([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,i=this._prop,r=this._from,s=this._loop,o=this._to;let a;if(this._active=r!==o&&(s||e<n),!this._active)return this._target[i]=o,void this._notify(!0);e<0?this._target[i]=r:(a=e/n%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[i]=this._fn(r,o,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][e]()}}class Wy{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Zg(t))return;const e=Object.keys(bv.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach((i=>{const r=t[i];if(!Zg(r))return;const s={};for(const t of e)s[t]=r[t];(Jg(r.properties)&&r.properties||[i]).forEach((t=>{t!==i&&n.has(t)||n.set(t,s)}))}))}_animateOptions(t,e){const n=e.options,i=function(t,e){if(!e)return;let n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&function(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const e=t[i[r]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),r}_createAnimations(t,e){const n=this._properties,i=[],r=t.$animations||(t.$animations={}),s=Object.keys(e),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const l=s[a];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(t,e));continue}const c=e[l];let u=r[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,o);continue}u.cancel()}h&&h.duration?(r[l]=u=new Hy(h,t,l,c),i.push(u)):t[l]=c}return i}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(zy.add(this._chart,n),!0):void 0}}function qy(t,e){const n=t&&t.options||{},i=n.reverse,r=void 0===n.min?e:0,s=void 0===n.max?e:0;return{start:i?s:r,end:i?r:s}}function Ky(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function Qy(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=t.keys,s="single"===i.mode;let o,a,l,c;if(null!==e){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}c=t.values[l],tm(c)&&(s||0===e||Dm(e)===Dm(c))&&(e+=c)}return e}}function Gy(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function Yy(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function $y(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const e=t[r.index];if(n&&e>0||!n&&e<0)return r.index}return null}function Xy(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=function(t,e,n){return"".concat(t.id,".").concat(e.id,".").concat(n.stack||n.type)}(s,o,i),h=e.length;let d;for(let f=0;f<h;++f){const t=e[f],{[l]:n,[c]:s}=t;d=(t._stacks||(t._stacks={}))[c]=Yy(r,u,n),d[a]=s,d._top=$y(d,o,!0,i.type),d._bottom=$y(d,o,!1,i.type);(d._visualValues||(d._visualValues={}))[a]=s}}function Jy(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function Zy(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[i]||void 0===e[i][n])return;delete e[i][n],void 0!==e[i]._visualValues&&void 0!==e[i]._visualValues[n]&&delete e[i]._visualValues[n]}}}const tb=t=>"reset"===t||"none"===t,eb=(t,e)=>e?t:Object.assign({},t);class nb{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Gy(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Zy(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),i=(t,e,n,i)=>"x"===t?e:"r"===t?i:n,r=e.xAxisID=nm(n.xAxisID,Jy(t,"x")),s=e.yAxisID=nm(n.yAxisID,Jy(t,"y")),o=e.rAxisID=nm(n.rAxisID,Jy(t,"r")),a=e.indexAxis,l=e.iAxisID=i(a,r,s,o),c=e.vAxisID=i(a,s,r,o);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Qm(this._data,this),t._stacked&&Zy(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(Zg(e)){const t=this._cachedMeta;this._data=function(t,e){const{iScale:n,vScale:i}=e,r="x"===n.axis?"x":"y",s="x"===i.axis?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[r]:u,[s]:t[u]};return a}(e,t)}else if(n!==e){if(n){Qm(n,this);const t=this._cachedMeta;Zy(t),t._parsed=[]}e&&Object.isExtensible(e)&&(r=this,(i=e)._chartjs?i._chartjs.listeners.push(r):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),Km.forEach((t=>{const e="_onData"+gm(t),n=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];const o=n.apply(this,r);return i._chartjs.listeners.forEach((t=>{"function"===typeof t[e]&&t[e](...r)})),o}})})))),this._syncList=[],this._data=e}var i,r}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=e._stacked;e._stacked=Gy(e.vScale,e),e.stack!==n.stack&&(i=!0,Zy(e),e.stack=n.stack),this._resyncElements(t),(i||r!==e._stacked)&&Xy(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:s}=n,o=r.axis;let a,l,c,u=0===t&&e===i.length||n._sorted,h=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,c=i;else{c=Jg(i[t])?this.parseArrayData(n,i,t,e):Zg(i[t])?this.parseObjectData(n,i,t,e):this.parsePrimitiveData(n,i,t,e);const r=()=>null===l[o]||h&&l[o]<h[o];for(a=0;a<e;++a)n._parsed[a+t]=l=c[a],u&&(r()&&(u=!1),h=l);n._sorted=u}s&&Xy(this,c)}parsePrimitiveData(t,e,n,i){const{iScale:r,vScale:s}=t,o=r.axis,a=s.axis,l=r.getLabels(),c=r===s,u=new Array(i);let h,d,f;for(h=0,d=i;h<d;++h)f=h+n,u[h]={[o]:c||r.parse(l[f],f),[a]:s.parse(e[f],f)};return u}parseArrayData(t,e,n,i){const{xScale:r,yScale:s}=t,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={x:r.parse(u[0],c),y:s.parse(u[1],c)};return o}parseObjectData(t,e,n,i){const{xScale:r,yScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(i);let c,u,h,d;for(c=0,u=i;c<u;++c)h=c+n,d=e[h],l[c]={x:r.parse(pm(d,o),h),y:s.parse(pm(d,a),h)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const i=this.chart,r=this._cachedMeta,s=e[t.axis];return Qy({keys:Ky(i,!0),values:e._stacks[t.axis]._visualValues},s,r.index,{mode:n})}updateRangeFromParsed(t,e,n,i){const r=n[e.axis];let s=null===r?NaN:r;const o=i&&n._stacks[e.axis];i&&o&&(i.values=o,s=Qy(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&t===n.iScale,s=i.length,o=this._getOtherScale(t),a=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Ky(n,!0),values:null})(e,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(o);let h,d;function f(){d=i[h];const e=d[o.axis];return!tm(d[t.axis])||c>e||u<e}for(h=0;h<s&&(f()||(this.updateRangeFromParsed(l,t,d,a),!r));++h);if(r)for(h=s-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,t,d,a);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i][t.axis],tm(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,i=e.vScale,r=this.getParsed(t);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,i,r;return Zg(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:!1===t}}(nm(this.options.clip,function(t,e,n){if(!1===n)return!1;const i=qy(t,n),r=qy(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,i=n.data||[],r=e.chartArea,s=[],o=this._drawStart||0,a=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(t,r,o,a),c=o;c<o+a;++c){const e=i[c];e.hidden||(e.active&&l?s.push(e):e.draw(t,r))}for(c=0;c<s.length;++c)s[c].draw(t,r)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];r=e.$context||(e.$context=function(t,e,n){return qv(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=function(t,e){return qv(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=n,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const i="active"===e,r=this._cachedDataOpts,s=t+"-"+e,o=r[s],a=this.enableOptionSharing&&mm(n);if(o)return eb(o,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,t),u=i?["".concat(t,"Hover"),"hover",t,""]:[t,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(bv.elements[t]),f=l.resolveNamedOptions(h,d,(()=>this.getContext(n,i,e)),u);return f.$shared&&(f.$shared=a,r[s]=Object.freeze(eb(f,a))),f}_resolveAnimations(t,e,n){const i=this.chart,r=this._cachedDataOpts,s="animation-".concat(e),o=r[s];if(o)return o;let a;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,e),s=i.getOptionScopes(this.getDataset(),r);a=i.createResolver(s,this.getContext(t,n,e))}const l=new Wy(i,a&&a.animations);return a&&a._cacheable&&(r[s]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||tb(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),i=this._sharedOptions,r=this.getSharedOptions(n),s=this.includeOptions(e,r)||r!==i;return this.updateSharedOptions(r,e,n),{sharedOptions:r,includeOptions:s}}updateElement(t,e,n,i){tb(i)?Object.assign(t,n):this._resolveAnimations(e,i).update(t,n)}updateSharedOptions(t,e,n){t&&!tb(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,i){t.active=i;const r=this.getStyle(e,i);this._resolveAnimations(e,n,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const i=n.length,r=e.length,s=Math.min(r,i);s&&this.parse(0,s),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this._cachedMeta,r=i.data,s=t+e;let o;const a=t=>{for(t.length+=e,o=t.length-1;o>=s;o--)t[o]=t[o-e]};for(a(r),o=t;o<s;++o)r[o]=new this.dataElementType;this._parsing&&a(i._parsed),this.parse(t,e),n&&this.updateElements(r,t,e,"reset")}updateElements(t,e,n,i){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,e);n._stacked&&Zy(n,i)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,i]=t;this[e](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function ib(t){const e=t.iScale,n=function(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let e=0,r=n.length;e<r;e++)i=i.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=Gm(i.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let i,r,s,o,a=e._length;const l=()=>{32767!==s&&-32768!==s&&(mm(o)&&(a=Math.min(a,Math.abs(s-o)||a)),o=s)};for(i=0,r=n.length;i<r;++i)s=e.getPixelForValue(n[i]),l();for(o=void 0,i=0,r=e.ticks.length;i<r;++i)s=e.getPixelForTick(i),l();return a}function rb(t,e,n,i){return Jg(t)?function(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}(t,e,n,i):e[n.axis]=n.parse(t,i),e}function sb(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=e[c],h={},h[r.axis]=a||r.parse(o[c],c),l.push(rb(d,h,s,c));return l}function ob(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function ab(t,e,n,i){let r=e.borderSkipped;const s={};if(!r)return void(t.borderSkipped=s);if(!0===r)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:c,bottom:u}=function(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}(t);"middle"===r&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[lb(u,o,a,l)]=!0,r=c)),s[lb(r,o,a,l)]=!0,t.borderSkipped=s}function lb(t,e,n,i){var r,s,o;return i?(o=n,t=cb(t=(r=t)===(s=e)?o:r===o?s:r,n,e)):t=cb(t,e,n),t}function cb(t,e,n){return"start"===t?e:"end"===t?n:t}function ub(t,e,n){let{inflateAmount:i}=e;t.inflateAmount="auto"===i?1===n?.33:0:i}gg(nb,"defaults",{}),gg(nb,"datasetElementType",null),gg(nb,"dataElementType",null);class hb extends nb{parsePrimitiveData(t,e,n,i){return sb(t,e,n,i)}parseArrayData(t,e,n,i){return sb(t,e,n,i)}parseObjectData(t,e,n,i){const{iScale:r,vScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l="x"===r.axis?o:a,c="x"===s.axis?o:a,u=[];let h,d,f,p;for(h=n,d=n+i;h<d;++h)p=e[h],f={},f[r.axis]=r.parse(pm(p,l),h),u.push(rb(pm(p,c),f,s,h));return u}updateRangeFromParsed(t,e,n,i){super.updateRangeFromParsed(t,e,n,i);const r=n._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:i}=e,r=this.getParsed(t),s=r._custom,o=ob(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,i){const r="reset"===i,{index:s,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,i);for(let d=e;d<e+n;d++){const e=this.getParsed(d),n=r||Xg(e[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(e._stacks||{})[o.axis],g={horizontal:l,base:n.base,enableBorderRadius:!p||ob(e._custom)||s===p._top||s===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};h&&(g.options=u||this.resolveDataElementOptions(d,t[d].active?"active":i));const m=g.options||t[d].options;ab(g,m,p,s),ub(g,m,c.ratio),this.updateElement(t[d],d,g,i)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),r=n.options.stacked,s=[],o=t=>{const n=t.controller.getParsed(e),i=n&&n[t.vScale.axis];if(Xg(i)||isNaN(i))return!0};for(const a of i)if((void 0===e||!o(a))&&((!1===r||-1===s.indexOf(a.stack)||void 0===r&&void 0===a.stack)&&s.push(a.stack),a.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const i=this._getStacks(t,n),r=void 0!==e?i.indexOf(e):-1;return-1===r?i.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,i=[];let r,s;for(r=0,s=e.data.length;r<s;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const o=t.barThickness;return{min:o||ib(e),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:i},options:{base:r,minBarLength:s}}=this,o=r||0,a=this.getParsed(t),l=a._custom,c=ob(l);let u,h,d=a[e.axis],f=0,p=n?this.applyStack(e,a,n):d;p!==d&&(f=p-d,p=d),c&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&Dm(d)!==Dm(l.barEnd)&&(f=0),f+=d);const g=Xg(r)||c?f:r;let m=e.getPixelForValue(g);if(u=this.chart.getDataVisibility(t)?e.getPixelForValue(f+p):m,h=u-m,Math.abs(h)<s){h=function(t,e,n){return 0!==t?Dm(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(h,e,o)*s,d===o&&(m-=h/2);const t=e.getPixelForDecimal(0),r=e.getPixelForDecimal(1),l=Math.min(t,r),f=Math.max(t,r);m=Math.max(Math.min(m,f),l),u=m+h,n&&!c&&(a._stacks[e.axis]._visualValues[i]=e.getValueForPixel(u)-e.getValueForPixel(m))}if(m===e.getPixelForValue(o)){const t=Dm(h)*e.getLineWidthForValue(o)/2;m+=t,h-=t}return{size:h,base:m,head:u,center:u+h/2}}_calculateBarIndexPixels(t,e){const n=e.scale,i=this.options,r=i.skipNull,s=nm(i.maxBarThickness,1/0);let o,a;if(e.grouped){const n=r?this._getStackCount(t):e.stackCount,l="flex"===i.barThickness?function(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;null===o&&(o=s-(null===a?e.end-e.start:a-s)),null===a&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}(t,e,i,n):function(t,e,n,i){const r=n.barThickness;let s,o;return Xg(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}(t,e,i,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);o=l.start+l.chunk*c+l.chunk/2,a=Math.min(s,l.chunk*l.ratio)}else o=n.getPixelForValue(this.getParsed(t)[n.axis],t),a=Math.min(s,e.min*e.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,i=n.length;let r=0;for(;r<i;++r)null===this.getParsed(r)[e.axis]||n[r].hidden||n[r].draw(this._ctx)}}gg(hb,"id","bar"),gg(hb,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),gg(hb,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class db extends nb{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,i){const r=super.parsePrimitiveData(t,e,n,i);for(let s=0;s<r.length;s++)r[s]._custom=this.resolveDataElementOptions(s+n).radius;return r}parseArrayData(t,e,n,i){const r=super.parseArrayData(t,e,n,i);for(let s=0;s<r.length;s++){const t=e[n+s];r[s]._custom=nm(t[2],this.resolveDataElementOptions(s+n).radius)}return r}parseObjectData(t,e,n,i){const r=super.parseObjectData(t,e,n,i);for(let s=0;s<r.length;s++){const t=e[n+s];r[s]._custom=nm(t&&t.r&&+t.r,this.resolveDataElementOptions(s+n).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=e,s=this.getParsed(t),o=i.getLabelForValue(s.x),a=r.getLabelForValue(s.y),l=s._custom;return{label:n[t]||"",value:"("+o+", "+a+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(e,i),c=s.axis,u=o.axis;for(let h=e;h<e+n;h++){const e=t[h],n=!r&&this.getParsed(h),d={},f=d[c]=r?s.getPixelForDecimal(.5):s.getPixelForValue(n[c]),p=d[u]=r?o.getBasePixel():o.getPixelForValue(n[u]);d.skip=isNaN(f)||isNaN(p),l&&(d.options=a||this.resolveDataElementOptions(h,e.active?"active":i),r&&(d.options.radius=0)),this.updateElement(e,h,d,i)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return"active"!==e&&(i.radius=0),i.radius+=nm(n&&n._custom,r),i}}gg(db,"id","bubble"),gg(db,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),gg(db,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class fb extends nb{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let r,s,o=t=>+n[t];if(Zg(n[t])){const{key:t="value"}=this._parsing;o=e=>+pm(n[e],t)}for(r=t,s=t+e;r<s;++r)i._parsed[r]=o(r)}}_getRotation(){return Pm(this.options.rotation-90)}_getCircumference(){return Pm(this.options.circumference)}_getRotationExtents(){let t=xm,e=-xm;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),s=i._getCircumference();t=Math.min(t,r),e=Math.max(e,r+s)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,i=this._cachedMeta,r=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-s)/2,0),a=Math.min((l=this.options.cutout,c=o,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=function(t,e,n){let i=1,r=1,s=0,o=0;if(e<xm){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(t,e,i)=>zm(t,a,l,!0)?1:Math.max(e,e*n,i,i*n),p=(t,e,i)=>zm(t,a,l,!0)?-1:Math.min(e,e*n,i,i*n),g=f(0,c,h),m=f(km,u,d),v=p(bm,c,h),y=p(bm+km,u,d);i=(g-v)/2,r=(m-y)/2,s=-(g+v)/2,o=-(m+y)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}(d,h,a),v=(n.width-s)/f,y=(n.height-s)/p,b=Math.max(Math.min(v,y)/2,0),x=im(this.options.radius,b),w=(x-Math.max(x*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*x,this.offsetY=m*x,i.total=this.calculateTotal(),this.outerRadius=x-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*u,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===i._parsed[t]||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*r/xm)}updateElements(t,e,n,i){const r="reset"===i,s=this.chart,o=s.chartArea,a=s.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,u=r&&a.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(e,i);let g,m=this._getRotation();for(g=0;g<e;++g)m+=this._circumference(g,r);for(g=e;g<e+n;++g){const e=this._circumference(g,r),n=t[g],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:d,innerRadius:h};p&&(s.options=f||this.resolveDataElementOptions(g,n.active?"active":i)),m+=e,this.updateElement(n,g,s,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,i=0;for(n=0;n<e.length;n++){const r=t._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||e[n].hidden||(i+=Math.abs(r))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?xm*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=hv(e._parsed[t],n.options.locale);return{label:i[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const n=this.chart;let i,r,s,o,a;if(!t)for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){s=n.getDatasetMeta(i),t=s.data,o=s.controller;break}if(!t)return 0;for(i=0,r=t.length;i<r;++i)a=o.resolveDataElementOptions(i),"inner"!==a.borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,i=t.length;n<i;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(nm(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}gg(fb,"id","doughnut"),gg(fb,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),gg(fb,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),gg(fb,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map(((e,r)=>{const s=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:i,lineWidth:s.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}});class pb extends nb{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=e,s=this.chart._animationsDisabled;let{start:o,count:a}=Zm(e,i,s);this._drawStart=o,this._drawCount=a,tv(e)&&(o=0,a=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},t),this.updateElements(i,o,a,t)}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(e,i),h=s.axis,d=o.axis,{spanGaps:f,segment:p}=this.options,g=Nm(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||"none"===i,v=e+n,y=t.length;let b=e>0&&this.getParsed(e-1);for(let x=0;x<y;++x){const n=t[x],f=m?n:{};if(x<e||x>=v){f.skip=!0;continue}const y=this.getParsed(x),w=Xg(y[d]),_=f[h]=s.getPixelForValue(y[h],x),S=f[d]=r||w?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,y,a):y[d],x);f.skip=isNaN(_)||isNaN(S)||w,f.stop=x>0&&Math.abs(y[h]-b[h])>g,p&&(f.parsed=y,f.raw=l.data[x]),u&&(f.options=c||this.resolveDataElementOptions(x,n.active?"active":i)),m||this.updateElement(n,x,f,i),b=y}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,s)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}gg(pb,"id","line"),gg(pb,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),gg(pb,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class gb extends nb{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=hv(e._parsed[t].r,n.options.locale);return{label:i[t]||"",value:r}}parseObjectData(t,e,n,i){return sy.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<e.min&&(e.min=i),i>e.max&&(e.max=i))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(i/2,0),s=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=r-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(t,e,n,i){const r="reset"===i,s=this.chart,o=s.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,c=a.yCenter,u=a.getIndexAngle(0)-.5*bm;let h,d=u;const f=360/this.countVisibleElements();for(h=0;h<e;++h)d+=this._computeAngle(h,i,f);for(h=e;h<e+n;h++){const e=t[h];let n=d,p=d+this._computeAngle(h,i,f),g=s.getDataVisibility(h)?a.getDistanceFromCenterForValue(this.getParsed(h).r):0;d=p,r&&(o.animateScale&&(g=0),o.animateRotate&&(n=p=u));const m={x:l,y:c,innerRadius:0,outerRadius:g,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(h,e.active?"active":i)};this.updateElement(e,h,m,i)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++})),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?Pm(this.resolveDataElementOptions(t,e).angle||n):0}}gg(gb,"id","polarArea"),gg(gb,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),gg(gb,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map(((e,r)=>{const s=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:i,lineWidth:s.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class mb extends fb{}gg(mb,"id","pie"),gg(mb,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class vb extends nb{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,i){return sy.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta,n=e.dataset,i=e.data||[],r=e.iScale.getLabels();if(n.points=i,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const s={_loop:!0,_fullLoop:r.length===i.length,options:e};this.updateElement(n,void 0,s,t)}this.updateElements(i,0,i.length,t)}updateElements(t,e,n,i){const r=this._cachedMeta.rScale,s="reset"===i;for(let o=e;o<e+n;o++){const e=t[o],n=this.resolveDataElementOptions(o,e.active?"active":i),a=r.getPointPositionForValue(o,this.getParsed(o).r),l=s?r.xCenter:a.x,c=s?r.yCenter:a.y,u={x:l,y:c,angle:a.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(e,o,u,i)}}}gg(vb,"id","radar"),gg(vb,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),gg(vb,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class yb extends nb{getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=e,s=this.getParsed(t),o=i.getLabelForValue(s.x),a=r.getLabelForValue(s.y);return{label:n[t]||"",value:"("+o+", "+a+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,i=this.chart._animationsDisabled;let{start:r,count:s}=Zm(e,n,i);if(this._drawStart=r,this._drawCount=s,tv(e)&&(r=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:s}=e;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=n;const o=this.resolveDatasetElementOptions(t);o.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:o},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(n,r,s,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(e,i),u=this.getSharedOptions(c),h=this.includeOptions(i,u),d=s.axis,f=o.axis,{spanGaps:p,segment:g}=this.options,m=Nm(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||"none"===i;let y=e>0&&this.getParsed(e-1);for(let b=e;b<e+n;++b){const e=t[b],n=this.getParsed(b),c=v?e:{},p=Xg(n[f]),x=c[d]=s.getPixelForValue(n[d],b),w=c[f]=r||p?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,n,a):n[f],b);c.skip=isNaN(x)||isNaN(w)||p,c.stop=b>0&&Math.abs(n[d]-y[d])>m,g&&(c.parsed=n,c.raw=l.data[b]),h&&(c.options=u||this.resolveDataElementOptions(b,e.active?"active":i)),v||this.updateElement(e,b,c,i),y=n}this.updateSharedOptions(u,i,c)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}const n=t.dataset,i=n.options&&n.options.borderWidth||0;if(!e.length)return i;const r=e[0].size(this.resolveDataElementOptions(0)),s=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(i,r,s)/2}}gg(yb,"id","scatter"),gg(yb,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),gg(yb,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var bb=Object.freeze({__proto__:null,BarController:hb,BubbleController:db,DoughnutController:fb,LineController:pb,PieController:mb,PolarAreaController:gb,RadarController:vb,ScatterController:yb});function xb(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class wb{static override(t){Object.assign(wb.prototype,t)}constructor(t){gg(this,"options",void 0),this.options=t||{}}init(){}formats(){return xb()}parse(){return xb()}format(){return xb()}add(){return xb()}diff(){return xb()}startOf(){return xb()}endOf(){return xb()}}var _b=wb;function Sb(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&"r"!==e&&o&&s.length){const t=a._reversePixels?qm:Wm;if(!i)return t(s,e,n);if(r._sharedOptions){const i=s[0],r="function"===typeof i.getRange&&i.getRange(e);if(r){const i=t(s,e,n-r),o=t(s,e,n+r);return{lo:i.lo,hi:o.hi}}}}return{lo:0,hi:s.length-1}}function kb(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:t,data:n}=s[a],{lo:l,hi:c}=Sb(s[a],e,o,r);for(let e=l;e<=c;++e){const r=n[e];r.skip||i(r,t,e)}}}function Eb(t,e,n,i,r){const s=[];if(!r&&!t.isPointInArea(e))return s;return kb(t,n,e,(function(n,o,a){(r||Cv(n,t.chartArea,0))&&n.inRange(e.x,e.y,i)&&s.push({element:n,datasetIndex:o,index:a})}),!0),s}function Cb(t,e,n,i,r,s){let o=[];const a=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,i){const r=e?Math.abs(t.x-i.x):0,s=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return kb(t,n,e,(function(n,c,u){const h=n.inRange(e.x,e.y,r);if(i&&!h)return;const d=n.getCenterPoint(r);if(!(!!s||t.isPointInArea(d))&&!h)return;const f=a(e,d);f<l?(o=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&o.push({element:n,datasetIndex:c,index:u})})),o}function Tb(t,e,n,i,r,s){return s||t.isPointInArea(e)?"r"!==n||i?Cb(t,e,n,i,r,s):function(t,e,n,i){let r=[];return kb(t,n,e,(function(t,n,s){const{startAngle:o,endAngle:a}=t.getProps(["startAngle","endAngle"],i),{angle:l}=Lm(t,{x:e.x,y:e.y});zm(l,o,a)&&r.push({element:t,datasetIndex:n,index:s})})),r}(t,e,n,r):[]}function Db(t,e,n,i,r){const s=[],o="x"===n?"inXRange":"inYRange";let a=!1;return kb(t,n,e,((t,i,l)=>{t[o](e[n],r)&&(s.push({element:t,datasetIndex:i,index:l}),a=a||t.inRange(e.x,e.y,r))})),i&&!a?[]:s}var Mb={evaluateInteractionItems:kb,modes:{index(t,e,n,i){const r=xy(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Eb(t,r,s,i,o):Tb(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,n=t.data[e];n&&!n.skip&&l.push({element:n,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,n,i){const r=xy(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Eb(t,r,s,i,o):Tb(t,r,s,!1,i,o);if(a.length>0){const e=a[0].datasetIndex,n=t.getDatasetMeta(e).data;a=[];for(let t=0;t<n.length;++t)a.push({element:n[t],datasetIndex:e,index:t})}return a},point:(t,e,n,i)=>Eb(t,xy(e,t),n.axis||"xy",i,n.includeInvisible||!1),nearest(t,e,n,i){const r=xy(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Tb(t,r,s,n.intersect,i,o)},x:(t,e,n,i)=>Db(t,xy(e,t),"x",n.intersect,i),y:(t,e,n,i)=>Db(t,xy(e,t),"y",n.intersect,i)}};const Ib=["left","top","right","bottom"];function Nb(t,e){return t.filter((t=>t.pos===e))}function Ab(t,e){return t.filter((t=>-1===Ib.indexOf(t.pos)&&t.box.axis===e))}function Pb(t,e){return t.sort(((t,n)=>{const i=e?n:t,r=e?t:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function Rb(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:i,stackWeight:r}=n;if(!t||!Ib.includes(i))continue;const s=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=r}return e}(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:o}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*i:o&&e.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:o&&e.availableHeight)}return n}function Ob(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function Lb(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function jb(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!Zg(r)){n.size&&(t[r]-=n.size);const e=i[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?s.height:s.width),n.size=e.size/e.count,t[r]+=n.size}s.getPadding&&Lb(o,s.getPadding());const a=Math.max(0,e.outerWidth-Ob(o,t,"left","right")),l=Math.max(0,e.outerHeight-Ob(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Fb(t,e){const n=e.maxPadding;function i(t){const i={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{i[t]=Math.max(e[t],n[t])})),i}return i(t?["left","right"]:["top","bottom"])}function Vb(t,e,n,i){const r=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,Fb(a.horizontal,e));const{same:o,other:h}=jb(e,n,a,i);c|=o&&r.length,u=u||h,l.fullSize||r.push(a)}return c&&Vb(r,e,n,i)||u}function zb(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function Bb(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const t=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const i=e.w*c,s=l.size||t.height;mm(l.start)&&(o=l.start),t.fullSize?zb(t,r.left,o,n.outerWidth-r.right-r.left,s):zb(t,e.left+l.placed,o,i,s),l.start=o,l.placed+=i,o=t.bottom}else{const i=e.h*c,o=l.size||t.width;mm(l.start)&&(s=l.start),t.fullSize?zb(t,s,r.top,o,n.outerHeight-r.bottom-r.top):zb(t,s,e.top+l.placed,o,i),l.start=s,l.placed+=i,s=t.right}}e.x=s,e.y=o}var Ub={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=Uv(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=function(t){const e=function(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],({position:s,options:{stack:o,stackWeight:a=1}}=r),e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}(t),n=Pb(e.filter((t=>t.box.fullSize)),!0),i=Pb(Nb(e,"left"),!0),r=Pb(Nb(e,"right")),s=Pb(Nb(e,"top"),!0),o=Pb(Nb(e,"bottom")),a=Ab(e,"x"),l=Ab(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:Nb(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}(t.boxes),l=a.vertical,c=a.horizontal;sm(t.boxes,(t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()}));const u=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},r);Lb(d,Uv(i));const f=Object.assign({maxPadding:d,w:s,h:o,x:r.left,y:r.top},r),p=Rb(l.concat(c),h);Vb(a.fullSize,f,h,p),Vb(l,f,h,p),Vb(c,f,h,p)&&Vb(l,f,h,p),function(t){const e=t.maxPadding;function n(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(f),Bb(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,Bb(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},sm(a.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class Hb{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,i){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):n)}}isAttached(t){return!0}updateConfig(t){}}class Wb extends Hb{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const qb="$chartjs",Kb={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Qb=t=>null===t||""===t;const Gb=!!ky&&{passive:!0};function Yb(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Gb)}function $b(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Xb(t,e,n){const i=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||$b(n.addedNodes,i),e=e&&!$b(n.removedNodes,i);e&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}function Jb(t,e,n){const i=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||$b(n.removedNodes,i),e=e&&!$b(n.addedNodes,i);e&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}const Zb=new Map;let tx=0;function ex(){const t=window.devicePixelRatio;t!==tx&&(tx=t,Zb.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function nx(t,e,n){const i=t.canvas,r=i&&py(i);if(!r)return;const s=$m(((t,e)=>{const i=r.clientWidth;n(t,e),i<r.clientWidth&&n()}),window),o=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,i=e.contentRect.height;0===n&&0===i||s(n,i)}));return o.observe(r),function(t,e){Zb.size||window.addEventListener("resize",ex),Zb.set(t,e)}(t,s),o}function ix(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){Zb.delete(t),Zb.size||window.removeEventListener("resize",ex)}(t)}function rx(t,e,n){const i=t.canvas,r=$m((e=>{null!==t.ctx&&n(function(t,e){const n=Kb[t.type]||t.type,{x:i,y:r}=xy(t,e);return{type:n,chart:e,native:t,x:void 0!==i?i:null,y:void 0!==r?r:null}}(e,t))}),t);return function(t,e,n){t&&t.addEventListener(e,n,Gb)}(i,e,r),r}class sx extends Hb{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[qb]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Qb(r)){const e=Ey(t,"width");void 0!==e&&(t.width=e)}if(Qb(i))if(""===t.style.height)t.height=t.width/(e||2);else{const e=Ey(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[qb])return!1;const n=e[qb].initial;["height","width"].forEach((t=>{const i=n[t];Xg(i)?e.removeAttribute(t):e.setAttribute(t,i)}));const i=n.style||{};return Object.keys(i).forEach((t=>{e.style[t]=i[t]})),e.width=e.width,delete e[qb],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),r={attach:Xb,detach:Jb,resize:nx}[e]||rx;i[e]=r(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),i=n[e];if(!i)return;({attach:ix,detach:ix,resize:ix}[e]||Yb)(t,e,i),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,i){return _y(t,e,n,i)}isAttached(t){const e=t&&py(t);return!(!e||!e.isConnected)}}class ox{constructor(){gg(this,"x",void 0),gg(this,"y",void 0),gg(this,"active",!1),gg(this,"options",void 0),gg(this,"$animations",void 0)}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return Nm(this.x)&&Nm(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const i={};return t.forEach((t=>{i[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),i}}function ax(t,e){const n=t.options.ticks,i=function(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?function(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return function(t,e,n,i){let r,s=0,o=n[0];for(i=Math.ceil(i),r=0;r<t.length;r++)r===o&&(e.push(t[r]),s++,o=n[s*i])}(e,c,s,o/r),c;const u=function(t,e,n){const i=function(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}(t),r=e.length/n;if(!i)return Math.max(r,1);const s=function(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}(i);for(let o=0,a=s.length-1;o<a;o++){const t=s[o];if(t>r)return t}return Math.max(r,1)}(s,e,r);if(o>0){let t,n;const i=o>1?Math.round((l-a)/(o-1)):null;for(lx(e,c,u,Xg(i)?0:a-i,a),t=0,n=o-1;t<n;t++)lx(e,c,u,s[t],s[t+1]);return lx(e,c,u,l,Xg(i)?e.length:l+i),c}return lx(e,c,u),c}function lx(t,e,n,i,r){const s=nm(i,0),o=Math.min(nm(r,t.length),t.length);let a,l,c,u=0;for(n=Math.ceil(n),r&&(a=r-i,n=a/Math.floor(a/n)),c=s;c<0;)u++,c=Math.round(s+u*n);for(l=Math.max(s,0);l<o;l++)l===c&&(e.push(t[l]),u++,c=Math.round(s+u*n))}gg(ox,"defaults",{}),gg(ox,"defaultRoutes",void 0);const cx=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n,ux=(t,e)=>Math.min(e||t,t);function hx(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function dx(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l,c=t.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(c-s,o-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(r-1))/2,c+=r<e?l:-l,c<s-a||c>o+a)))return c}function fx(t){return t.drawTicks?t.tickLength:0}function px(t,e){if(!t.display)return 0;const n=Hv(t.font,e),i=Uv(t.padding);return(Jg(t.text)?t.text.length:1)*n.lineHeight+i.height}function gx(t,e,n){let i=Xm(t);return(n&&"right"!==e||!n&&"right"===e)&&(i=(t=>"left"===t?"right":"right"===t?"left":t)(i)),i}class mx extends ox{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:i}=this;return t=em(t,Number.POSITIVE_INFINITY),e=em(e,Number.NEGATIVE_INFINITY),n=em(n,Number.POSITIVE_INFINITY),i=em(i,Number.NEGATIVE_INFINITY),{min:em(t,n),max:em(e,i),minDefined:tm(t),maxDefined:tm(e)}}getMinMax(t){let e,{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)e=o[a].controller.getMinMax(this,t),r||(n=Math.min(n,e.min)),s||(i=Math.max(i,e.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:em(n,em(i,n)),max:em(i,em(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){rm(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:i,grace:r,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:i,max:r}=t,s=im(e,(r-i)/2),o=(t,e)=>n&&0===t?0:t+e;return{min:o(i,-Math.abs(s)),max:o(r,s)}}(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?hx(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=ax(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){rm(this.options.afterUpdate,[this])}beforeSetDimensions(){rm(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){rm(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),rm(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){rm(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,i,r;for(n=0,i=t.length;n<i;n++)r=t[n],r.label=rm(e.callback,[r.value,n,t],this)}afterTickToLabelConversion(){rm(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){rm(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=ux(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,r=e.maxRotation;let s,o,a,l=i;if(!this._isVisible()||!e.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=Bm(this.chart.width-u,0,this.maxWidth);s=t.offset?this.maxWidth/n:d/(n-1),u+6>s&&(s=d/(n-(t.offset?.5:1)),o=this.maxHeight-fx(t.grid)-e.padding-px(t.title,this.chart.options.font),a=Math.sqrt(u*u+h*h),l=Rm(Math.min(Math.asin(Bm((c.highest.height+6)/s,-1,1)),Math.asin(Bm(o/a,-1,1))-Math.asin(Bm(h/a,-1,1)))),l=Math.max(i,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){rm(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){rm(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:i,grid:r}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=px(i,e.options.font);if(o?(t.width=this.maxWidth,t.height=fx(r)+s):(t.height=this.maxHeight,t.width=fx(r)+s),n.display&&this.ticks.length){const{first:e,last:i,widest:r,highest:s}=this._getLabelSizes(),a=2*n.padding,l=Pm(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(o){const e=n.mirror?0:u*r.width+c*s.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=n.mirror?0:c*r.width+u*s.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,i,u,c)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,i){const{ticks:{align:r,padding:s},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;a?l?(u=i*t.width,h=n*e.height):(u=n*t.height,h=i*e.width):"start"===r?h=e.width:"end"===r?u=t.width:"inner"!==r&&(u=t.width/2,h=e.width/2),this.paddingLeft=Math.max((u-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((h-c+s)*this.width/(this.width-c),0)}else{let n=e.height/2,i=t.height/2;"start"===r?(n=0,i=t.height):"end"===r&&(n=e.height,i=0),this.paddingTop=n+s,this.paddingBottom=i+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){rm(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)Xg(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=hx(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:i,_longestTextCache:r}=this,s=[],o=[],a=Math.floor(e/ux(e,n));let l,c,u,h,d,f,p,g,m,v,y,b=0,x=0;for(l=0;l<e;l+=a){if(h=t[l].label,d=this._resolveTickFontOptions(l),i.font=f=d.string,p=r[f]=r[f]||{data:{},gc:[]},g=d.lineHeight,m=v=0,Xg(h)||Jg(h)){if(Jg(h))for(c=0,u=h.length;c<u;++c)y=h[c],Xg(y)||Jg(y)||(m=xv(i,p.data,p.gc,m,y),v+=g)}else m=xv(i,p.data,p.gc,m,h),v=g;s.push(m),o.push(v),b=Math.max(m,b),x=Math.max(v,x)}!function(t,e){sm(t,(t=>{const n=t.gc,i=n.length/2;let r;if(i>e){for(r=0;r<i;++r)delete t.data[n[r]];n.splice(0,i)}}))}(r,e);const w=s.indexOf(b),_=o.indexOf(x),S=t=>({width:s[t]||0,height:o[t]||0});return{first:S(0),last:S(e-1),widest:S(w),highest:S(_),widths:s,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Bm(this._alignToPixels?_v(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return qv(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=qv(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=Pm(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),s=t.autoSkipPadding||0,o=r?r.widest.width+s:0,a=r?r.highest.height+s:0;return this.isHorizontal()?a*n>o*i?o/n:a/i:a*i<o*n?a/n:o/i}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,i=this.options,{grid:r,position:s,border:o}=i,a=r.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),u=fx(r),h=[],d=o.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,g=function(t){return _v(n,t,f)};let m,v,y,b,x,w,_,S,k,E,C,T;if("top"===s)m=g(this.bottom),w=this.bottom-u,S=m-p,E=g(t.top)+p,T=t.bottom;else if("bottom"===s)m=g(this.top),E=t.top,T=g(t.bottom)-p,w=m+p,S=this.top+u;else if("left"===s)m=g(this.right),x=this.right-u,_=m-p,k=g(t.left)+p,C=t.right;else if("right"===s)m=g(this.left),k=t.left,C=g(t.right)-p,x=m+p,_=this.left+u;else if("x"===e){if("center"===s)m=g((t.top+t.bottom)/2+.5);else if(Zg(s)){const t=Object.keys(s)[0],e=s[t];m=g(this.chart.scales[t].getPixelForValue(e))}E=t.top,T=t.bottom,w=m+p,S=w+u}else if("y"===e){if("center"===s)m=g((t.left+t.right)/2);else if(Zg(s)){const t=Object.keys(s)[0],e=s[t];m=g(this.chart.scales[t].getPixelForValue(e))}x=m-p,_=x-u,k=t.left,C=t.right}const D=nm(i.ticks.maxTicksLimit,c),M=Math.max(1,Math.ceil(c/D));for(v=0;v<c;v+=M){const t=this.getContext(v),e=r.setContext(t),i=o.setContext(t),s=e.lineWidth,c=e.color,u=i.dash||[],d=i.dashOffset,f=e.tickWidth,p=e.tickColor,g=e.tickBorderDash||[],m=e.tickBorderDashOffset;y=dx(this,v,a),void 0!==y&&(b=_v(n,y,s),l?x=_=k=C=b:w=S=E=T=b,h.push({tx1:x,ty1:w,tx2:_,ty2:S,x1:k,y1:E,x2:C,y2:T,width:s,color:c,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,h}_computeLabelItems(t){const e=this.axis,n=this.options,{position:i,ticks:r}=n,s=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:c,mirror:u}=r,h=fx(n.grid),d=h+c,f=u?-c:d,p=-Pm(this.labelRotation),g=[];let m,v,y,b,x,w,_,S,k,E,C,T,D="middle";if("top"===i)w=this.bottom-f,_=this._getXAxisLabelAlignment();else if("bottom"===i)w=this.top+f,_=this._getXAxisLabelAlignment();else if("left"===i){const t=this._getYAxisLabelAlignment(h);_=t.textAlign,x=t.x}else if("right"===i){const t=this._getYAxisLabelAlignment(h);_=t.textAlign,x=t.x}else if("x"===e){if("center"===i)w=(t.top+t.bottom)/2+d;else if(Zg(i)){const t=Object.keys(i)[0],e=i[t];w=this.chart.scales[t].getPixelForValue(e)+d}_=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===i)x=(t.left+t.right)/2-d;else if(Zg(i)){const t=Object.keys(i)[0],e=i[t];x=this.chart.scales[t].getPixelForValue(e)}_=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===a?D="top":"end"===a&&(D="bottom"));const M=this._getLabelSizes();for(m=0,v=o.length;m<v;++m){y=o[m],b=y.label;const t=r.setContext(this.getContext(m));S=this.getPixelForTick(m)+r.labelOffset,k=this._resolveTickFontOptions(m),E=k.lineHeight,C=Jg(b)?b.length:1;const e=C/2,n=t.color,a=t.textStrokeColor,c=t.textStrokeWidth;let h,d=_;if(s?(x=S,"inner"===_&&(d=m===v-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),T="top"===i?"near"===l||0!==p?-C*E+E/2:"center"===l?-M.highest.height/2-e*E+E:-M.highest.height+E/2:"near"===l||0!==p?E/2:"center"===l?M.highest.height/2-e*E:M.highest.height-C*E,u&&(T*=-1),0===p||t.showLabelBackdrop||(x+=E/2*Math.sin(p))):(w=S,T=(1-C)*E/2),t.showLabelBackdrop){const e=Uv(t.backdropPadding),n=M.heights[m],i=M.widths[m];let r=T-e.top,s=0-e.left;switch(D){case"middle":r-=n/2;break;case"bottom":r-=n}switch(_){case"center":s-=i/2;break;case"right":s-=i;break;case"inner":m===v-1?s-=i:m>0&&(s-=i/2)}h={left:s,top:r,width:i+e.width,height:n+e.height,color:t.backdropColor}}g.push({label:b,font:k,textOffset:T,options:{rotation:p,color:n,strokeColor:a,strokeWidth:c,textAlign:d,textBaseline:D,translation:[x,w],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Pm(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,s=t+r,o=this._getLabelSizes().widest.width;let a,l;return"left"===e?i?(l=this.right+r,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l+=o)):(l=this.right-s,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l=this.left)):"right"===e?i?(l=this.left+r,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l-=o)):(l=this.left+s,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:i,width:r,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,i,r,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex((e=>e.value===t));if(n>=0){return e.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,s;const o=(t,e,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(r=0,s=i.length;r<s;++r){const t=i[r];e.drawOnChartArea&&o({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&o({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),s=n.display?r.width:0;if(!s)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=_v(t,this.left,s)-s/2,c=_v(t,this.right,o)+o/2,u=h=a):(u=_v(t,this.top,s)-s/2,h=_v(t,this.bottom,o)+o/2,l=c=a),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(l,u),e.lineTo(c,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&Tv(e,n);const i=this.getLabelItems(t);for(const r of i){const t=r.options,n=r.font;Pv(e,r.label,0,r.textOffset,n,t)}n&&Dv(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:i}}=this;if(!n.display)return;const r=Hv(n.font),s=Uv(n.padding),o=n.align;let a=r.lineHeight/2;"bottom"===e||"center"===e||Zg(e)?(a+=s.bottom,Jg(n.text)&&(a+=r.lineHeight*(n.text.length-1))):a+=s.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h,d,f,p=0;const g=o-r,m=a-s;if(t.isHorizontal()){if(d=Jm(i,s,a),Zg(n)){const t=Object.keys(n)[0],i=n[t];f=u[t].getPixelForValue(i)+g-e}else f="center"===n?(c.bottom+c.top)/2+g-e:cx(t,n,e);h=a-s}else{if(Zg(n)){const t=Object.keys(n)[0],i=n[t];d=u[t].getPixelForValue(i)-m+e}else d="center"===n?(c.left+c.right)/2-m+e:cx(t,n,e);f=Jm(i,o,r),p="left"===n?-km:km}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,a,e,o);Pv(t,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:h,textAlign:gx(o,e,i),textBaseline:"middle",translation:[l,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=nm(t.grid&&t.grid.z,-1),i=nm(t.border&&t.border.z,0);return this._isVisible()&&this.draw===mx.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,s;for(r=0,s=e.length;r<s;++r){const s=e[r];s[n]!==this.id||t&&s.type!==t||i.push(s)}return i}_resolveTickFontOptions(t){return Hv(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class vx{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const i=this.items,r=t.id,s=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,function(t,e,n){const i=um(Object.create(null),[n?bv.get(n):{},bv.get(e),t.defaults]);bv.set(e,i),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");bv.route(s,r,l,a)}))}(e,t.defaultRoutes);t.descriptors&&bv.describe(e,t.descriptors)}(t,s,n),this.override&&bv.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,i=this.scope;n in e&&delete e[n],i&&n in bv[i]&&(delete bv[i][n],this.override&&delete pv[n])}}class yx{constructor(){this.controllers=new vx(nb,"datasets",!0),this.elements=new vx(ox,"elements"),this.plugins=new vx(Object,"plugins"),this.scales=new vx(mx,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e)}remove(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e)}addControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.controllers)}addElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.elements)}addPlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.plugins)}addScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.controllers)}removeElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.elements)}removePlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.plugins)}removeScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.scales)}_each(t,e,n){[...e].forEach((e=>{const i=n||this._getRegistryForType(e);n||i.isForType(e)||i===this.plugins&&e.id?this._exec(t,i,e):sm(e,(e=>{const i=n||this._getRegistryForType(e);this._exec(t,i,e)}))}))}_exec(t,e,n){const i=gm(t);rm(n["before"+i],[],n),e[t](n),rm(n["after"+i],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const i=e.get(t);if(void 0===i)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var bx=new yx;class xx{constructor(){this._init=[]}notify(t,e,n,i){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=i?this._descriptors(t).filter(i):this._descriptors(t),s=this._notify(r,t,e,n);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,n,i){i=i||{};for(const r of t){const t=r.plugin;if(!1===rm(t[n],[e,i,r.options],t)&&i.cancelable)return!1}return!0}invalidate(){Xg(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,i=nm(n.options&&n.options.plugins,{}),r=function(t){const e={},n=[],i=Object.keys(bx.plugins.items);for(let s=0;s<i.length;s++)n.push(bx.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const t=r[s];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}(n);return!1!==i||e?function(t,e,n,i){let{plugins:r,localIds:s}=e;const o=[],a=t.getContext();for(const l of r){const e=l.id,r=wx(n[e],i);null!==r&&o.push({plugin:l,options:_x(t.config,{plugin:l,local:s[e]},r,a)})}return o}(t,r,i,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,i=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(i(e,n),t,"stop"),this._notify(i(n,e),t,"start")}}function wx(t,e){return e||!1!==t?!0===t?{}:t:null}function _x(t,e,n,i){let{plugin:r,local:s}=e;const o=t.pluginScopeKeys(r),a=t.getOptionScopes(n,o);return s&&r.defaults&&a.push(r.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Sx(t,e){const n=bv.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function kx(t){if("x"===t||"y"===t||"r"===t)return t}function Ex(t){if(kx(t))return t;for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const s of n){const e=s.axis||("top"===(r=s.position)||"bottom"===r?"x":"left"===r||"right"===r?"y":void 0)||t.length>1&&kx(t[0].toLowerCase());if(e)return e}var r;throw new Error("Cannot determine type of '".concat(t,"' axis. Please provide 'axis' or 'position' option."))}function Cx(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Tx(t,e){const n=pv[t.type]||{scales:{}},i=e.scales||{},r=Sx(t.type,e),s=Object.create(null);return Object.keys(i).forEach((e=>{const o=i[e];if(!Zg(o))return console.error("Invalid scale configuration for scale: ".concat(e));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(e));const a=Ex(e,o,function(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(n.length)return Cx(t,"x",n[0])||Cx(t,"y",n[0])}return{}}(e,t),bv.scales[o.type]),l=function(t,e){return t===e?"_index_":"_value_"}(a,r),c=n.scales||{};s[e]=hm(Object.create(null),[{axis:a},o,c[a],c[l]])})),t.data.datasets.forEach((n=>{const r=n.type||t.type,o=n.indexAxis||Sx(r,e),a=(pv[r]||{}).scales||{};Object.keys(a).forEach((t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,o),r=n[e+"AxisID"]||e;s[r]=s[r]||Object.create(null),hm(s[r],[{axis:e},i[r],a[t]])}))})),Object.keys(s).forEach((t=>{const e=s[t];hm(e,[bv.scales[e.type],bv.scale])})),s}function Dx(t){const e=t.options||(t.options={});e.plugins=nm(e.plugins,{}),e.scales=Tx(t,e)}function Mx(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const Ix=new Map,Nx=new Set;function Ax(t,e){let n=Ix.get(t);return n||(n=e(),Ix.set(t,n),Nx.add(n)),n}const Px=(t,e,n)=>{const i=pm(e,n);void 0!==i&&t.add(i)};class Rx{constructor(t){this._config=function(t){return(t=t||{}).data=Mx(t.data),Dx(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Mx(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Dx(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ax(t,(()=>[["datasets.".concat(t),""]]))}datasetAnimationScopeKeys(t,e){return Ax("".concat(t,".transition.").concat(e),(()=>[["datasets.".concat(t,".transitions.").concat(e),"transitions.".concat(e)],["datasets.".concat(t),""]]))}datasetElementScopeKeys(t,e){return Ax("".concat(t,"-").concat(e),(()=>[["datasets.".concat(t,".elements.").concat(e),"datasets.".concat(t),"elements.".concat(e),""]]))}pluginScopeKeys(t){const e=t.id,n=this.type;return Ax("".concat(n,"-plugin-").concat(e),(()=>[["plugins.".concat(e),...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let i=n.get(t);return i&&!e||(i=new Map,n.set(t,i)),i}getOptionScopes(t,e,n){const{options:i,type:r}=this,s=this._cachedScopes(t,n),o=s.get(e);if(o)return o;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>Px(a,t,e)))),e.forEach((t=>Px(a,i,t))),e.forEach((t=>Px(a,pv[r]||{},t))),e.forEach((t=>Px(a,bv,t))),e.forEach((t=>Px(a,gv,t)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),Nx.has(e)&&s.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,pv[e]||{},bv.datasets[e]||{},{type:e},bv,gv]}resolveNamedOptions(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const r={$shared:!0},{resolver:s,subPrefixes:o}=Ox(this._resolverCache,t,i);let a=s;if(function(t,e){const{isScriptable:n,isIndexable:i}=Gv(t);for(const r of e){const e=n(r),s=i(r),o=(s||e)&&t[r];if(e&&(vm(o)||Lx(o))||s&&Jg(o))return!0}return!1}(s,e)){r.$shared=!1;a=Qv(s,n=vm(n)?n():n,this.createResolver(t,n,o))}for(const l of e)r[l]=a[l];return r}createResolver(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=arguments.length>3?arguments[3]:void 0;const{resolver:r}=Ox(this._resolverCache,t,n);return Zg(e)?Qv(r,e,void 0,i):r}}function Ox(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);if(!s){s={resolver:Kv(e,n),subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},i.set(r,s)}return s}const Lx=t=>Zg(t)&&Object.getOwnPropertyNames(t).some((e=>vm(t[e])));const jx=["top","bottom","left","right","chartArea"];function Fx(t,e){return"top"===t||"bottom"===t||-1===jx.indexOf(t)&&"x"===e}function Vx(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function zx(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),rm(n&&n.onComplete,[t],e)}function Bx(t){const e=t.chart,n=e.options.animation;rm(n&&n.onProgress,[t],e)}function Ux(t){return fy()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Hx={},Wx=t=>{const e=Ux(t);return Object.values(Hx).filter((t=>t.canvas===e)).pop()};function qx(t,e,n){const i=Object.keys(t);for(const r of i){const i=+r;if(i>=e){const s=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=s)}}}function Kx(t,e,n){return t.options.clip?t[n]:e[n]}class Qx{static register(){bx.add(...arguments),Gx()}static unregister(){bx.remove(...arguments),Gx()}constructor(t,e){const n=this.config=new Rx(e),i=Ux(t),r=Wx(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(t){return!fy()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?Wb:sx}(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,s.aspectRatio),a=o&&o.canvas,l=a&&a.height,c=a&&a.width;this.id=$g(),this.ctx=o,this.canvas=a,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new xx,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let n;return function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}((t=>this.update(t)),s.resizeDelay||0),this._dataChanges=[],Hx[this.id]=this,o&&a?(zy.listen(this,"complete",zx),zy.listen(this,"progress",Bx),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:i,_aspectRatio:r}=this;return Xg(t)?e&&r?r:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return bx}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Sy(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Sv(this.canvas,this.ctx),this}stop(){return zy.stop(this),this}resize(t,e){zy.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,t,e,r),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,Sy(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),rm(n.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){sm(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,i=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let r=[];e&&(r=r.concat(Object.keys(e).map((t=>{const n=e[t],i=Ex(t,n),r="r"===i,s="x"===i;return{options:n,dposition:r?"chartArea":s?"bottom":"left",dtype:r?"radialLinear":s?"category":"linear"}})))),sm(r,(e=>{const r=e.options,s=r.id,o=Ex(s,r),a=nm(r.type,e.dtype);void 0!==r.position&&Fx(r.position,o)===Fx(e.dposition)||(r.position=e.dposition),i[s]=!0;let l=null;if(s in n&&n[s].type===a)l=n[s];else{l=new(bx.getScale(a))({id:s,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(r,t)})),sm(i,((t,e)=>{t||delete n[e]})),sm(n,(t=>{Ub.configure(this,t,t.options),Ub.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(Vx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=e.length;n<i;n++){const i=e[n];let r=this.getDatasetMeta(n);const s=i.type||this.config.type;if(r.type&&r.type!==s&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=s,r.indexAxis=i.indexAxis||Sx(s,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const e=bx.getController(s),{datasetElementType:i,dataElementType:o}=bv.datasets[s];Object.assign(e,{dataElementType:bx.getElement(o),datasetElementType:i&&bx.getElement(i)}),r.controller=new e(this,n),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){sm(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:t}=this.getDatasetMeta(l),e=!i&&-1===r.indexOf(t);t.buildOrUpdateElements(e),s=Math.max(+t.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),i||sm(r,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Vx("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){sm(this.scales,(t=>{Ub.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);ym(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of e){qx(t,i,"_removeElements"===n?-r:r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),i=n(0);for(let r=1;r<e;r++)if(!ym(i,n(r)))return;return Array.from(i).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Ub.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],sm(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,vm(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(zy.has(this)?this.attached&&!zy.running(this)&&zy.start(this):(this.draw(),zx({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let i,r;for(i=0,r=e.length;i<r;++i){const r=e[i];t&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,i=!n.disabled,r=function(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Kx(n,e,"left"),right:Kx(n,e,"right"),top:Kx(i,e,"top"),bottom:Kx(i,e,"bottom")}:e}(t,this.chartArea),s={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(i&&Tv(e,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),t.controller.draw(),i&&Dv(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return Cv(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,i){const r=Mb.modes[e];return"function"===typeof r?r(this,t,n,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let i=n.filter((t=>t&&t._dataset===e)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=qv(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const i=n?"show":"hide",r=this.getDatasetMeta(t),s=r.controller._resolveAnimations(void 0,i);mm(e)?(r.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),s.update(r,{visible:n}),this.update((e=>e.datasetIndex===t?i:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),zy.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Sv(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Hx[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};sm(this.options.events,(t=>n(t,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(n,i)=>{t[n]&&(e.removeEventListener(this,n,i),delete t[n])},r=(t,e)=>{this.canvas&&this.resize(t,e)};let s;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",r),n("detach",s)};s=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",o)},e.isAttached(this.canvas)?o():s()}unbindEvents(){sm(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},sm(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const i=n?"set":"remove";let r,s,o,a;for("dataset"===e&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),o=0,a=t.length;o<a;++o){s=t[o];const e=s&&this.getDatasetMeta(s.datasetIndex).controller;e&&e[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((t=>{let{datasetIndex:e,index:n}=t;const i=this.getDatasetMeta(e);if(!i)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:i.data[n],index:n}}));!om(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,n){const i=this.options.hover,r=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),s=r(e,t),o=n?t:r(t,e);s.length&&this.updateHoverStyle(s,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:i=[],options:r}=this,s=e,o=this._getActiveElements(t,i,n,s),a=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,n,i){return n&&"mouseout"!==t.type?i?e:t:null}(t,this._lastEvent,n,a);n&&(this._lastEvent=null,rm(r.onHover,[t,o,this],this),a&&rm(r.onClick,[t,o,this],this));const c=!om(o,i);return(c||e)&&(this._active=o,this._updateHoverStyles(o,i,e)),this._lastEvent=l,c}_getActiveElements(t,e,n,i){if("mouseout"===t.type)return[];if(!n)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}}function Gx(){return sm(Qx.instances,(t=>t._plugins.invalidate()))}function Yx(t,e,n,i){const r=Vv(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const s=(n-e)/2,o=Math.min(s,i*e/2),a=t=>{const e=(n-Math.min(s,t))*i/2;return Bm(t,0,Math.min(s,e))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Bm(r.innerStart,0,o),innerEnd:Bm(r.innerEnd,0,o)}}function $x(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Xx(t,e,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+i+n-c,0),d=u>0?u+i+n+c:0;let f=0;const p=r-l;if(i){const t=((u>0?u-i:0)+(h>0?h-i:0))/2;f=(p-(0!==t?p*t/(t+i):p))/2}const g=(p-Math.max(.001,p*h-n/bm)/h)/2,m=l+g+f,v=r-g-f,{outerStart:y,outerEnd:b,innerStart:x,innerEnd:w}=Yx(e,d,h,v-m),_=h-y,S=h-b,k=m+y/_,E=v-b/S,C=d+x,T=d+w,D=m+x/C,M=v-w/T;if(t.beginPath(),s){const e=(k+E)/2;if(t.arc(o,a,h,k,e),t.arc(o,a,h,e,E),b>0){const e=$x(S,E,o,a);t.arc(e.x,e.y,b,E,v+km)}const n=$x(T,v,o,a);if(t.lineTo(n.x,n.y),w>0){const e=$x(T,M,o,a);t.arc(e.x,e.y,w,v+km,M+Math.PI)}const i=(v-w/d+(m+x/d))/2;if(t.arc(o,a,d,v-w/d,i,!0),t.arc(o,a,d,i,m+x/d,!0),x>0){const e=$x(C,D,o,a);t.arc(e.x,e.y,x,D+Math.PI,m-km)}const r=$x(_,m,o,a);if(t.lineTo(r.x,r.y),y>0){const e=$x(_,k,o,a);t.arc(e.x,e.y,y,m-km,k)}}else{t.moveTo(o,a);const e=Math.cos(k)*h+o,n=Math.sin(k)*h+a;t.lineTo(e,n);const i=Math.cos(E)*h+o,r=Math.sin(E)*h+a;t.lineTo(i,r)}t.closePath()}function Jx(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=l,f="inner"===l.borderAlign;if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=d,f?(t.lineWidth=2*c,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(s){Xx(t,e,n,i,p,r);for(let e=0;e<s;++e)t.stroke();isNaN(a)||(p=o+(a%xm||xm))}f&&function(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=r/a;t.beginPath(),t.arc(s,o,a,i-c,n+c),l>r?(c=r/l,t.arc(s,o,l,n+c,i-c,!0)):t.arc(s,o,r,n+km,i-km),t.closePath(),t.clip()}(t,e,p),s||(Xx(t,e,n,i,p,r),t.stroke())}gg(Qx,"defaults",bv),gg(Qx,"instances",Hx),gg(Qx,"overrides",pv),gg(Qx,"registry",bx),gg(Qx,"version","4.4.3"),gg(Qx,"getChart",Wx);class Zx extends ox{constructor(t){super(),gg(this,"circumference",void 0),gg(this,"endAngle",void 0),gg(this,"fullCircles",void 0),gg(this,"innerRadius",void 0),gg(this,"outerRadius",void 0),gg(this,"pixelMargin",void 0),gg(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.getProps(["x","y"],n),{angle:r,distance:s}=Lm(i,{x:t,y:e}),{startAngle:o,endAngle:a,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,d=nm(u,a-o)>=xm||zm(r,o,a),f=Um(s,l+h,c+h);return d&&f}getCenterPoint(t){const{x:e,y:n,startAngle:i,endAngle:r,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:a,spacing:l}=this.options,c=(i+r)/2,u=(s+o+l+a)/2;return{x:e+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,i=(e.offset||0)/4,r=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>xm?Math.floor(n/xm):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();const o=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(o)*i,Math.sin(o)*i);const a=i*(1-Math.sin(Math.min(bm,n||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){Xx(t,e,n,i,l,r);for(let e=0;e<s;++e)t.fill();isNaN(a)||(l=o+(a%xm||xm))}Xx(t,e,n,i,l,r),t.fill()}(t,this,a,r,s),Jx(t,this,a,r,s),t.restore()}}function tw(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;t.lineCap=nm(n.borderCapStyle,e.borderCapStyle),t.setLineDash(nm(n.borderDash,e.borderDash)),t.lineDashOffset=nm(n.borderDashOffset,e.borderDashOffset),t.lineJoin=nm(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=nm(n.borderWidth,e.borderWidth),t.strokeStyle=nm(n.borderColor,e.borderColor)}function ew(t,e,n){t.lineTo(n.x,n.y)}function nw(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function iw(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=nw(r,n,i),u=function(t){return t.stepped?Mv:t.tension||"monotone"===t.cubicInterpolationMode?Iv:ew}(s);let h,d,f,{move:p=!0,reverse:g}=i||{};for(h=0;h<=c;++h)d=r[(a+(g?c-h:h))%o],d.skip||(p?(t.moveTo(d.x,d.y),p=!1):u(t,f,d,g,s.stepped),f=d);return l&&(d=r[(a+(g?c:0))%o],u(t,f,d,g,s.stepped)),!!l}function rw(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=nw(r,n,i),{move:l=!0,reverse:c}=i||{};let u,h,d,f,p,g,m=0,v=0;const y=t=>(o+(c?a-t:t))%s,b=()=>{f!==p&&(t.lineTo(m,p),t.lineTo(m,f),t.lineTo(m,g))};for(l&&(h=r[y(0)],t.moveTo(h.x,h.y)),u=0;u<=a;++u){if(h=r[y(u)],h.skip)continue;const e=h.x,n=h.y,i=0|e;i===d?(n<f?f=n:n>p&&(p=n),m=(v*m+e)/++v):(b(),t.lineTo(e,n),d=i,v=0,f=p=n),g=n}b()}function sw(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n?rw:iw}gg(Zx,"id","arc"),gg(Zx,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),gg(Zx,"defaultRoutes",{backgroundColor:"backgroundColor"}),gg(Zx,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t});const ow="function"===typeof Path2D;function aw(t,e,n,i){ow&&!e.options.segment?function(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),tw(t,e.options),t.stroke(r)}(t,e,n,i):function(t,e,n,i){const{segments:r,options:s}=e,o=sw(e);for(const a of r)tw(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}(t,e,n,i)}class lw extends ox{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;dy(this._points,n,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=function(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}(n,r,s,i);return Ly(t,!0===i?[{start:o,end:a,loop:s}]:function(t,e,n,i){const r=t.length,s=[];let o,a=e,l=t[e];for(o=e+1;o<=n;++o){const n=t[o%r];n.skip||n.stop?l.skip||(i=!1,s.push({start:e%r,end:(o-1)%r,loop:i}),e=a=n.stop?o:null):(a=o,l.skip&&(e=o)),l=n}return null!==a&&s.push({start:e%r,end:a%r,loop:i}),s}(n,o,a<o?a+r:a,!!t._fullLoop&&0===o&&a===r-1),n,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,i=t[e],r=this.points,s=Oy(this,{property:e,start:i,end:i});if(!s.length)return;const o=[],a=function(t){return t.stepped?Ty:t.tension||"monotone"===t.cubicInterpolationMode?Dy:Cy}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:u}=s[l],h=r[c],d=r[u];if(h===d){o.push(h);continue}const f=a(h,d,Math.abs((i-h[e])/(d[e]-h[e])),n.stepped);f[e]=t[e],o.push(f)}return 1===o.length?o[0]:o}pathSegment(t,e,n){return sw(this)(t,this,e,n)}path(t,e,n){const i=this.segments,r=sw(this);let s=this._loop;e=e||0,n=n||this.points.length-e;for(const o of i)s&=r(t,this,o,{start:e,end:e+n-1});return!!s}draw(t,e,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),aw(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function cw(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}gg(lw,"id","line"),gg(lw,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),gg(lw,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),gg(lw,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t});class uw extends ox{constructor(t){super(),gg(this,"parsed",void 0),gg(this,"skip",void 0),gg(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.options,{x:r,y:s}=this.getProps(["x","y"],n);return Math.pow(t-r,2)+Math.pow(e-s,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return cw(this,t,"x",e)}inYRange(t,e){return cw(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this.options;this.skip||n.radius<.1||!Cv(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,kv(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function hw(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-h,u=i+h):(h=s/2,a=n-h,l=n+h,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function dw(t,e,n,i){return t?0:Bm(e,n,i)}function fw(t){const e=hw(t),n=e.right-e.left,i=e.bottom-e.top,r=function(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=zv(i);return{t:dw(r.top,s.top,0,n),r:dw(r.right,s.right,0,e),b:dw(r.bottom,s.bottom,0,n),l:dw(r.left,s.left,0,e)}}(t,n/2,i/2),s=function(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=Bv(r),o=Math.min(e,n),a=t.borderSkipped,l=i||Zg(r);return{topLeft:dw(!l||a.top||a.left,s.topLeft,0,o),topRight:dw(!l||a.top||a.right,s.topRight,0,o),bottomLeft:dw(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:dw(!l||a.bottom||a.right,s.bottomRight,0,o)}}(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function pw(t,e,n,i){const r=null===e,s=null===n,o=t&&!(r&&s)&&hw(t,i);return o&&(r||Um(e,o.left,o.right))&&(s||Um(n,o.top,o.bottom))}function gw(t,e){t.rect(e.x,e.y,e.w,e.h)}function mw(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}gg(uw,"id","point"),gg(uw,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),gg(uw,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class vw extends ox{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:s}=fw(this),o=(a=s.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?Rv:gw;var a;t.save(),s.w===r.w&&s.h===r.h||(t.beginPath(),o(t,mw(s,e,r)),t.clip(),o(t,mw(r,-e,s)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),o(t,mw(r,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,n){return pw(this,t,e,n)}inXRange(t,e){return pw(this,t,null,e)}inYRange(t,e){return pw(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+i)/2:e,y:r?n:(n+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}gg(vw,"id","bar"),gg(vw,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),gg(vw,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var yw=Object.freeze({__proto__:null,ArcElement:Zx,BarElement:vw,LineElement:lw,PointElement:uw});const bw=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],xw=bw.map((t=>t.replace("rgb(","rgba(").replace(")",", 0.5)")));function ww(t){return bw[t%bw.length]}function _w(t){return xw[t%xw.length]}function Sw(t){let e=0;return(n,i)=>{const r=t.getDatasetMeta(i).controller;r instanceof fb?e=function(t,e){return t.backgroundColor=t.data.map((()=>ww(e++))),e}(n,e):r instanceof gb?e=function(t,e){return t.backgroundColor=t.data.map((()=>_w(e++))),e}(n,e):r&&(e=function(t,e){return t.borderColor=ww(e),t.backgroundColor=_w(e),++e}(n,e))}}function kw(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}var Ew={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:r}=t.config,{elements:s}=r;if(!n.forceOverride&&(kw(i)||(o=r)&&(o.borderColor||o.backgroundColor)||s&&kw(s)))return;var o;const a=Sw(t);i.forEach(a)}};function Cw(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Tw(t){t.data.datasets.forEach((t=>{Cw(t)}))}var Dw={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled)return void Tw(t);const i=t.width;t.data.datasets.forEach(((e,r)=>{const{_data:s,indexAxis:o}=e,a=t.getDatasetMeta(r),l=s||e.data;if("y"===Wv([o,t.options.indexAxis]))return;if(!a.controller.supportsDecimation)return;const c=t.scales[a.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(t.options.parsing)return;let{start:u,count:h}=function(t,e){const n=e.length;let i,r=0;const{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(r=Bm(Wm(e,s.axis,o).lo,0,n-1)),i=c?Bm(Wm(e,s.axis,a).hi+1,r,n)-r:n-r,{start:r,count:i}}(a,l);if(h<=(n.threshold||4*i))return void Cw(e);let d;switch(Xg(s)&&(e._data=l,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),n.algorithm){case"lttb":d=function(t,e,n,i,r){const s=r.samples||i;if(s>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(s-2);let l=0;const c=e+n-1;let u,h,d,f,p,g=e;for(o[l++]=t[g],u=0;u<s-2;u++){let i,r=0,s=0;const c=Math.floor((u+1)*a)+1+e,m=Math.min(Math.floor((u+2)*a)+1,n)+e,v=m-c;for(i=c;i<m;i++)r+=t[i].x,s+=t[i].y;r/=v,s/=v;const y=Math.floor(u*a)+1+e,b=Math.min(Math.floor((u+1)*a)+1,n)+e,{x:x,y:w}=t[g];for(d=f=-1,i=y;i<b;i++)f=.5*Math.abs((x-r)*(t[i].y-w)-(x-t[i].x)*(s-w)),f>d&&(d=f,h=t[i],p=i);o[l++]=h,g=p}return o[l++]=t[c],o}(l,u,h,i,n);break;case"min-max":d=function(t,e,n,i){let r,s,o,a,l,c,u,h,d,f,p=0,g=0;const m=[],v=e+n-1,y=t[e].x,b=t[v].x-y;for(r=e;r<e+n;++r){s=t[r],o=(s.x-y)/b*i,a=s.y;const e=0|o;if(e===l)a<d?(d=a,c=r):a>f&&(f=a,u=r),p=(g*p+s.x)/++g;else{const n=r-1;if(!Xg(c)&&!Xg(u)){const e=Math.min(c,u),i=Math.max(c,u);e!==h&&e!==n&&m.push({...t[e],x:p}),i!==h&&i!==n&&m.push({...t[i],x:p})}r>0&&n!==h&&m.push(t[n]),m.push(s),l=e,g=0,d=f=a,c=u=h=r}}return m}(l,u,h,i);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}e._decimated=d}))},destroy(t){Tw(t)}};function Mw(t,e,n,i){if(i)return;let r=e[t],s=n[t];return"angle"===t&&(r=Vm(r),s=Vm(s)),{property:t,start:r,end:s}}function Iw(t,e,n){for(;e>t;e--){const t=n[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function Nw(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function Aw(t,e){let n=[],i=!1;return Jg(t)?(i=!0,n=t):n=function(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach((t=>{let{start:e,end:o}=t;o=Iw(e,o,r);const a=r[e],l=r[o];null!==i?(s.push({x:a.x,y:i}),s.push({x:l.x,y:i})):null!==n&&(s.push({x:n,y:a.y}),s.push({x:n,y:l.y}))})),s}(t,e),n.length?new lw({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Pw(t){return t&&!1!==t.fill}function Rw(t,e,n){let i=t[e].fill;const r=[e];let s;if(!n)return i;for(;!1!==i&&-1===r.indexOf(i);){if(!tm(i))return i;if(s=t[i],!s)return!1;if(s.visible)return i;r.push(i),i=s.fill}return!1}function Ow(t,e,n){const i=function(t){const e=t.options,n=e.fill;let i=nm(n&&n.target,n);void 0===i&&(i=!!e.backgroundColor);if(!1===i||null===i)return!1;if(!0===i)return"origin";return i}(t);if(Zg(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return tm(r)&&Math.floor(r)===r?function(t,e,n,i){"-"!==t&&"+"!==t||(n=e+n);if(n===e||n<0||n>=i)return!1;return n}(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Lw(t,e,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:a,point:l}=jw(s,e,"x");if(!(!l||o&&a))if(o)i.unshift(l);else if(t.push(l),!a)break}t.push(...i)}function jw(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const t=s[c],e=o[t.start][n],i=o[t.end][n];if(Um(r,e,i)){a=r===e,l=r===i;break}}return{first:a,last:l,point:i}}class Fw{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:i,y:r,radius:s}=this;return e=e||{start:0,end:xm},t.arc(i,r,s,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:i}=this,r=t.angle;return{x:e+Math.cos(r)*i,y:n+Math.sin(r)*i,angle:r}}}function Vw(t){const{chart:e,fill:n,line:i}=t;if(tm(n))return function(t,e){const n=t.getDatasetMeta(e),i=n&&t.isDatasetVisible(e);return i?n.dataset:null}(e,n);if("stack"===n)return function(t){const{scale:e,index:n,line:i}=t,r=[],s=i.segments,o=i.points,a=function(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const t=i[r];if(t.index===e)break;t.hidden||n.unshift(t.dataset)}return n}(e,n);a.push(Aw({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const t=s[l];for(let e=t.start;e<=t.end;e++)Lw(r,o[e],a)}return new lw({points:r,options:{}})}(t);if("shape"===n)return!0;const r=function(t){const e=t.scale||{};if(e.getPointPositionForValue)return function(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=function(t,e,n){let i;return i="start"===t?n:"end"===t?e.options.reverse?e.min:e.max:Zg(t)?t.value:e.getBaseValue(),i}(n,e,s),a=[];if(i.grid.circular){const t=e.getPointPositionForValue(0,s);return new Fw({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}(t);return function(t){const{scale:e={},fill:n}=t,i=function(t,e){let n=null;return"start"===t?n=e.bottom:"end"===t?n=e.top:Zg(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}(n,e);if(tm(i)){const t=e.isHorizontal();return{x:t?i:null,y:t?null:i}}return null}(t)}(t);return r instanceof Fw?r:Aw(r,i)}function zw(t,e,n){const i=Vw(e),{line:r,scale:s,axis:o}=e,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&r.points.length&&(Tv(t,n),function(t,e){const{line:n,target:i,above:r,below:s,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),"x"===l&&s!==r&&(Bw(t,i,o.top),Uw(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore(),t.save(),Bw(t,i,o.bottom));Uw(t,{line:n,target:i,color:s,scale:a,property:l}),t.restore()}(t,{line:r,target:i,above:u,below:h,area:n,scale:s,axis:o}),Dv(t))}function Bw(t,e,n){const{segments:i,points:r}=e;let s=!0,o=!1;t.beginPath();for(const a of i){const{start:i,end:l}=a,c=r[i],u=r[Iw(i,l,r)];s?(t.moveTo(c.x,c.y),s=!1):(t.lineTo(c.x,n),t.lineTo(c.x,c.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(u.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Uw(t,e){const{line:n,target:i,property:r,color:s,scale:o}=e,a=function(t,e,n){const i=t.segments,r=t.points,s=e.points,o=[];for(const a of i){let{start:t,end:i}=a;i=Iw(t,i,r);const l=Mw(n,r[t],r[i],a.loop);if(!e.segments){o.push({source:a,target:l,start:r[t],end:r[i]});continue}const c=Oy(e,l);for(const e of c){const t=Mw(n,s[e.start],s[e.end],e.loop),i=Ry(a,r,t);for(const r of i)o.push({source:r,target:e,start:{[n]:Nw(l,t,"start",Math.max)},end:{[n]:Nw(l,t,"end",Math.min)}})}}return o}(n,i,r);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:e=s}={}}=l,a=!0!==i;t.save(),t.fillStyle=e,Hw(t,o,a&&Mw(r,u,h)),t.beginPath();const d=!!n.pathSegment(t,l);let f;if(a){d?t.closePath():Ww(t,i,h,r);const e=!!i.pathSegment(t,c,{move:d,reverse:!0});f=d&&e,f||Ww(t,i,u,r)}t.closePath(),t.fill(f?"evenodd":"nonzero"),t.restore()}}function Hw(t,e,n){const{top:i,bottom:r}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};"x"===s&&(t.beginPath(),t.rect(o,i,a-o,r-i),t.clip())}function Ww(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var qw={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof lw&&(l={visible:t.isDatasetVisible(o),index:o,fill:Ow(a,o,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],l&&!1!==l.fill&&(l.fill=Rw(r,o,n.propagate))},beforeDraw(t,e,n){const i="beforeDraw"===n.drawTime,r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){const e=r[o].$filler;e&&(e.line.updateControlPoints(s,e.axis),i&&e.fill&&zw(t.ctx,e,s))}},beforeDatasetsDraw(t,e,n){if("beforeDatasetsDraw"!==n.drawTime)return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const e=i[r].$filler;Pw(e)&&zw(t.ctx,e,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;Pw(i)&&"beforeDatasetDraw"===n.drawTime&&zw(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Kw=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}};class Qw extends ox{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=rm(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,i=Hv(n.font),r=i.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=Kw(n,r);let l,c;e.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,r,o,a)+10):(c=this.maxHeight,l=this._fitCols(s,i,o,a)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,i){const{ctx:r,maxWidth:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+o;let u=t;r.textAlign="left",r.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((t,f)=>{const p=n+e/2+r.measureText(t.text).width;(0===f||l[l.length-1]+p+2*o>s)&&(u+=c,l[l.length-(f>0?0:1)]=0,d+=c,h++),a[f]={left:0,top:d,row:h,width:p,height:i},l[l.length-1]+=p+o})),u}_fitCols(t,e,n,i){const{ctx:r,maxHeight:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-t;let u=o,h=0,d=0,f=0,p=0;return this.legendItems.forEach(((t,s)=>{const{itemWidth:g,itemHeight:m}=function(t,e,n,i,r){const s=function(t,e,n,i){let r=t.text;r&&"string"!==typeof r&&(r=r.reduce(((t,e)=>t.length>e.length?t:e)));return e+n.size/2+i.measureText(r).width}(i,t,e,n),o=function(t,e,n){let i=t;"string"!==typeof e.text&&(i=Gw(e,n));return i}(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}(n,e,r,t,i);s>0&&d+m+2*o>c&&(u+=h+o,l.push({width:h,height:d}),f+=h+o,p++,h=d=0),a[s]={left:f,top:d,col:p,width:g,height:m},h=Math.max(h,g),d+=m+o})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:i},rtl:r}}=this,s=My(r,this.left,this.width);if(this.isHorizontal()){let r=0,o=Jm(n,this.left+i,this.right-this.lineWidths[r]);for(const a of e)r!==a.row&&(r=a.row,o=Jm(n,this.left+i,this.right-this.lineWidths[r])),a.top+=this.top+t+i,a.left=s.leftForLtr(s.x(o),a.width),o+=a.width+i}else{let r=0,o=Jm(n,this.top+t+i,this.bottom-this.columnSizes[r].height);for(const a of e)a.col!==r&&(r=a.col,o=Jm(n,this.top+t+i,this.bottom-this.columnSizes[r].height)),a.top=o,a.left+=this.left+i,a.left=s.leftForLtr(s.x(a.left),a.width),o+=a.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Tv(t,this),this._draw(),Dv(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:i}=this,{align:r,labels:s}=t,o=bv.color,a=My(t.rtl,this.left,this.width),l=Hv(s.font),{padding:c}=s,u=l.size,h=u/2;let d;this.drawTitle(),i.textAlign=a.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:g}=Kw(s,u),m=this.isHorizontal(),v=this._computeTitleHeight();d=m?{x:Jm(r,this.left+c,this.right-n[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:Jm(r,this.top+v+c,this.bottom-e[0].height),line:0},Iy(this.ctx,t.textDirection);const y=g+c;this.legendItems.forEach(((b,x)=>{i.strokeStyle=b.fontColor,i.fillStyle=b.fontColor;const w=i.measureText(b.text).width,_=a.textAlign(b.textAlign||(b.textAlign=s.textAlign)),S=f+h+w;let k=d.x,E=d.y;a.setWidth(this.width),m?x>0&&k+S+c>this.right&&(E=d.y+=y,d.line++,k=d.x=Jm(r,this.left+c,this.right-n[d.line])):x>0&&E+y>this.bottom&&(k=d.x=k+e[d.line].width+c,d.line++,E=d.y=Jm(r,this.top+v+c,this.bottom-e[d.line].height));if(function(t,e,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;i.save();const r=nm(n.lineWidth,1);if(i.fillStyle=nm(n.fillStyle,o),i.lineCap=nm(n.lineCap,"butt"),i.lineDashOffset=nm(n.lineDashOffset,0),i.lineJoin=nm(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=nm(n.strokeStyle,o),i.setLineDash(nm(n.lineDash,[])),s.usePointStyle){const o={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},l=a.xPlus(t,f/2);Ev(i,o,l,e+h,s.pointStyleWidth&&f)}else{const s=e+Math.max((u-p)/2,0),o=a.leftForLtr(t,f),l=Bv(n.borderRadius);i.beginPath(),Object.values(l).some((t=>0!==t))?Rv(i,{x:o,y:s,w:f,h:p,radius:l}):i.rect(o,s,f,p),i.fill(),0!==r&&i.stroke()}i.restore()}(a.x(k),E,b),k=((t,e,n,i)=>t===(i?"left":"right")?n:"center"===t?(e+n)/2:e)(_,k+f+h,m?k+S:this.right,t.rtl),function(t,e,n){Pv(i,n.text,t,e+g/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(k),E,b),m)d.x+=S+c;else if("string"!==typeof b.text){const t=l.lineHeight;d.y+=Gw(b,t)+c}else d.y+=y})),Ny(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=Hv(e.font),i=Uv(e.padding);if(!e.display)return;const r=My(t.rtl,this.left,this.width),s=this.ctx,o=e.position,a=n.size/2,l=i.top+a;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=Jm(t.align,u,this.right-h);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);c=l+Jm(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const d=Jm(o,u,u+h);s.textAlign=r.textAlign(Xm(o)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=n.string,Pv(s,e.text,d,c,n)}_computeTitleHeight(){const t=this.options.title,e=Hv(t.font),n=Uv(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,i,r;if(Um(t,this.left,this.right)&&Um(e,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],Um(t,i.left,i.left+i.width)&&Um(e,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const i=this._hoveredItem,r=((t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index)(i,n);i&&!r&&rm(e.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!r&&rm(e.onHover,[t,n,this],this)}else n&&rm(e.onClick,[t,n,this],this)}}function Gw(t,e){return e*(t.text?t.text.length:0)}var Yw={id:"legend",_element:Qw,start(t,e,n){const i=t.legend=new Qw({ctx:t.ctx,options:n,chart:t});Ub.configure(t,i,n),Ub.addBox(t,i)},stop(t){Ub.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Ub.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(n?0:void 0),c=Uv(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class $w extends ox{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const i=Jg(n.text)?n.text.length:1;this._padding=Uv(n.padding);const r=i*Hv(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:i,right:r,options:s}=this,o=s.align;let a,l,c,u=0;return this.isHorizontal()?(l=Jm(o,n,r),c=e+t,a=r-n):("left"===s.position?(l=n+t,c=Jm(o,i,e),u=-.5*bm):(l=r-t,c=Jm(o,e,i),u=.5*bm),a=i-e),{titleX:l,titleY:c,maxWidth:a,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=Hv(e.font),i=n.lineHeight/2+this._padding.top,{titleX:r,titleY:s,maxWidth:o,rotation:a}=this._drawArgs(i);Pv(t,e.text,0,0,n,{color:e.color,maxWidth:o,rotation:a,textAlign:Xm(e.align),textBaseline:"middle",translation:[r,s]})}}var Xw={id:"title",_element:$w,start(t,e,n){!function(t,e){const n=new $w({ctx:t.ctx,options:e,chart:t});Ub.configure(t,n,e),Ub.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){const e=t.titleBlock;Ub.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Ub.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Jw=new WeakMap;var Zw={id:"subtitle",start(t,e,n){const i=new $w({ctx:t.ctx,options:n,chart:t});Ub.configure(t,i,n),Ub.addBox(t,i),Jw.set(t,i)},stop(t){Ub.removeBox(t,Jw.get(t)),Jw.delete(t)},beforeUpdate(t,e,n){const i=Jw.get(t);Ub.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const t_={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();i.add(t.x),r+=t.y,++s}}const o=[...i].reduce(((t,e)=>t+e))/i.size;return{x:o,y:r/s}},nearest(t,e){if(!t.length)return!1;let n,i,r,s=e.x,o=e.y,a=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){const i=t[n].element;if(i&&i.hasValue()){const t=jm(e,i.getCenterPoint());t<a&&(a=t,r=i)}}if(r){const t=r.tooltipPosition();s=t.x,o=t.y}return{x:s,y:o}}};function e_(t,e){return e&&(Jg(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function n_(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function i_(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function r_(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Hv(e.bodyFont),c=Hv(e.titleFont),u=Hv(e.footerFont),h=s.length,d=r.length,f=i.length,p=Uv(e.padding);let g=p.height,m=0,v=i.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){g+=f*(e.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(v-f)*l.lineHeight+(v-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let y=0;const b=function(t){m=Math.max(m,n.measureText(t).width+y)};return n.save(),n.font=c.string,sm(t.title,b),n.font=l.string,sm(t.beforeBody.concat(t.afterBody),b),y=e.displayColors?o+2+e.boxPadding:0,sm(i,(t=>{sm(t.before,b),sm(t.lines,b),sm(t.after,b)})),y=0,n.font=u.string,sm(t.footer,b),n.restore(),m+=p.width,{width:m,height:g}}function s_(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return"center"===i?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),function(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;return"left"===t&&r+s+o>e.width||"right"===t&&r-s-o<0||void 0}(c,t,e,n)&&(c="center"),c}function o_(t,e,n){const i=n.yAlign||e.yAlign||function(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||s_(t,e,n,i),yAlign:i}}function a_(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Bv(o);let p=function(t,e){let{x:n,width:i}=t;return"right"===e?n-=i:"center"===e&&(n-=i/2),n}(e,a);const g=function(t,e,n){let{y:i,height:r}=t;return"top"===e?i+=n:i-="bottom"===e?r+n:r/2,i}(e,l,c);return"center"===l?"left"===a?p+=c:"right"===a&&(p-=c):"left"===a?p-=Math.max(u,d)+r:"right"===a&&(p+=Math.max(h,f)+r),{x:Bm(p,0,i.width-e.width),y:Bm(g,0,i.height-e.height)}}function l_(t,e,n){const i=Uv(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.right:t.x+i.left}function c_(t){return e_([],n_(t))}function u_(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const h_={beforeTitle:Yg,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Yg,beforeBody:Yg,beforeLabel:Yg,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Xg(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Yg,afterBody:Yg,beforeFooter:Yg,footer:Yg,afterFooter:Yg};function d_(t,e,n,i){const r=t[e].call(n,i);return"undefined"===typeof r?h_[e].call(n,i):r}class f_ extends ox{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&e.options.animation&&n.animations,r=new Wy(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,n=this._tooltipItems,qv(t,{tooltip:e,tooltipItems:n,type:"tooltip"})));var t,e,n}getTitle(t,e){const{callbacks:n}=e,i=d_(n,"beforeTitle",this,t),r=d_(n,"title",this,t),s=d_(n,"afterTitle",this,t);let o=[];return o=e_(o,n_(i)),o=e_(o,n_(r)),o=e_(o,n_(s)),o}getBeforeBody(t,e){return c_(d_(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,i=[];return sm(t,(t=>{const e={before:[],lines:[],after:[]},r=u_(n,t);e_(e.before,n_(d_(r,"beforeLabel",this,t))),e_(e.lines,d_(r,"label",this,t)),e_(e.after,n_(d_(r,"afterLabel",this,t))),i.push(e)})),i}getAfterBody(t,e){return c_(d_(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,i=d_(n,"beforeFooter",this,t),r=d_(n,"footer",this,t),s=d_(n,"afterFooter",this,t);let o=[];return o=e_(o,n_(i)),o=e_(o,n_(r)),o=e_(o,n_(s)),o}_createItems(t){const e=this._active,n=this.chart.data,i=[],r=[],s=[];let o,a,l=[];for(o=0,a=e.length;o<a;++o)l.push(i_(this.chart,e[o]));return t.filter&&(l=l.filter(((e,i,r)=>t.filter(e,i,r,n)))),t.itemSort&&(l=l.sort(((e,i)=>t.itemSort(e,i,n)))),sm(l,(e=>{const n=u_(t.callbacks,e);i.push(d_(n,"labelColor",this,e)),r.push(d_(n,"labelPointStyle",this,e)),s.push(d_(n,"labelTextColor",this,e))})),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=s,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),i=this._active;let r,s=[];if(i.length){const t=t_[n.position].call(this,i,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const e=this._size=r_(this,n),o=Object.assign({},t,e),a=o_(this.chart,n,o),l=a_(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,r={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=s,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,i){const r=this.getCaretPosition(t,n,i);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,n){const{xAlign:i,yAlign:r}=this,{caretSize:s,cornerRadius:o}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:u}=Bv(o),{x:h,y:d}=t,{width:f,height:p}=e;let g,m,v,y,b,x;return"center"===r?(b=d+p/2,"left"===i?(g=h,m=g-s,y=b+s,x=b-s):(g=h+f,m=g+s,y=b-s,x=b+s),v=g):(m="left"===i?h+Math.max(a,c)+s:"right"===i?h+f-Math.max(l,u)-s:this.caretX,"top"===r?(y=d,b=y-s,g=m-s,v=m+s):(y=d+p,b=y+s,g=m+s,v=m-s),x=y),{x1:g,x2:m,x3:v,y1:y,y2:b,y3:x}}drawTitle(t,e,n){const i=this.title,r=i.length;let s,o,a;if(r){const l=My(n.rtl,this.x,this.width);for(t.x=l_(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",s=Hv(n.titleFont),o=n.titleSpacing,e.fillStyle=n.titleColor,e.font=s.string,a=0;a<r;++a)e.fillText(i[a],l.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+o,a+1===r&&(t.y+=n.titleMarginBottom-o)}}_drawColorBox(t,e,n,i,r){const s=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=r,c=Hv(r.bodyFont),u=l_(this,"left",r),h=i.x(u),d=a<c.lineHeight?(c.lineHeight-a)/2:0,f=e.y+d;if(r.usePointStyle){const e={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=i.leftForLtr(h,l)+l/2,c=f+a/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,kv(t,e,n,c),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,kv(t,e,n,c)}else{t.lineWidth=Zg(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const e=i.leftForLtr(h,l),n=i.leftForLtr(i.xPlus(h,1),l-2),o=Bv(s.borderRadius);Object.values(o).some((t=>0!==t))?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Rv(t,{x:e,y:f,w:l,h:a,radius:o}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),Rv(t,{x:n,y:f+1,w:l-2,h:a-2,radius:o}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(e,f,l,a),t.strokeRect(e,f,l,a),t.fillStyle=s.backgroundColor,t.fillRect(n,f+1,l-2,a-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:i}=this,{bodySpacing:r,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:c}=n,u=Hv(n.bodyFont);let h=u.lineHeight,d=0;const f=My(n.rtl,this.x,this.width),p=function(n){e.fillText(n,f.x(t.x+d),t.y+h/2),t.y+=h+r},g=f.textAlign(s);let m,v,y,b,x,w,_;for(e.textAlign=s,e.textBaseline="middle",e.font=u.string,t.x=l_(this,g,n),e.fillStyle=n.bodyColor,sm(this.beforeBody,p),d=o&&"right"!==g?"center"===s?l/2+c:l+2+c:0,b=0,w=i.length;b<w;++b){for(m=i[b],v=this.labelTextColors[b],e.fillStyle=v,sm(m.before,p),y=m.lines,o&&y.length&&(this._drawColorBox(e,t,b,f,n),h=Math.max(u.lineHeight,a)),x=0,_=y.length;x<_;++x)p(y[x]),h=u.lineHeight;sm(m.after,p)}d=0,h=u.lineHeight,sm(this.afterBody,p),t.y-=r}drawFooter(t,e,n){const i=this.footer,r=i.length;let s,o;if(r){const a=My(n.rtl,this.x,this.width);for(t.x=l_(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=a.textAlign(n.footerAlign),e.textBaseline="middle",s=Hv(n.footerFont),e.fillStyle=n.footerColor,e.font=s.string,o=0;o<r;++o)e.fillText(i[o],a.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+n.footerSpacing}}drawBackground(t,e,n,i){const{xAlign:r,yAlign:s}=this,{x:o,y:a}=t,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Bv(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(o+u,a),"top"===s&&this.drawCaret(t,e,n,i),e.lineTo(o+l-h,a),e.quadraticCurveTo(o+l,a,o+l,a+h),"center"===s&&"right"===r&&this.drawCaret(t,e,n,i),e.lineTo(o+l,a+c-f),e.quadraticCurveTo(o+l,a+c,o+l-f,a+c),"bottom"===s&&this.drawCaret(t,e,n,i),e.lineTo(o+d,a+c),e.quadraticCurveTo(o,a+c,o,a+c-d),"center"===s&&"left"===r&&this.drawCaret(t,e,n,i),e.lineTo(o,a+u),e.quadraticCurveTo(o,a,o+u,a),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=t_[t.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=r_(this,t),o=Object.assign({},n,this._size),a=o_(e,t,o),l=a_(t,o,a,e);i._to===l.x&&r._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=Uv(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=n,this.drawBackground(r,t,i,e),Iy(t,e.textDirection),r.y+=s.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),Ny(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,i=t.map((t=>{let{datasetIndex:e,index:n}=t;const i=this.chart.getDatasetMeta(e);if(!i)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:i.data[n],index:n}})),r=!om(n,i),s=this._positionChanged(i,e);(r||s)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],s=this._getActiveElements(t,r,e,n),o=this._positionChanged(s,t),a=e||!om(s,r)||o;return a&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,n,i){const r=this.options;if("mouseout"===t.type)return[];if(!i)return e.filter((t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index)));const s=this.chart.getElementsAtEventForMode(t,r.mode,r,n);return r.reverse&&s.reverse(),s}_positionChanged(t,e){const{caretX:n,caretY:i,options:r}=this,s=t_[r.position].call(this,t,e);return!1!==s&&(n!==s.x||i!==s.y)}}gg(f_,"positioners",t_);var p_={id:"tooltip",_element:f_,positioners:t_,afterInit(t,e,n){n&&(t.tooltip=new f_({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:h_},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},g_=Object.freeze({__proto__:null,Colors:Ew,Decimation:Dw,Filler:qw,Legend:Yw,SubTitle:Zw,Title:Xw,Tooltip:p_});function m_(t,e,n,i){const r=t.indexOf(e);if(-1===r)return((t,e,n,i)=>("string"===typeof e?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,i);return r!==t.lastIndexOf(e)?n:r}function v_(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class y_ extends mx{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:i}of e)t[n]===i&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Xg(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:Bm(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:m_(n,t,nm(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===t&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=t;s<=e;s++)i.push({value:s});return i}getLabelForValue(t){return v_.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function b_(t,e){const n=[],{bounds:i,step:r,min:s,max:o,precision:a,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=t,d=r||1,f=c-1,{min:p,max:g}=e,m=!Xg(s),v=!Xg(o),y=!Xg(l),b=(g-p)/(u+1);let x,w,_,S,k=Im((g-p)/f/d)*d;if(k<1e-14&&!m&&!v)return[{value:p},{value:g}];S=Math.ceil(g/k)-Math.floor(p/k),S>f&&(k=Im(S*k/f/d)*d),Xg(a)||(x=Math.pow(10,a),k=Math.ceil(k*x)/x),"ticks"===i?(w=Math.floor(p/k)*k,_=Math.ceil(g/k)*k):(w=p,_=g),m&&v&&r&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((o-s)/r,k/1e3)?(S=Math.round(Math.min((o-s)/k,c)),k=(o-s)/S,w=s,_=o):y?(w=m?s:w,_=v?o:_,S=l-1,k=(_-w)/S):(S=(_-w)/k,S=Mm(S,Math.round(S),k/1e3)?Math.round(S):Math.ceil(S));const E=Math.max(Om(k),Om(w));x=Math.pow(10,Xg(a)?E:a),w=Math.round(w*x)/x,_=Math.round(_*x)/x;let C=0;for(m&&(h&&w!==s?(n.push({value:s}),w<s&&C++,Mm(Math.round((w+C*k)*x)/x,s,x_(s,b,t))&&C++):w<s&&C++);C<S;++C){const t=Math.round((w+C*k)*x)/x;if(v&&t>o)break;n.push({value:t})}return v&&h&&_!==o?n.length&&Mm(n[n.length-1].value,o,x_(o,b,t))?n[n.length-1].value=o:n.push({value:o}):v&&_!==o||n.push({value:_}),n}function x_(t,e,n){let{horizontal:i,minRotation:r}=n;const s=Pm(r),o=(i?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/o,a)}gg(y_,"id","category"),gg(y_,"defaults",{ticks:{callback:v_}});class w_ extends mx{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Xg(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const s=t=>i=e?i:t,o=t=>r=n?r:t;if(t){const t=Dm(i),e=Dm(r);t<0&&e<0?o(0):t>0&&e>0&&s(0)}if(i===r){let e=0===r?1:Math.abs(.05*r);o(r+e),t||s(i-e)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:i}=t;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,e>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(i," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=b_({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&Am(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-e)/Math.max(t.length-1,1)/2;e-=i,n+=i}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return hv(t,this.chart.options.locale,this.options.ticks.format)}}class __ extends w_{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=tm(t)?t:0,this.max=tm(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=Pm(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}gg(__,"id","linear"),gg(__,"defaults",{ticks:{callback:fv.formatters.numeric}});const S_=t=>Math.floor(Tm(t)),k_=(t,e)=>Math.pow(10,S_(t)+e);function E_(t){return 1===t/Math.pow(10,S_(t))}function C_(t,e,n){const i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function T_(t,e){let{min:n,max:i}=e;n=em(t.min,n);const r=[],s=S_(n);let o=function(t,e){let n=S_(e-t);for(;C_(t,e,n)>10;)n++;for(;C_(t,e,n)<10;)n--;return Math.min(n,S_(t))}(n,i),a=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),c=s>o?Math.pow(10,s):0,u=Math.round((n-c)*a)/a,h=Math.floor((n-c)/l/10)*l*10;let d=Math.floor((u-h)/Math.pow(10,o)),f=em(t.min,Math.round((c+h+d*Math.pow(10,o))*a)/a);for(;f<i;)r.push({value:f,major:E_(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,a=o>=0?1:a),f=Math.round((c+h+d*Math.pow(10,o))*a)/a;const p=em(t.max,f);return r.push({value:p,major:E_(p),significand:d}),r}class D_ extends mx{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=w_.prototype.parse.apply(this,[t,e]);if(0!==n)return tm(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=tm(t)?Math.max(0,t):null,this.max=tm(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!tm(this._userMin)&&(this.min=t===k_(this.min,0)?k_(this.min,-1):k_(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,i=this.max;const r=e=>n=t?n:e,s=t=>i=e?i:t;n===i&&(n<=0?(r(1),s(10)):(r(k_(n,-1)),s(k_(i,1)))),n<=0&&r(k_(i,-1)),i<=0&&s(k_(n,1)),this.min=n,this.max=i}buildTicks(){const t=this.options,e=T_({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&Am(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":hv(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Tm(t),this._valueRange=Tm(this.max)-Tm(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Tm(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function M_(t){const e=t.ticks;if(e.display&&t.display){const t=Uv(e.backdropPadding);return nm(e.font&&e.font.size,bv.font.size)+t.height}return 0}function I_(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function N_(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?bm/s:0;for(let h=0;h<s;h++){const s=o.setContext(t.getPointLabelContext(h));r[h]=s.padding;const d=t.getPointPosition(h,t.drawingArea+r[h],a),f=Hv(s.font),p=(l=t.ctx,c=f,u=Jg(u=t._pointLabels[h])?u:[u],{w:wv(l,c.string,u),h:u.length*c.lineHeight});i[h]=p;const g=Vm(t.getIndexAngle(h)+a),m=Math.round(Rm(g));A_(n,e,g,I_(m,d.x,p.w,0,180),I_(m,d.y,p.h,90,270))}var l,c,u;t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=function(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:M_(s)/2,additionalAngle:o?bm/r:0};let c;for(let u=0;u<r;u++){l.padding=n[u],l.size=e[u];const r=P_(t,u,l);i.push(r),"auto"===a&&(r.visible=R_(r,c),r.visible&&(c=r))}return i}(t,i,r)}function A_(t,e,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function P_(t,e,n){const i=t.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,i+r+o,s),c=Math.round(Rm(Vm(l.angle+km))),u=function(t,e,n){90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e);return t}(l.y,a.h,c),h=function(t){if(0===t||180===t)return"center";if(t<180)return"left";return"right"}(c),d=function(t,e,n){"right"===n?t-=e:"center"===n&&(t-=e/2);return t}(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function R_(t,e){if(!e)return!0;const{left:n,top:i,right:r,bottom:s}=t;return!(Cv({x:n,y:i},e)||Cv({x:n,y:s},e)||Cv({x:r,y:i},e)||Cv({x:r,y:s},e))}function O_(t,e,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=e;if(!Xg(a)){const n=Bv(e.borderRadius),l=Uv(e.backdropPadding);t.fillStyle=a;const c=i-l.left,u=r-l.top,h=s-i+l.width,d=o-r+l.height;Object.values(n).some((t=>0!==t))?(t.beginPath(),Rv(t,{x:c,y:u,w:h,h:d,radius:n}),t.fill()):t.fillRect(c,u,h,d)}}function L_(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,xm);else{let n=t.getPointPosition(0,e);r.moveTo(n.x,n.y);for(let s=1;s<i;s++)n=t.getPointPosition(s,e),r.lineTo(n.x,n.y)}}gg(D_,"id","logarithmic"),gg(D_,"defaults",{ticks:{callback:fv.formatters.logarithmic,major:{enabled:!0}}});class j_ extends w_{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Uv(M_(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=tm(t)&&!isNaN(t)?t:0,this.max=tm(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/M_(this.options))}generateTickLabels(t){w_.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const n=rm(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?N_(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,i))}getIndexAngle(t){return Vm(t*(xm/(this._pointLabels.length||1))+Pm(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(Xg(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Xg(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return function(t,e,n){return qv(t,{label:n,index:e,type:"pointLabel"})}(this.getContext(),t,n)}}getPointPosition(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.getIndexAngle(t)-km+n;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:i,bottom:r}=this._pointLabelItems[t];return{left:e,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),L_(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:i,border:r}=e,s=this._pointLabels.length;let o,a,l;if(e.pointLabels.display&&function(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const e=t._pointLabelItems[r];if(!e.visible)continue;const s=i.setContext(t.getPointLabelContext(r));O_(n,s,e);const o=Hv(s.font),{x:a,y:l,textAlign:c}=e;Pv(n,t._pointLabels[r],a,l+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}(this,s),i.display&&this.ticks.forEach(((t,e)=>{if(0!==e||0===e&&this.min<0){a=this.getDistanceFromCenterForValue(t.value);const n=this.getContext(e),o=i.setContext(n),l=r.setContext(n);!function(t,e,n,i,r){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),L_(t,n,o,i),s.closePath(),s.stroke(),s.restore())}(this,o,a,s,l)}})),n.display){for(t.save(),o=s-1;o>=0;o--){const i=n.setContext(this.getPointLabelContext(o)),{color:r,lineWidth:s}=i;s&&r&&(t.lineWidth=s,t.strokeStyle=r,t.setLineDash(i.borderDash),t.lineDashOffset=i.borderDashOffset,a=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((i,o)=>{if(0===o&&this.min>=0&&!e.reverse)return;const a=n.setContext(this.getContext(o)),l=Hv(a.font);if(r=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){t.font=l.string,s=t.measureText(i.label).width,t.fillStyle=a.backdropColor;const e=Uv(a.backdropPadding);t.fillRect(-s/2-e.left,-r-l.size/2-e.top,s+e.width,l.size+e.height)}Pv(t,i.label,0,-r,l,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})})),t.restore()}drawTitle(){}}gg(j_,"id","radialLinear"),gg(j_,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:fv.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),gg(j_,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),gg(j_,"descriptors",{angleLines:{_fallback:"grid"}});const F_={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},V_=Object.keys(F_);function z_(t,e){return t-e}function B_(t,e){if(Xg(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return"function"===typeof i&&(o=i(o)),tm(o)||(o="string"===typeof i?n.parse(o,i):n.parse(o)),null===o?null:(r&&(o="week"!==r||!Nm(s)&&!0!==s?n.startOf(o,r):n.startOf(o,"isoWeek",s)),+o)}function U_(t,e,n,i){const r=V_.length;for(let s=V_.indexOf(t);s<r-1;++s){const t=F_[V_[s]],r=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(r*t.size))<=i)return V_[s]}return V_[r-1]}function H_(t,e,n){if(n){if(n.length){const{lo:i,hi:r}=Hm(n,e);t[n[i]>=e?n[i]:n[r]]=!0}}else t[e]=!0}function W_(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return 0!==s&&n?function(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}(t,i,r,n):i}class q_ extends mx{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.time||(t.time={}),i=this._adapter=new _b(t.adapters.date);i.init(e),hm(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:B_(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:i,max:r,minDefined:s,maxDefined:o}=this.getUserBounds();function a(t){s||isNaN(t.min)||(i=Math.min(i,t.min)),o||isNaN(t.max)||(r=Math.max(r,t.max))}s&&o||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),i=tm(i)&&!isNaN(i)?i:+e.startOf(Date.now(),n),r=tm(r)&&!isNaN(r)?r:+e.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,s=function(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}(i,r,this.max);return this._unit=e.unit||(n.autoSkip?U_(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(t,e,n,i,r){for(let s=V_.length-1;s>=V_.indexOf(n);s--){const n=V_[s];if(F_[n].common&&t._adapter.diff(r,i,n)>=e-1)return n}return V_[n?V_.indexOf(n):0]}(this,s.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(t){for(let e=V_.indexOf(t)+1,n=V_.length;e<n;++e)if(F_[V_[e]].common)return V_[e]}(this._unit):void 0,this.initOffsets(i),t.reverse&&s.reverse(),W_(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(){let t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=0,r=0;this.options.offset&&n.length&&(t=this.getDecimalForValue(n[0]),i=1===n.length?1-t:(this.getDecimalForValue(n[1])-t)/2,e=this.getDecimalForValue(n[n.length-1]),r=1===n.length?e:(e-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;i=Bm(i,0,s),r=Bm(r,0,s),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const t=this._adapter,e=this.min,n=this.max,i=this.options,r=i.time,s=r.unit||U_(r.minUnit,e,n,this._getLabelCapacity(e)),o=nm(i.ticks.stepSize,1),a="week"===s&&r.isoWeekday,l=Nm(a)||!0===a,c={};let u,h,d=e;if(l&&(d=+t.startOf(d,"isoWeek",a)),d=+t.startOf(d,l?"day":s),t.diff(n,e,s)>1e5*o)throw new Error(e+" and "+n+" are too far apart with stepSize of "+o+" "+s);const f="data"===i.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+t.add(u,o,s),h++)H_(c,u,f);return u!==n&&"ticks"!==i.bounds&&1!==h||H_(c,u,f),Object.keys(c).sort(z_).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const n=this.options.time.displayFormats,i=this._unit,r=e||n[i];return this._adapter.format(t,r)}_tickFormatFunction(t,e,n,i){const r=this.options,s=r.ticks.callback;if(s)return rm(s,[t,e,n],this);const o=r.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],h=n[e],d=l&&u&&h&&h.major;return this._adapter.format(t,i||(d?u:c))}generateTickLabels(t){let e,n,i;for(e=0,n=t.length;e<n;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,i=Pm(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(i),s=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*r+o*s,h:n*s+o*r}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,i=n[e.unit]||n.millisecond,r=this._tickFormatFunction(t,0,W_(this,[t],this._majorUnit),i),s=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,e=i.length;t<e;++t)n=n.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const i=this.getLabels();for(e=0,n=i.length;e<n;++e)t.push(B_(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Gm(t.sort(z_))}}function K_(t,e,n){let i,r,s,o,a=0,l=t.length-1;n?(e>=t[a].pos&&e<=t[l].pos&&({lo:a,hi:l}=Wm(t,"pos",e)),({pos:i,time:s}=t[a]),({pos:r,time:o}=t[l])):(e>=t[a].time&&e<=t[l].time&&({lo:a,hi:l}=Wm(t,"time",e)),({time:i,pos:s}=t[a]),({time:r,pos:o}=t[l]));const c=r-i;return c?s+(o-s)*(e-i)/c:s}gg(q_,"id","time"),gg(q_,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class Q_ extends q_{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=K_(e,this.min),this._tableRange=K_(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,i=[],r=[];let s,o,a,l,c;for(s=0,o=t.length;s<o;++s)l=t[s],l>=e&&l<=n&&i.push(l);if(i.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(s=0,o=i.length;s<o;++s)c=i[s+1],a=i[s-1],l=i[s],Math.round((c+a)/2)!==l&&r.push({time:l,pos:s/(o-1)});return r}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return n.includes(t)&&n.length||n.splice(0,0,t),n.includes(e)&&1!==n.length||n.push(e),n.sort(((t,e)=>t-e))}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(K_(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return K_(this._table,n*this._tableRange+this._minPos,!0)}}gg(Q_,"id","timeseries"),gg(Q_,"defaults",q_.defaults);const G_=[bb,yw,g_,Object.freeze({__proto__:null,CategoryScale:y_,LinearScale:__,LogarithmicScale:D_,RadialLinearScale:j_,TimeScale:q_,TimeSeriesScale:Q_})];Qx.register(...G_);const Y_=Qx,$_=()=>{const[t,n]=(0,e.useState)([]),[i,r]=(0,e.useState)(null),s=X().state.Rol,o=Z();(0,e.useEffect)((()=>{a()}),[]);const a=async()=>{const t=Uf(Kp,"Reportes"),e=(await zp(t)).docs.map((t=>t.data()));n(e),l(e)},l=t=>{let e=0,n=0,i=0,s=0;t.forEach((t=>{e+=t.HectareasFumigadas.total,n+=t.Servicios.finalizados,i+=t.Costos.promedioColones,s+=t.Costos.promedioDolares})),r({totalHectareas:e,totalServicios:n,totalCostosColon:i,totalCostosDolar:s})},c=(t,e,n)=>[{type:"bar",elementId:"chartBar".concat(t),data:{labels:e,datasets:[{label:"Cantidad",data:n,backgroundColor:["rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)"],borderColor:["rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]},options:h()},{type:"line",elementId:"chartLine".concat(t),data:{labels:e,datasets:[{label:"Cantidad",data:n,backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1,fill:!0}]},options:h()},{type:"pie",elementId:"chartPie".concat(t),data:{labels:e,datasets:[{label:"Cantidad",data:n,backgroundColor:["rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)"],borderColor:["rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]},options:h()}],u=t=>{t.forEach((t=>{const e=document.getElementById(t.elementId).getContext("2d");new Y_(e,t)}))},h=()=>({responsive:!1,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,type:"logarithmic",ticks:{callback:function(t,e,n){return 10===t||100===t||1e3===t||1e4===t?t:null}}}}});(0,e.useEffect)((()=>{(()=>{const e=["Hect\xe1reas Fumigadas","Servicios Finalizados","Promedio Colones","Promedio Dol\xe1res"];if(t.forEach(((t,n)=>{const i=[t.HectareasFumigadas.total,t.Servicios.finalizados,t.Costos.promedioColones,t.Costos.promedioDolares],r=c(n,e,i);u(r)})),i){const t=[i.totalHectareas,i.totalServicios,i.totalCostosColon,i.totalCostosDolar],n=c("General",e,t);u(n)}})()}),[t,i]);return(0,Gp.jsxs)("div",{className:"fondo-secundario",children:[(0,Gp.jsxs)("div",{className:"contenedor",style:{overflowY:"scroll",height:"90%"},children:[(0,Gp.jsx)("div",{style:{display:"flex",marginTop:600*t.length,alignItems:"center"}}),(0,Gp.jsxs)("div",{style:{display:"flex",flexDirection:"Column",alignItems:"center"},children:[i&&(0,Gp.jsxs)("div",{style:{marginBottom:"60px",width:"100%"},children:[(0,Gp.jsx)("h1",{children:"Informaci\xf3n General"}),(0,Gp.jsx)("body",{style:{marginTop:"4px"},children:"M\xe9tricas de todos los reportes generados"}),(0,Gp.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[(0,Gp.jsxs)("div",{style:{flex:1,margin:"20px"},children:[(0,Gp.jsx)("h4",{children:"Gr\xe1fico de Barras General"}),(0,Gp.jsx)("canvas",{id:"chartBarGeneral",width:"400",height:"400"})]}),(0,Gp.jsxs)("div",{style:{flex:1,margin:"20px"},children:[(0,Gp.jsx)("h4",{children:"Gr\xe1fico Lineal General"}),(0,Gp.jsx)("canvas",{id:"chartLineGeneral",width:"400",height:"400"})]}),(0,Gp.jsxs)("div",{style:{flex:1,margin:"20px"},children:[(0,Gp.jsx)("h4",{children:"Gr\xe1fico Circular General"}),(0,Gp.jsx)("canvas",{id:"chartPieGeneral",width:"400",height:"400"})]})]})]}),t.map(((t,e)=>(0,Gp.jsxs)("div",{style:{marginBottom:"60px",width:"100%"},children:[(0,Gp.jsx)("h3",{children:t.NombreReporte}),(0,Gp.jsx)("body",{style:{marginTop:"4px"},children:"M\xe9trica por reporte de manera individual"}),(0,Gp.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[(0,Gp.jsxs)("div",{style:{flex:1,margin:"20px"},children:[(0,Gp.jsx)("h4",{children:"Gr\xe1fico de Barras"}),(0,Gp.jsx)("canvas",{id:"chartBar".concat(e),width:"400",height:"400"})]}),(0,Gp.jsxs)("div",{style:{flex:1,margin:"20px"},children:[(0,Gp.jsx)("h4",{children:"Gr\xe1fico Lineal"}),(0,Gp.jsx)("canvas",{id:"chartLine".concat(e),width:"400",height:"400"})]}),(0,Gp.jsxs)("div",{style:{flex:1,margin:"20px"},children:[(0,Gp.jsx)("h4",{children:"Gr\xe1fico Circular"}),(0,Gp.jsx)("canvas",{id:"chartPie".concat(e),width:"400",height:"400"})]})]})]},e)))]})]}),(0,Gp.jsx)("div",{className:"contenedor-botones",style:{display:"flex",justifyContent:"center",marginBottom:"20px",position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)"},children:(0,Gp.jsx)("button",{className:"btn_secundario",onClick:()=>{o("/".concat(s,"/pagina-principal"),{state:{Rol:s}})},children:"Volver a la P\xe1gina Principal"})}),(0,Gp.jsx)("div",{className:"logo-container",children:(0,Gp.jsx)("img",{src:Qp,alt:"Logo"})})]})};const X_=function(){const t=X().state.Rol,n=Z(),[i,r]=(0,e.useState)([]),[s,o]=(0,e.useState)("");(0,e.useEffect)((()=>{a()}),[]);const a=async()=>{const t=Uf(Kp,"Reportes"),e=(await zp(t)).docs.map((t=>({id:t.id,...t.data()})));r(e)},l=i.filter((t=>{if(!s)return!0;return Number(t.Fecha.split("-")[1])===Number(s)}));return(0,Gp.jsxs)("div",{className:"fondo-secundario",children:[(0,Gp.jsx)("div",{className:"contenedor",children:(0,Gp.jsx)("div",{className:"contenedor-secundario",children:(0,Gp.jsxs)("div",{className:"columna",children:[(0,Gp.jsx)("h1",{children:"Analista"}),(0,Gp.jsx)("body",{style:{margin:0},children:"Seleccione un reporte"}),(0,Gp.jsx)("br",{}),(0,Gp.jsx)("br",{}),(0,Gp.jsxs)("select",{value:s,onChange:t=>o(t.target.value),children:[(0,Gp.jsx)("option",{value:"",children:"Todos los meses"}),["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"].map(((t,e)=>(0,Gp.jsx)("option",{value:e+1,children:t},e)))]}),(0,Gp.jsx)("div",{className:"contenedor-items",children:(0,Gp.jsx)("ul",{children:l.length>0?l.map((e=>(0,Gp.jsxs)("li",{onClick:()=>(e=>{n("/analista/reportes-detalle",{state:{Rol:t,reporte:e}})})(e),children:["Reporte: ",e.NombreReporte," (",e.Fecha,")"]},e.id))):(0,Gp.jsx)("p",{style:{textAlign:"center",color:"red",background:"none",border:"none",marginBottom:"50px",marginTop:"70px"},children:"No hay reportes existentes"})})}),(0,Gp.jsx)("div",{className:"contenedor-botones",children:(0,Gp.jsx)("button",{className:"btn_secundario",onClick:()=>{n("/analista/pagina-principal",{state:{Rol:t}})},children:"Volver a la P\xe1gina Principal"})})]})})}),(0,Gp.jsx)("div",{className:"logo-container",children:(0,Gp.jsx)("img",{src:Qp,alt:"Logo"})})]})};const J_=function(){const t=X(),e=t.state.Rol,n=t.state.reporte,i=Z(),r=()=>{i("/".concat(e,"/reportes"),{state:{Rol:e}})};return console.log("Reporte: ",n),(0,Gp.jsxs)("div",{className:"fondo-secundario",children:[(0,Gp.jsx)("div",{className:"contenedor",children:(0,Gp.jsxs)("div",{className:"contenedor-terciario",children:[(0,Gp.jsxs)("h1",{children:["Detalle del Reporte ",(0,Gp.jsx)("br",{})," ",n.Fecha]}),(0,Gp.jsx)("div",{className:"contenedor-scroll",children:(0,Gp.jsx)("div",{className:"columna",children:(0,Gp.jsx)("div",{className:"input-contenedor",children:(0,Gp.jsxs)("div",{className:"fila",children:[(0,Gp.jsxs)("div",{className:"columna-detalle",children:[(0,Gp.jsxs)("p",{children:[(0,Gp.jsx)("strong",{children:"Nombre del Reporte:"})," ",n.NombreReporte]}),(0,Gp.jsxs)("p",{children:[(0,Gp.jsx)("strong",{children:"Descripci\xf3n:"})," ",n.Descripcion]}),(0,Gp.jsx)("p",{children:(0,Gp.jsx)("strong",{children:"Costos:"})}),(0,Gp.jsxs)("ul",{children:[(0,Gp.jsxs)("li",{children:["Promedio en Colones: ",n.Costos.promedioColones]}),(0,Gp.jsxs)("li",{children:["Promedio en D\xf3lares: ",n.Costos.promedioDolares]})]}),(0,Gp.jsx)("p",{children:(0,Gp.jsx)("strong",{children:"Hect\xe1reas Fumigadas:"})}),(0,Gp.jsxs)("ul",{children:[(0,Gp.jsxs)("li",{children:["Promedio: ",n.HectareasFumigadas.promedio]}),(0,Gp.jsxs)("li",{children:["Total: ",n.HectareasFumigadas.total]})]})]}),(0,Gp.jsxs)("div",{className:"columna-detalle",children:[(0,Gp.jsx)("p",{children:(0,Gp.jsx)("strong",{children:"Servicios:"})}),(0,Gp.jsxs)("ul",{children:[(0,Gp.jsxs)("li",{children:["Finalizados: ",n.Servicios.finalizados]}),(0,Gp.jsxs)("li",{children:["En Proceso: ",n.Servicios.enProceso]}),(0,Gp.jsxs)("li",{children:["Sin Iniciar: ",n.Servicios.sinIniciar]}),(0,Gp.jsxs)("li",{children:["Tipo M\xe1s Frecuente: ",n.Servicios.tipoMasFrecuente]})]}),(0,Gp.jsx)("p",{children:(0,Gp.jsx)("strong",{children:"Top 3 Clientes:"})}),(0,Gp.jsx)("ul",{children:n.Top3Clientes.map(((t,e)=>(0,Gp.jsxs)("li",{children:["Nombre: ",t.nombre,", C\xe9dula: ",t.cedula,", Conteo: ",t.conteo]},e)))}),(0,Gp.jsx)("p",{children:(0,Gp.jsx)("strong",{children:"Top 3 Drones:"})}),(0,Gp.jsx)("ul",{children:n.Top3Drones.map(((t,e)=>(0,Gp.jsxs)("li",{children:["Matr\xedcula: ",t.matricula,", Conteo: ",t.conteo]},e)))})]})]})})})}),(0,Gp.jsxs)("div",{className:"contenedor-botones",children:[(0,Gp.jsx)("button",{className:"btn_principal",onClick:()=>{alert("Reporte eliminado con \xe9xito"),r()},children:"Eliminar"}),(0,Gp.jsx)("button",{className:"btn_secundario",onClick:r,children:"Atr\xe1s"})]})]})}),(0,Gp.jsx)("div",{className:"logo-container",children:(0,Gp.jsx)("img",{src:Qp,alt:"Logo"})})]})};const Z_=function(){return(0,Gp.jsx)(vt,{basename:"/agrohawkweb",children:(0,Gp.jsxs)(pt,{children:[(0,Gp.jsx)(dt,{path:"/",element:(0,Gp.jsx)(Yp,{})}),(0,Gp.jsx)(dt,{path:"/registrarCuenta",element:(0,Gp.jsx)($p,{})}),(0,Gp.jsx)(dt,{path:"/administrador/pagina-principal",element:(0,Gp.jsx)(Xp,{})}),(0,Gp.jsx)(dt,{path:"/tecnico/pagina-principal",element:(0,Gp.jsx)(Jp,{})}),(0,Gp.jsx)(dt,{path:"/analista/pagina-principal",element:(0,Gp.jsx)(Zp,{})}),(0,Gp.jsx)(dt,{path:"/administrador/registrar-cliente",element:(0,Gp.jsx)(tg,{})}),(0,Gp.jsx)(dt,{path:"/administrador/buscar-servicios",element:(0,Gp.jsx)(lg,{})}),(0,Gp.jsx)(dt,{path:"/administrador/buscar/servicios",element:(0,Gp.jsx)(ug,{})}),(0,Gp.jsx)(dt,{path:"/administrador/buscar/servicios-detalle",element:(0,Gp.jsx)(hg,{})}),(0,Gp.jsx)(dt,{path:"/administrador/buscar-cliente",element:(0,Gp.jsx)(eg,{})}),(0,Gp.jsx)(dt,{path:"/administrador/buscar/cliente-detalle",element:(0,Gp.jsx)(ng,{})}),(0,Gp.jsx)(dt,{path:"/tecnico/buscar-servicios",element:(0,Gp.jsx)(lg,{})}),(0,Gp.jsx)(dt,{path:"/tecnico/buscar/servicios",element:(0,Gp.jsx)(ug,{})}),(0,Gp.jsx)(dt,{path:"/tecnico/buscar/servicios-detalle",element:(0,Gp.jsx)(hg,{})}),(0,Gp.jsx)(dt,{path:"/tecnico/registrar-servicio",element:(0,Gp.jsx)(ag,{})}),(0,Gp.jsx)(dt,{path:"/tecnico/modificar-servicios",element:(0,Gp.jsx)(lg,{})}),(0,Gp.jsx)(dt,{path:"/tecnico/modificar/servicios",element:(0,Gp.jsx)(ug,{})}),(0,Gp.jsx)(dt,{path:"/tecnico/modificar/servicios-detalle",element:(0,Gp.jsx)(hg,{})}),(0,Gp.jsx)(dt,{path:"/analista/estadisticas-generales",element:(0,Gp.jsx)($_,{})}),(0,Gp.jsx)(dt,{path:"/analista/reportes",element:(0,Gp.jsx)(X_,{})}),(0,Gp.jsx)(dt,{path:"/analista/reportes-detalle",element:(0,Gp.jsx)(J_,{})}),(0,Gp.jsx)(dt,{path:"/analista/generar-reporte",element:(0,Gp.jsx)(dg,{})})]})})};r.createRoot(document.getElementById("root")).render((0,Gp.jsx)(e.StrictMode,{children:(0,Gp.jsx)(Z_,{})}))})()})();
//# sourceMappingURL=main.0a576218.js.map